/*! For license information please see main.7a44aff6.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},418:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:o=!0,maxWait:a}=n,s=Array(2);let l;i&&(s[0]="leading"),o&&(s[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:s}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=a&&(null===c&&(c=Date.now()),Date.now()-c>=a)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(418),i=n(3272);t.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"===typeof e)return[e];const t=[],n=(e=r.toString(e)).length;if(0===n)return t;let o=0,a="",s="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),o++);o<n;){const r=e[o];s?"\\"===r&&o+1<n?(o++,a+=e[o]):r===s?s="":a+=r:l?'"'===r||"'"===r?s=r:"]"===r?(l=!1,t.push(a),a=""):a+=r:"["===r?(l=!0,a&&(t.push(a),a="")):"."===r?a&&(t.push(a),a=""):a+=r,o++}return a&&t.push(a),t}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),i=n(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(870),o=n(4803),a=n(9972);function s(e,t,n,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return l(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,o]of t.entries()){if(!1===n(e.get(i),o,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(null!==r&&void 0!==r&&r.has(t))return r.get(t)===e;null===r||void 0===r||r.set(t,e);try{for(let a=0;a<i.length;a++){const s=i[a];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{null===r||void 0===r||r.delete(t)}}(e,t,n,u);case"function":return Object.keys(t).length>0?s(e,r({},t),n,u):a.eq(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:a.eq(e,t)}}function l(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let o=0;o<t.length;o++){const a=t[o];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],a,o,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&l([...e],[...t],n,r)}t.isMatchWith=function e(t,n,r){return"function"!==typeof r?e(t,n,()=>{}):s(t,n,function e(t,n,i,o,a,l){const c=r(t,n,i,o,a,l);return void 0!==c?Boolean(c):s(t,n,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),i=n(7312),o=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const s=n.length;return s>1&&o.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&o.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),a(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),i=n(7330),o=n(3808),a=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?a.matchesProperty(e[0],e[1]):o.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case k:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Oe(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Ie(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){je=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){je=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Ue=null,ze={onError:function(e){Re=!0,Le=e}};function Ve(e,t,n,r,i,o,a,s,l){Re=!1,Le=null,Me.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,St,Et,kt,Ot=!1,Tt=[],Ct=null,It=null,At=null,Nt=new Map,Pt=new Map,jt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Ot=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),Nt.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==It&&Vt(It,e),null!==At&&Vt(At,e),Nt.forEach(t),Pt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Lt(n),null===n.blockedOn&&jt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Rt(Ct,e,t,n,r,i),!0;case"dragenter":return It=Rt(It,e,t,n,r,i),!0;case"mouseover":return At=Rt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Rt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Rt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(L({},fn,{dataTransfer:0})),mn=on(L({},dn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return En}var On=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(On),Cn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Nn),jn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Oe(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,xe(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function kr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Or=kr("animationend"),Tr=kr("animationiteration"),Cr=kr("animationstart"),Ir=kr("transitionend"),Ar=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var jr=0;jr<Nr.length;jr++){var Dr=Nr[jr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Or,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne(function(){var r=o,i=xe(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Or:case Tr:case Cr:l=vn;break;case Ir:l=An;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Pe(p,h))&&u.push(Kr(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,g=h;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,s,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Xn;else if(Hn(s))if($n)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Kn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,o))&&a.unshift(Kr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Kr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var _i=[],Si=-1;function Ei(e){return{current:e}}function ki(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Oi(e,t){Si++,_i[Si]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ii=Ei(!1),Ai=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){ki(Ii),ki(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(o(168));Oi(Ci,t),Oi(Ii,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Oi(Ci,e),Oi(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,ki(Ii),ki(Ci),Oi(Ci,e)):ki(Ii),Oi(Ii,n)}var Fi=null,Ui=!1,zi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var qi=[],Hi=0,Ki=null,Wi=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Hi++]=Wi,qi[Hi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Xi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&Ji(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),io&&Ji(i,g),c}function m(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Ji(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach(function(e){return t(i,e)}),io&&Ji(i,m),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case _:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(M(a))return m(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),_o=wo(!1),So=Ei(null),Eo=null,ko=null,Oo=null;function To(){Oo=ko=Eo=null}function Co(e){var t=So.current;ki(So),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){Eo=e,Oo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(Oo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===Eo)throw Error(o(308));ko=e,Eo.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var Po=null;function jo(e){null===Po?Po=[e]:Po.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,jo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,jo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ko={},Wo=Ei(Ko),Go=Ei(Ko),Qo=Ei(Ko);function Yo(e){if(e===Ko)throw Error(o(174));return e}function Xo(e,t){switch(Oi(Qo,t),Oi(Go,e),Oi(Wo,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Wo),Oi(Wo,t)}function $o(){ki(Wo),ki(Go),ki(Qo)}function Jo(e){Yo(Qo.current);var t=Yo(Wo.current),n=le(t,e.type);t!==n&&(Oi(Go,e),Oi(Wo,n))}function Zo(e){Go.current===e&&(ki(Wo),ki(Go))}var ea=Ei(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ea(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ra(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Na(9,Oa.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&aa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ia(e)}function Ta(e,t,n){return n(function(){Ca(t)&&Ia(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ia(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Aa(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ba().memoizedState}function ja(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Na(t,n,o,r))}sa.flags|=e,i.memoizedState=Na(1|t,n,o,r)}function Ma(e,t){return ja(8390656,8,e,t)}function Ra(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ua.bind(null,t,e),n)}function Va(){}function Ba(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),sa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ka(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Wa(){return ba().memoizedState}function Ga(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Xa(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),$a(n,t,r)}}function Qa(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Xa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,jo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),$a(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Xa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:No,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:No,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Aa,useDebugValue:Va,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Ka.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&aa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Il.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:No,useCallback:Ba,useContext:No,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:xa,useRef:Pa,useState:function(){return xa(wa)},useDebugValue:Va,useDeferredValue:function(e){return Ha(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:No,useCallback:Ba,useContext:No,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:_a,useRef:Pa,useState:function(){return _a(wa)},useDebugValue:Va,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[_a(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=Pi(t)?Ai:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=Pi(t)?Ai:Ci.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),ds(0,t)},n}function ps(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?_o(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Ao(t,i),r=ma(e,t,n,r,o,i),n=va(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=jc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Os(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oi(jl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oi(jl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Oi(jl,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oi(jl,Pl),Pl|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,i){var o=Pi(n)?Ai:Ci.current;return o=Ni(t,o),Ao(t,i),n=ma(e,t,n,r,o,i),r=va(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Pi(n)){var o=!0;Ri(t)}else o=!1;if(Ao(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=No(c):c=Ni(t,c=Pi(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Ro=!1;var h=t.memoizedState;a.state=h,qo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ii.current||Ro?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ro||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Ni(t,l=Pi(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Ro=!1,h=t.memoizedState,a.state=h,qo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ii.current||Ro?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Ro||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Hs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xo(e,t.containerInfo)}function As(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,Ps,js,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Oi(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Il)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),nc(r,e,i,-1))}return gc(),Us(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=jc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=jc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=jc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&go(r),xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oi(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Pi(t.type)&&ji(),Ws(t),null;case 3:return r=t.stateNode,$o(),ki(Ii),ki(Ci),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ps(e,t),Ws(t),null;case 5:Zo(t);var i=Yo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)js(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=Yo(Wo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Qo.current),Yo(Wo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(ki(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return $o(),Ps(e,t),null===e&&Br(t.stateNode.containerInfo),Ws(t),null;case 10:return Co(t.type._context),Ws(t),null;case 19:if(ki(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ks(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ks(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oi(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Bl&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ws(t),null}else 2*$e()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ea.current,Oi(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),ki(Ii),ki(Ci),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ki(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ea),null;case 4:return $o(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},js=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Wo.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hl(e,t,n),Xs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Ec(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){Ec(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ec(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,gl(t,e),Xs=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Js=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=a,(Xs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Js=l):_l(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Ys=s,Xs=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,El=Math.ceil,kl=w.ReactCurrentDispatcher,Ol=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Cl=0,Il=null,Al=null,Nl=0,Pl=0,jl=Ei(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Ul=null,zl=null,Vl=0,Bl=1/0,ql=null,Hl=!1,Kl=null,Wl=null,Gl=!1,Ql=null,Yl=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Cl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Nl?Nl&-Nl:null!==mo.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(o(185));vt(e,n,r),0!==(2&Cl)&&e===Il||(e===Il&&(0===(2&Cl)&&(Ll|=n),4===Dl&&sc(e,Nl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=$e()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Il?Nl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),ai(function(){0===(6&Cl)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(o(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cl;Cl|=2;var a=pc();for(Il===e&&Nl===t||(ql=null,Bl=$e()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}To(),kl.current=a,Cl=i,null!==Al?t=0:(Il=null,Nl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,zl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zl,ql),t);break}xc(e,zl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zl,ql),r);break}xc(e,zl,ql);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(o(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,ql),rc(e,$e()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=$e()+500,Ui&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Cl)&&_c();var t=Cl;Cl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Cl=t))&&Bi()}}function dc(){Pl=jl.current,ki(jl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:$o(),ki(Ii),ki(Ci),ra();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:ki(ea);break;case 10:Co(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Al=e=jc(e.current,null),Nl=Pl=t,Dl=0,Ml=null,Fl=Ll=Rl=0,zl=Ul=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function fc(e,t){for(;;){var n=Al;try{if(To(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Ol.current=null,null===n||null===n.return){Dl=1,Ml=t,Al=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&gs(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),go(cs(c,l));break e}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,fs(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Ja,null===e?Ja:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Il||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Il,Nl)}function mc(e,t){var n=Cl;Cl|=2;var r=pc();for(Il===e&&Nl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(To(),Cl=n,kl.current=r,null!==Al)throw Error(o(261));return Il=null,Nl=0,Dl}function vc(){for(;null!==Al;)bc(Al)}function yc(){for(;null!==Al&&!Ye();)bc(Al)}function bc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Ol.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Pl)))return void(Al=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Ql);if(0!==(6&Cl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Il&&(Al=Il=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,function(){return _c(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Cl;Cl|=4,Ol.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Cl=l,bt=s,Tl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function _c(){if(null!==Ql){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Cl))throw Error(o(331));var i=Cl;for(Cl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Ec(l,l.return,_)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Cl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=zo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=zo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Nl&n)===n&&(4===Dl||3===Dl&&(130023424&Nl)===Nl&&500>$e()-Vl?hc(e,0):Fl|=n),rc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Oc(e,n)}function Ic(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Mc(n.children,i,a,t);case E:s=8,i|=8;break;case k:return(e=Nc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case I:return(e=Nc(13,n,t,i)).elementType=I,e.lanes=a,e;case A:return(e=Nc(19,n,t,i)).elementType=A,e.lanes=a,e;case j:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case T:s=9;break e;case C:s=11;break e;case N:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Vc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Bc(e,t,n,r,i,o,a,s,l){return(e=zc(n,r,!0,e,0,o,0,s,l)).context=Vc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,a))&&(nc(e,i,a,o),Vo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),po();break;case 5:Jo(t);break;case 1:Pi(t.type)&&Ri(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Oi(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oi(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Oi(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);Oi(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oi(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Ao(t,n),i=ma(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Oi(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ii.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Uo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Io(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ao(t,n),r=r(i=No(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),_s(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Pi(r)?(e=!0,Ri(t)):e=!1,Ao(t,n),as(t,r,i),ls(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&Cl)&&(Bl=$e()+500,Bi()))}break;case 13:uc(function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Oe,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2897:(e,t,n)=>{var r=n(3693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),i=n(1203),o=n(870),a=n(9972);t.isIterateeCall=function(e,t,n){return!!o.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&a.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+C(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(O(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+C(s=e[c],c);l+=I(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=I(s=s.value,t,i,u=o+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},j={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:j,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],o=t(i);n.has(o)||n.set(o,i)}return Array.from(n.values())}},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null;const a=null!=i&&i.includes("leading"),s=null==i||i.includes("trailing"),l=()=>{null!==o&&(e.apply(n,o),n=void 0,o=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,o=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o=t;const s=null==c;u(),a&&s&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),i=n(9599),o=n(2104),a=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return o.isArrayLikeObject(e)?r.uniqBy(Array.from(e),a.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,g=60122,m=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return w(e)===i}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),i=n(4704),o=n(6321),a=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?a.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||o.isArguments(s))&&i.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),i=n(7043),o=n(1444);t.orderBy=function(e,t,n,a){if(null==e)return[];n=a?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:o.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const o=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==o)return o}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:o=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:o})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),i=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,o,a,s)=>{const l=null===t||void 0===t?void 0:t(n,o,a,s);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),i=n(5990),o=n(7599),a=n(4803),s=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(a.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,o]of e)t.set(i,l(o,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Number){const t=new Number(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof String){const t=new String(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case o.argumentsTag:case o.arrayTag:case o.arrayBufferTag:case o.dataViewTag:case o.booleanTag:case o.dateTag:case o.float32ArrayTag:case o.float64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.mapTag:case o.numberTag:case o.objectTag:case o.regexpTag:case o.setTag:case o.stringTag:case o.symbolTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const a=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<a.length;r++){const s=a[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,i,o))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(o.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),i=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const o=Math.max(Math.ceil((t-e)/(n||1)),0),a=new Array(o);for(let r=0;r<o;r++)a[r]=e,e+=n;return a}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,j(_);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,y(O),O=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,O=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function A(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){v(A,0)};function j(e){k=e,E||(E=!0,S())}function D(e,n){O=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,j(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(O),O=-1):m=!0,D(x,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,j(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let o=0;o<e.length;o++){const a=e[o];Array.isArray(a)&&t<r?i(a,t+1):n.push(a)}};return i(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,g=9007199254740991,m=d(1286742750677284.5),v={};function y(e,t){var n,r,i,o,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?C(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?C(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function w(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=k(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=k(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return x(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return C(x(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return S(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(O(n,a),O(e,a),a),s=!0,C(t,o))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),i)},v.naturalExponential=v.exp=function(){return _(this)},v.naturalLogarithm=v.ln=function(){return O(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):I(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=w(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(x(c,o,a+2)).times(.5),w(o.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(C(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,C(r,n)},v.times=v.mul=function(e){var t,n,r,i,o,a,l,c,u,d=this,h=d.constructor,f=d.d,g=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=g.length)&&(o=f,f=g,g=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+g[r]*f[i-r-1]+t,o[i--]=l%p|0,t=l/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?C(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),C(n,e+S(n)+1,t))},v.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=A(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=A(r=C(new i(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?A(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=A((r=C(new a(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return C(new t(e),S(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,o,a,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return C(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=g){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&N((o=o.times(u)).d,t),0!==(n=d(n/2));)N((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):C(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(O(u,r+12)),s=!0,(o=_(o)).s=a,o},v.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=A(i,(n=S(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=A(i=C(new a(i),e,t),e<=(n=S(i))||n<=a.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=S(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,u,d,h,f,g,m,v,y,b,w,x,_,E,k,O,T,I=r.constructor,A=r.s==i.s?1:-1,N=r.d,P=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,O=P.length,E=N.length,m=(g=new I(A)).d=[],u=0;P[u]==(N[u]||0);)++u;if(P[u]>(N[u]||0)&&--c,(w=null==o?o=I.precision:a?o+(S(r)-S(i))+1:o)<0)return new I(0);if(w=w/7+2|0,u=0,1==O)for(d=0,P=P[0],w++;(u<E||d)&&w--;u++)x=d*p+(N[u]||0),m[u]=x/P|0,d=x%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),N=e(N,d),O=P.length,E=N.length),_=O,y=(v=N.slice(0,O)).length;y<O;)v[y++]=0;(T=P.slice()).unshift(0),k=P[0],P[1]>=p/2&&++k;do{d=0,(s=t(P,v,O,y))<0?(b=v[0],O!=y&&(b=b*p+(v[1]||0)),(d=b/k|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(P,d),v,f=h.length,y=v.length))&&(d--,n(h,O<f?T:P,f))):(0==d&&(s=d=1),h=P.slice()),(f=h.length)<y&&h.unshift(0),n(v,h,y),-1==s&&(s=t(P,v,O,y=v.length))<1&&(d++,n(v,O<y?T:P,y)),y=v.length):0===s&&(d++,v=[0]),m[u++]=d,s&&v[0]?v[y++]=N[_]||0:(v=[N[_]],y=1)}while((_++<E||void 0!==v[0])&&w--)}return m[0]||m.shift(),g.e=c,C(g,a?o+S(g)+1:o)}}();function _(e,t){var n,r,o,a,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),w((a=o.plus(x(r,n,l))).d).slice(0,l)===w(o.d).slice(0,l)){for(;d--;)o=C(o.times(o),l);return f.precision=p,null==t?(s=!0,C(o,p)):o}o=a}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function O(e,t){var n,r,o,a,c,u,d,h,f,p=1,g=e,m=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(l+(g.s?"NaN":"-Infinity"));if(g.eq(i))return new v(0);if(null==t?(s=!1,h=y):h=t,g.eq(10))return null==t&&(s=!0),E(v,h);if(h+=10,v.precision=h,r=(n=w(m)).charAt(0),a=S(g),!(Math.abs(a)<15e14))return d=E(v,h+2,y).times(a+""),g=O(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,C(g,y)):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((g=g.times(e)).d)).charAt(0),p++;for(a=S(g),r>1?(g=new v("0."+n),a++):g=new v(r+"."+n.slice(1)),u=c=g=x(g.minus(i),g.plus(i),h),f=C(g.times(g),h),o=3;;){if(c=C(c.times(f),h),w((d=u.plus(x(c,new v(o),h))).d).slice(0,h)===w(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(E(v,h+2,y).times(a+""))),u=x(u,new v(p),h),v.precision=y,null==t?(s=!0,C(u,y)):u;u=d,o+=2}}function T(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>m||e.e<-m))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,o,a,l,c,f,g,v=e.d;for(a=1,o=v[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=v[g=0];else{if((g=Math.ceil((r+1)/7))>=(o=v.length))return e;for(f=o=v[g],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(o=h(10,a-i-1))%10|0,c=t<0||void 0!==v[g+1]||f%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,a-i):0:v[g-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(o=S(e),v.length=1,t=t-o-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=g,o=1,g--):(v.length=g+1,o=h(10,7-r),v[g]=i>0?(f/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==g){(v[0]+=o)==p&&(v[0]=1,++e.e);break}if(v[g]+=o,v[g]!=p)break;v[g--]=0,o=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>m||e.e<-m))throw Error(u+S(e));return e}function I(e,t){var n,r,i,o,a,l,c,u,d,h,f=e.constructor,g=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?C(t,g):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(g/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?C(t,g):t):new f(0)}function A(e,t,n){var r,i=S(e),o=w(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+k(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+k(-i-1)+o,n&&(r=n-a)>0&&(o+=k(r))):i>=a?(o+=k(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+k(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=k(r))),e.s<0?"-"+o:o}function N(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):T(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);T(t,e)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(3272),o=n(8396),a=n(9323),s=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=o.cloneDeep(t),function(n){const i=a.get(n,e);return void 0===i?s.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),i=n(2489),o=n(3272),a=n(1444);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const o=t[n];return void 0===o?i.isDeepKey(n)?e(t,a.toPath(n),s):s:o}case"number":case"symbol":{"number"===typeof n&&(n=o.toKey(n));const e=t[n];return void 0===e?s:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let o=0;o<t.length;o++){if(null==i)return n;if(r.isUnsafeProperty(t[o]))return n;i=i[t[o]]}if(void 0===i)return n;return i}(t,n,s);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),i=n(8346),o=n(1203);t.last=function(e){if(o.isArrayLike(e))return r.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),o=n(t);if(i===o&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?o-i:i-o}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=a(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>lb,scaleDiverging:()=>nE,scaleDivergingLog:()=>rE,scaleDivergingPow:()=>oE,scaleDivergingSqrt:()=>aE,scaleDivergingSymlog:()=>iE,scaleIdentity:()=>Xw,scaleImplicit:()=>ab,scaleLinear:()=>Yw,scaleLog:()=>ox,scaleOrdinal:()=>sb,scalePoint:()=>ub,scalePow:()=>px,scaleQuantile:()=>Ox,scaleQuantize:()=>Tx,scaleRadial:()=>vx,scaleSequential:()=>YS,scaleSequentialLog:()=>XS,scaleSequentialPow:()=>JS,scaleSequentialQuantile:()=>eE,scaleSequentialSqrt:()=>ZS,scaleSequentialSymlog:()=>$S,scaleSqrt:()=>gx,scaleSymlog:()=>cx,scaleThreshold:()=>Cx,scaleTime:()=>KS,scaleUtc:()=>WS,tickFormat:()=>Gw});var t=n(5043),r=n.t(t,2),i=n(4391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new h;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){return function(e){const t=u(e);return d.encodeByteArray(t,!0)}(e).replace(/\./g,"")},p=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const g=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,m=()=>{try{return g()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&p(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{var t,n;return null===(n=null===(t=m())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},y=()=>{var e;return null===(e=m())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=m())||void 0===t?void 0:t["_".concat(e)]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){return!function(){var e;const t=null===(e=m())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){try{return"object"===typeof indexedDB}catch(e){return!1}}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k.prototype.create)}}class k{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(O,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new E(n,o,t)}}const O=/\{\$([^}]+)}/g;function T(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(C(n)&&C(o)){if(!T(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C(e){return null!==e&&"object"===typeof e}function I(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function A(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function N(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class P{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=j),void 0===r.error&&(r.error=j),void 0===r.complete&&(r.complete=j);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j(){}function D(e){return e&&e._delegate?e._delegate:e}class M{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const R="[DEFAULT]";class L{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new w;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:R})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===R?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.component?this.component.multipleInstances?e:R:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new L(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const U=[];var z;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(z||(z={}));const V={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},B=z.INFO,q={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},H=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=q[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class K{constructor(e){this.name=e,this._logLevel=B,this._logHandler=H,this._userLogHandler=null,U.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in z))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...t),this._logHandler(this,z.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...t),this._logHandler(this,z.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,z.INFO,...t),this._logHandler(this,z.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,z.WARN,...t),this._logHandler(this,z.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,z.ERROR,...t),this._logHandler(this,z.ERROR,...t)}}let W,G;const Q=new WeakMap,Y=new WeakMap,X=new WeakMap,$=new WeakMap,J=new WeakMap;let Z={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Y.get(e);if("objectStoreNames"===t)return e.objectStoreNames||X.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ne(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ee(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(re(this),n),ne(Q.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ne(e.apply(re(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(re(this),t,...r);return X.set(o,t.sort?t.sort():[t]),ne(o)}}function te(e){return"function"===typeof e?ee(e):(e instanceof IDBTransaction&&function(e){if(Y.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Y.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Z):e)}function ne(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ne(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Q.set(t,e)}).catch(()=>{}),J.set(t,e),t}(e);if($.has(e))return $.get(e);const t=te(e);return t!==e&&($.set(e,t),J.set(t,e)),t}const re=e=>J.get(e);const ie=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],ae=new Map;function se(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ae.get(t))return ae.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=oe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ie.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return ae.set(t,o),o}Z=(e=>c(c({},e),{},{get:(t,n,r)=>se(t,n)||e.get(t,n,r),has:(t,n)=>!!se(t,n)||e.has(t,n)}))(Z);class le{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ce="@firebase/app",ue="0.10.13",de=new K("@firebase/app"),he="@firebase/app-compat",fe="@firebase/analytics-compat",pe="@firebase/analytics",ge="@firebase/app-check-compat",me="@firebase/app-check",ve="@firebase/auth",ye="@firebase/auth-compat",be="@firebase/database",we="@firebase/data-connect",xe="@firebase/database-compat",_e="@firebase/functions",Se="@firebase/functions-compat",Ee="@firebase/installations",ke="@firebase/installations-compat",Oe="@firebase/messaging",Te="@firebase/messaging-compat",Ce="@firebase/performance",Ie="@firebase/performance-compat",Ae="@firebase/remote-config",Ne="@firebase/remote-config-compat",Pe="@firebase/storage",je="@firebase/storage-compat",De="@firebase/firestore",Me="@firebase/vertexai-preview",Re="@firebase/firestore-compat",Le="firebase",Fe="[DEFAULT]",Ue={[ce]:"fire-core",[he]:"fire-core-compat",[pe]:"fire-analytics",[fe]:"fire-analytics-compat",[me]:"fire-app-check",[ge]:"fire-app-check-compat",[ve]:"fire-auth",[ye]:"fire-auth-compat",[be]:"fire-rtdb",[we]:"fire-data-connect",[xe]:"fire-rtdb-compat",[_e]:"fire-fn",[Se]:"fire-fn-compat",[Ee]:"fire-iid",[ke]:"fire-iid-compat",[Oe]:"fire-fcm",[Te]:"fire-fcm-compat",[Ce]:"fire-perf",[Ie]:"fire-perf-compat",[Ae]:"fire-rc",[Ne]:"fire-rc-compat",[Pe]:"fire-gcs",[je]:"fire-gcs-compat",[De]:"fire-fst",[Re]:"fire-fst-compat",[Me]:"fire-vertex","fire-js":"fire-js",[Le]:"fire-js-all"},ze=new Map,Ve=new Map,Be=new Map;function qe(e,t){try{e.container.addComponent(t)}catch(n){de.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function He(e){const t=e.name;if(Be.has(t))return de.debug("There were multiple attempts to register component ".concat(t,".")),!1;Be.set(t,e);for(const n of ze.values())qe(n,e);for(const n of Ve.values())qe(n,e);return!0}function Ke(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function We(e){return void 0!==e.settings}const Ge=new k("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Qe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new M("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ge.create("app-deleted",{appName:this._name})}}const Ye="10.14.1";function Xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ge.create("bad-app-name",{appName:String(i)});if(n||(n=y()),!n)throw Ge.create("no-options");const o=ze.get(i);if(o){if(T(n,o.options)&&T(r,o.config))return o;throw Ge.create("duplicate-app",{appName:i})}const a=new F(i);for(const l of Be.values())a.addComponent(l);const s=new Qe(n,r,a);return ze.set(i,s),s}function $e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;const t=ze.get(e);if(!t&&e===Fe&&y())return Xe();if(!t)throw Ge.create("no-app",{appName:e});return t}function Je(e,t,n){var r;let i=null!==(r=Ue[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void de.warn(e.join(" "))}He(new M("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Ze="firebase-heartbeat-store";let et=null;function tt(){return et||(et=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=ne(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ne(a.result),e.oldVersion,e.newVersion,ne(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ze)}catch(n){console.warn(n)}}}).catch(e=>{throw Ge.create("idb-open",{originalErrorMessage:e.message})})),et}async function nt(e,t){try{const n=(await tt()).transaction(Ze,"readwrite"),r=n.objectStore(Ze);await r.put(t,rt(e)),await n.done}catch(n){if(n instanceof E)de.warn(n.message);else{const e=Ge.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});de.warn(e.message)}}}function rt(e){return"".concat(e.name,"!").concat(e.options.appId)}class it{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new at(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ot();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){de.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ot(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),st(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),st(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return de.warn(t),""}}}function ot(){return(new Date).toISOString().substring(0,10)}class at{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!S()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await tt()).transaction(Ze),n=await t.objectStore(Ze).get(rt(e));return await t.done,n}catch(t){if(t instanceof E)de.warn(t.message);else{const e=Ge.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});de.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return nt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function st(e){return f(JSON.stringify({version:2,heartbeats:e})).length}var lt;lt="",He(new M("platform-logger",e=>new le(e),"PRIVATE")),He(new M("heartbeat",e=>new it(e),"PRIVATE")),Je(ce,ue,lt),Je(ce,ue,"esm2017"),Je("fire-js","");Je("firebase","10.14.1","app");var ct,ut,dt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ht={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(s,s);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new g(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(o)>>>16,m=65535&e.i(o);n[2*i+2*o]+=f*m,p(n,2*i+2*o),n[2*i+2*o+1]+=l*m,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*g,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*g,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ut=ht.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},ct=ht.Integer=r}).apply("undefined"!==typeof dt?dt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ft,pt,gt,mt,vt,yt,bt,wt,xt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},_t={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof xt&&xt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function E(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new O,e=>e.reset());class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(N)}};var N=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(wM){S(wM)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function P(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(wM){}return e}();function M(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,j);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),K={};function W(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)W(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(o=e.g[t],n,r,i))&&(z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):z(e)}}}function $(e){return e in K?K[e]:K[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;x(t=new j(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){j.call(this,"d")}function be(){j.call(this,"c")}d(ye,j),d(be,j);var we={},xe=null;function _e(){return xe=xe||new ne}function Se(e){j.call(this,we.La,e)}function Ee(e){const t=_e();re(t,new Se(t))}function ke(e,t){j.call(this,we.STAT_EVENT,e),this.stat=t}function Oe(e){const t=_e();re(t,new ke(t,e))}function Te(e,t){j.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ie(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Se,j),we.STAT_EVENT="statevent",d(ke,j),we.Ma="timingevent",d(Te,j),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ne,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ne=new De;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Rt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=En(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=W(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function Ke(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||bn(e.j,e)}function Ge(e){Ke(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),ln(n)}gn(n),Oe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else xn(n,11)}else if((e.K||n.g==e)&&yn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(Ke(s),qe(s)),r.g=a}else pn(r);0<n.i.length&&un(n)}else"stop"!=c[0]&&"close"!=c[0]||xn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xn(n,7):sn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==nn(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=nn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||rn(this.g)))){this.J||4!=h||7==t||Ee(),Ke(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=rn(this.g);e="";var o=r.length,a=4==nn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Oe(12),Ge(this),We(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Be(this,s),e==Fe){4==h&&(this.s=4,Oe(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Oe(15),Ae(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Oe(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),mn(d),d.M=!0,Oe(11))}}else Ae(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),We(this)}else Ae(this.i,this.l,s,null),Qe(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?bn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=nn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),Ge(this),We(this)}}}catch(St){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),Oe(17)),Ge(this),this.s=2,We(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Pt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new Pt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof Pt?(e.i=t,function(e,t){t&&!e.j&&(jt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Dt(this,t),Rt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Et(t,At)),e.i=new Pt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Et(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Et(t,Tt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Et(t,Tt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Et(n,"/"==n.charAt(0)?It:Ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Et(n,Nt)),e.join("")};var Tt=/[#\/\?@]/g,Ct=/[#\?:]/g,It=/[#\?]/g,At=/[#\?@]/g,Nt=/#/g;function Pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Dt(e,t){jt(e),t=Lt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mt(e,t){return jt(e),t=Lt(e,t),e.g.has(t)}function Rt(e,t,n){Dt(e,t),0<n.length&&(e.i=null,e.g.set(Lt(e,t),h(n)),e.h+=n.length)}function Lt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ft(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Ut(){this.g=new fe}function zt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Bt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function qt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ht(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Kt(e)}function Kt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Gt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Qt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Pt.prototype).add=function(e,t){jt(this),this.i=null,e=Lt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){jt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){jt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){jt(this);let t=[];if("string"===typeof e)Mt(this,e)&&(t=t.concat(this.g.get(Lt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return jt(this),this.i=null,Mt(this,e=Lt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Vt,pe),Vt.prototype.g=function(){return new Bt(this.l,this.j)},Vt.prototype.i=function(e){return function(){return e}}({}),d(Bt,ne),(e=Bt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Kt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ht(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kt(this)),this.g&&(this.readyState=3,Kt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ht(this):Kt(this),3==this.readyState&&qt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ht(this))},e.Qa=function(e){this.g&&(this.response=e,Ht(this))},e.ga=function(){this.g&&Ht(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Qt,ne);var Yt=/^https?$/i,Xt=["POST","PUT"];function $t(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Jt(e),en(e)}function Jt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=nn(e)||2!=e.Z()))if(e.u&&4==nn(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==nn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Yt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<nn(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Jt(e)}}finally{en(e)}}}function en(e,t){if(e.g){tn(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function tn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function nn(e){return e.g?e.g.readyState:0}function rn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ot){return null}}function on(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=on("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=on("baseRetryDelayMs",5e3,e),this.cb=on("retryDelaySeedMs",1e4,e),this.Wa=on("forwardChannelMaxRetries",2,e),this.wa=on("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Ut,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sn(e){if(cn(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),hn(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=En(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}_n(e)}function ln(e){e.g&&(mn(e),e.g.cancel(),e.g=null)}function cn(e){ln(e),e.u&&(i.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function un(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||A(),C||(T(),C=!0),I.add(t,e),e.B=0}}function dn(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),hn(e,r),e.m&&e.o&&Gt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=fn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function hn(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function fn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{zt(s,e,"req"+n+"_")}catch(St){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function pn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||A(),C||(T(),C=!0),I.add(t,e),e.v=0}}function gn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),wn(e,e.v)),e.v++,!0)}function mn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function vn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),hn(e,t),e.m&&e.o&&Gt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,ze(n,e)}function yn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function bn(e,t){var n=null;if(e.g==t){yn(e),mn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Te(r,n)),un(e)}else pn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),wn(e,e.B)),e.B++,!0))}(e,t)||2==r&&gn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:xn(e,5);break;case 4:xn(e,10);break;case 3:xn(e,6);break;default:xn(e,2)}}function wn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function xn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Ft,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ft,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ft,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ft,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ft(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ft(0,0,!0,t):Ft(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ft(0,0,!1,t)})}(r.toString(),n)}else Oe(2);e.G=0,e.l&&e.l.sa(t),_n(e),cn(e)}function _n(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),hn(e,r),r}function En(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Qt(new Vt({eb:n})):new Qt(e.pa)).Ha(e.J),t}function kn(){}function On(){}function Tn(e,t){ne.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new An(this)}function Cn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function In(){be.call(this),this.status=1}function An(e){this.g=e}(e=Qt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?ge(this.o):ge(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void $t(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Xt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tn(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){$t(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),en(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),Qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Zt(this):this.bb())},e.bb=function(){Zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch(SM){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(SM){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Oe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),un(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),hn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Wt(o)))+"&"+t:this.m&&Gt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?dn(this,e):0==this.i.length||$e(this.h)||dn(this))},e.Fa=function(){if(this.u=null,vn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),ln(this),vn(this))},e.Za=function(){null!=this.C&&(this.C=null,ln(this),gn(this),Oe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},On.prototype.g=function(e,t){return new Tn(e,t)},d(Tn,ne),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){sn(this.g)},Tn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&un(t)},Tn.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,Tn.aa.N.call(this)},d(Cn,ye),d(In,be),d(An,kn),An.prototype.ua=function(){re(this.g,"a")},An.prototype.ta=function(e){re(this.g,new Cn(e))},An.prototype.sa=function(e){re(this.g,new In)},An.prototype.ra=function(){re(this.g,"b")},On.prototype.createWebChannel=On.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,wt=_t.createWebChannelTransport=function(){return new On},bt=_t.getStatEventTarget=function(){return _e()},yt=_t.Event=we,vt=_t.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,mt=_t.ErrorCode=Pe,je.COMPLETE="complete",gt=_t.EventType=je,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,pt=_t.WebChannel=me,_t.FetchXmlHttpFactory=Vt,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,ft=_t.XhrIo=Qt}).apply("undefined"!==typeof xt?xt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const St="@firebase/firestore";class Et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");let kt="10.14.0";const Ot=new K("@firebase/firestore");function Tt(){return Ot.logLevel}function Ct(e){if(Ot.logLevel<=z.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nt);Ot.debug("Firestore (".concat(kt,"): ").concat(e),...i)}}function It(e){if(Ot.logLevel<=z.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nt);Ot.error("Firestore (".concat(kt,"): ").concat(e),...i)}}function At(e){if(Ot.logLevel<=z.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nt);Ot.warn("Firestore (".concat(kt,"): ").concat(e),...i)}}function Nt(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Pt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(kt,") INTERNAL ASSERTION FAILED: ")+e;throw It(t),new Error(t)}function jt(e,t){e||Pt()}function Dt(e,t){return e}const Mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends E{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Lt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ft{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ut{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Et.UNAUTHENTICATED))}shutdown(){}}class zt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vt{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){jt(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Lt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Lt,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Lt)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(jt("string"==typeof t.accessToken),new Ft(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(null===e||"string"==typeof e),new Et(e)}}class Bt{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qt{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Bt(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ht{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){jt(void 0===this.o);const n=e=>{null!=e.error&&Ct("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ct("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(jt("string"==typeof e.token),this.R=e.token,new Ht(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Wt(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Gt{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Wt(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Qt(e,t){return e<t?-1:e>t?1:0}function Yt(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Xt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rt(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rt(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rt(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Xt(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $t(e)}static min(){return new $t(new Xt(0,0))}static max(){return new $t(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jt{constructor(e,t,n){void 0===t?t=0:t>e.length&&Pt(),void 0===n?n=e.length-t:n>e.length-t&&Pt(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Jt.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jt?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zt extends Jt{construct(e,t,n){return new Zt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Rt(Mt.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Zt(e)}static emptyPath(){return new Zt([])}}const en=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Jt{construct(e,t,n){return new tn(e,t,n)}static isValidIdentifier(e){return en.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Rt(Mt.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Rt(Mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Rt(Mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Rt(Mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}class nn{constructor(e){this.path=e}static fromPath(e){return new nn(Zt.fromString(e))}static fromName(e){return new nn(Zt.fromString(e).popFirst(5))}static empty(){return new nn(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nn(new Zt(e.slice()))}}class rn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}rn.UNKNOWN_ID=-1;function on(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$t.fromTimestamp(1e9===r?new Xt(n+1,0):new Xt(n,r));return new sn(i,nn.empty(),t)}function an(e){return new sn(e.readTime,e.key,-1)}class sn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new sn($t.min(),nn.empty(),-1)}static max(){return new sn($t.max(),nn.empty(),-1)}}function ln(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=nn.comparator(e.documentKey,t.documentKey),0!==n?n:Qt(e.largestBatchId,t.largestBatchId))}const cn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class un{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function dn(e){if(e.code!==Mt.FAILED_PRECONDITION||e.message!==cn)throw e;Ct("LocalStore","Unexpectedly lost primary lease")}class hn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hn((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof hn?t:hn.resolve(t)}catch(e){return hn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):hn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):hn.reject(t)}static resolve(e){return new hn((t,n)=>{t(e)})}static reject(e){return new hn((t,n)=>{n(e)})}static waitFor(e){return new hn((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=hn.resolve(!1);for(const n of e)t=t.next(e=>e?hn.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new hn((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new hn((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function fn(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pn(e){return"IndexedDbTransactionError"===e.name}class gn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function mn(e){return null==e}function vn(e){return 0===e&&1/e==-1/0}function yn(e){return"number"==typeof e&&Number.isInteger(e)&&!vn(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}gn.oe=-1;const bn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xn=wn,_n=[...xn,"indexConfiguration","indexState","indexEntries"];function Sn(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function En(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function kn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class On{constructor(e,t){this.comparator=e,this.root=t||Cn.EMPTY}insert(e,t){return new On(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tn(this.root,e,this.comparator,!0)}}class Tn{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Cn.RED,this.left=null!=r?r:Cn.EMPTY,this.right=null!=i?i:Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Cn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Cn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pt();if(this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1,Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new An(this.data.getIterator())}getIteratorFrom(e){return new An(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof In))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class An{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new In(tn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yt(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Pn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Pn("Invalid base64 string: "+e):e}}(e);return new jn(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new jn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const Dn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mn(e){if(jt(!!e),"string"==typeof e){let t=0;const n=Dn.exec(e);if(jt(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Rn(e.seconds),nanos:Rn(e.nanos)}}function Rn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ln(e){return"string"==typeof e?jn.fromBase64String(e):jn.fromUint8Array(e)}function Fn(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Un(e){const t=e.mapValue.fields.__previous_value__;return Fn(t)?Un(t):t}function zn(e){const t=Mn(e.mapValue.fields.__local_write_time__.timestampValue);return new Xt(t.seconds,t.nanos)}class Vn{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Bn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bn&&e.projectId===this.projectId&&e.database===this.database}}const qn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fn(e)?4:ar(e)?9007199254740991:ir(e)?10:11:Pt()}function Kn(e,t){if(e===t)return!0;const n=Hn(e);if(n!==Hn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zn(e).isEqual(zn(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Mn(e.timestampValue),r=Mn(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ln(e.bytesValue).isEqual(Ln(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rn(e.geoPointValue.latitude)===Rn(t.geoPointValue.latitude)&&Rn(e.geoPointValue.longitude)===Rn(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rn(e.integerValue)===Rn(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Rn(e.doubleValue),r=Rn(t.doubleValue);return n===r?vn(n)===vn(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yt(e.arrayValue.values||[],t.arrayValue.values||[],Kn);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Sn(n)!==Sn(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kn(n[i],r[i])))return!1;return!0}(e,t);default:return Pt()}}function Wn(e,t){return void 0!==(e.values||[]).find(e=>Kn(e,t))}function Gn(e,t){if(e===t)return 0;const n=Hn(e),r=Hn(t);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Rn(e.integerValue||e.doubleValue),r=Rn(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qn(e.timestampValue,t.timestampValue);case 4:return Qn(zn(e),zn(t));case 5:return Qt(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ln(e),r=Ln(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Qt(n[i],r[i]);if(0!==e)return e}return Qt(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Qt(Rn(e.latitude),Rn(t.latitude));return 0!==n?n:Qt(Rn(e.longitude),Rn(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Yn(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=Qt((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Yn(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===qn.mapValue&&t===qn.mapValue)return 0;if(e===qn.mapValue)return 1;if(t===qn.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Qt(r[a],o[a]);if(0!==e)return e;const t=Gn(n[r[a]],i[o[a]]);if(0!==t)return t}return Qt(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Pt()}}function Qn(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qt(e,t);const n=Mn(e),r=Mn(t),i=Qt(n.seconds,r.seconds);return 0!==i?i:Qt(n.nanos,r.nanos)}function Yn(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Gn(n[i],r[i]);if(e)return e}return Qt(n.length,r.length)}function Xn(e){return $n(e)}function $n(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Mn(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ln(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return nn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=$n(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat($n(e.fields[i]));return n+"}"}(e.mapValue):Pt()}function Jn(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Zn(e){return!!e&&"integerValue"in e}function er(e){return!!e&&"arrayValue"in e}function tr(e){return!!e&&"nullValue"in e}function nr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rr(e){return!!e&&"mapValue"in e}function ir(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function or(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return En(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=or(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=or(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ar(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!rr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=or(t)}setAll(e){let t=tn.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=or(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());rr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];rr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){En(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new sr(or(this.value))}}function lr(e){const t=[];return En(e.fields,(e,n)=>{const r=new tn([e]);if(rr(n)){const e=lr(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Nn(t)}class cr{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new cr(e,0,$t.min(),$t.min(),$t.min(),sr.empty(),0)}static newFoundDocument(e,t,n,r){return new cr(e,1,t,$t.min(),n,r,0)}static newNoDocument(e,t){return new cr(e,2,t,$t.min(),$t.min(),sr.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,$t.min(),$t.min(),sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ur{constructor(e,t){this.position=e,this.inclusive=t}}function dr(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?nn.comparator(nn.fromName(a.referenceValue),n.key):Gn(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function hr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kn(e.position[n],t.position[n]))return!1;return!0}class fr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function pr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gr{}class mr extends gr{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Er(e,t,n):"array-contains"===t?new Cr(e,n):"in"===t?new Ir(e,n):"not-in"===t?new Ar(e,n):"array-contains-any"===t?new Nr(e,n):new mr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kr(e,n):new Or(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gn(t,this.value)):null!==t&&Hn(this.value)===Hn(t)&&this.matchesComparison(Gn(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends gr{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new vr(e,t)}matches(e){return yr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yr(e){return"and"===e.op}function br(e){return wr(e)&&yr(e)}function wr(e){for(const t of e.filters)if(t instanceof vr)return!1;return!0}function xr(e){if(e instanceof mr)return e.field.canonicalString()+e.op.toString()+Xn(e.value);if(br(e))return e.filters.map(e=>xr(e)).join(",");{const t=e.filters.map(e=>xr(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function _r(e,t){return e instanceof mr?function(e,t){return t instanceof mr&&e.op===t.op&&e.field.isEqual(t.field)&&Kn(e.value,t.value)}(e,t):e instanceof vr?function(e,t){return t instanceof vr&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&_r(n,t.filters[r]),!0)}(e,t):void Pt()}function Sr(e){return e instanceof mr?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Xn(e.value))}(e):e instanceof vr?function(e){return e.op.toString()+" {"+e.getFilters().map(Sr).join(" ,")+"}"}(e):"Filter"}class Er extends mr{constructor(e,t,n){super(e,t,n),this.key=nn.fromName(n.referenceValue)}matches(e){const t=nn.comparator(e.key,this.key);return this.matchesComparison(t)}}class kr extends mr{constructor(e,t){super(e,"in",t),this.keys=Tr("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Or extends mr{constructor(e,t){super(e,"not-in",t),this.keys=Tr("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>nn.fromName(e.referenceValue))}class Cr extends mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return er(t)&&Wn(t.arrayValue,this.value)}}class Ir extends mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wn(this.value.arrayValue,t)}}class Ar extends mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wn(this.value.arrayValue,t)}}class Nr extends mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!er(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Wn(this.value.arrayValue,e))}}class Pr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function jr(e){return new Pr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Dr(e){const t=Dt(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>xr(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),mn(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Xn(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Xn(e)).join(",")),t.ue=e}return t.ue}function Mr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_r(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hr(e.startAt,t.startAt)&&hr(e.endAt,t.endAt)}function Rr(e){return nn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Lr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Fr(e,t,n,r,i,o,a,s){return new Lr(e,t,n,r,i,o,a,s)}function Ur(e){return new Lr(e)}function zr(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vr(e){return null!==e.collectionGroup}function Br(e){const t=Dt(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new In(tn.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new fr(r,n))}),e.has(tn.keyField().canonicalString())||t.ce.push(new fr(tn.keyField(),n))}return t.ce}function qr(e){const t=Dt(e);return t.le||(t.le=Hr(t,Br(e))),t.le}function Hr(e,t){if("F"===e.limitType)return jr(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new fr(e.field,t)});const n=e.endAt?new ur(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ur(e.startAt.position,e.startAt.inclusive):null;return jr(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Kr(e,t){const n=e.filters.concat([t]);return new Lr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wr(e,t,n){return new Lr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gr(e,t){return Mr(qr(e),qr(t))&&e.limitType===t.limitType}function Qr(e){return"".concat(Dr(qr(e)),"|lt:").concat(e.limitType)}function Yr(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Sr(e)).join(", "),"]")),mn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Xn(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Xn(e)).join(",")),"Target(".concat(t,")")}(qr(e)),"; limitType=").concat(e.limitType,")")}function Xr(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):nn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Br(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=dr(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Br(e),t))&&!(e.endAt&&!function(e,t,n){const r=dr(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Br(e),t))}(e,t)}function $r(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jr(e){return(t,n)=>{let r=!1;for(const i of Br(e)){const e=Zr(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Zr(e,t,n){const r=e.field.isKeyField()?nn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gn(r,i):Pt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pt()}}class ei{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){En(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return kn(this.inner)}size(){return this.innerSize}}const ti=new On(nn.comparator);function ni(){return ti}const ri=new On(nn.comparator);function ii(){let e=ri;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function oi(e){let t=ri;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ai(){return li()}function si(){return li()}function li(){return new ei(e=>e.toString(),(e,t)=>e.isEqual(t))}const ci=new On(nn.comparator),ui=new In(nn.comparator);function di(){let e=ui;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const hi=new In(Qt);function fi(){return hi}function pi(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vn(t)?"-0":t}}function gi(e){return{integerValue:""+e}}function mi(e,t){return yn(t)?gi(t):pi(e,t)}class vi{constructor(){this._=void 0}}function yi(e,t,n){return e instanceof xi?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Fn(t)&&(t=Un(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof _i?Si(e,t):e instanceof Ei?ki(e,t):function(e,t){const n=wi(e,t),r=Ti(n)+Ti(e.Pe);return Zn(n)&&Zn(e.Pe)?gi(r):pi(e.serializer,r)}(e,t)}function bi(e,t,n){return e instanceof _i?Si(e,t):e instanceof Ei?ki(e,t):n}function wi(e,t){return e instanceof Oi?function(e){return Zn(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class xi extends vi{}class _i extends vi{constructor(e){super(),this.elements=e}}function Si(e,t){const n=Ci(t);for(const r of e.elements)n.some(e=>Kn(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ei extends vi{constructor(e){super(),this.elements=e}}function ki(e,t){let n=Ci(t);for(const r of e.elements)n=n.filter(e=>!Kn(e,r));return{arrayValue:{values:n}}}class Oi extends vi{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ti(e){return Rn(e.integerValue||e.doubleValue)}function Ci(e){return er(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ii{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ni(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Pi{}function ji(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qi(e.key,Ai.none()):new Fi(e.key,e.data,Ai.none());{const n=e.data,r=sr.empty();let i=new In(tn.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ui(e.key,r,new Nn(i.toArray()),Ai.none())}}function Di(e,t,n){e instanceof Fi?function(e,t,n){const r=e.value.clone(),i=Vi(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ui?function(e,t,n){if(!Ni(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Vi(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(zi(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Mi(e,t,n,r){return e instanceof Fi?function(e,t,n,r){if(!Ni(e.precondition,t))return n;const i=e.value.clone(),o=Bi(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ui?function(e,t,n,r){if(!Ni(e.precondition,t))return n;const i=Bi(e.fieldTransforms,r,t),o=t.data;return o.setAll(zi(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ni(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ri(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=wi(r.transform,e||null);null!=i&&(null===n&&(n=sr.empty()),n.set(r.field,i))}return n||null}function Li(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yt(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _i&&t instanceof _i||e instanceof Ei&&t instanceof Ei?Yt(e.elements,t.elements,Kn):e instanceof Oi&&t instanceof Oi?Kn(e.Pe,t.Pe):e instanceof xi&&t instanceof xi}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fi extends Pi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ui extends Pi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zi(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Vi(e,t,n){const r=new Map;jt(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,bi(a,s,n[i]))}return r}function Bi(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,yi(e,o,t))}return r}class qi extends Pi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hi extends Pi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ki{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Di(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Mi(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Mi(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=si();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=ji(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument($t.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),di())}isEqual(e){return this.batchId===e.batchId&&Yt(this.mutations,e.mutations,(e,t)=>Li(e,t))&&Yt(this.baseMutations,e.baseMutations,(e,t)=>Li(e,t))}}class Wi{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){jt(e.mutations.length===n.length);let r=ci;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Wi(e,t,n,r)}}class Gi{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Qi{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yi,Xi;function $i(e){switch(e){default:return Pt();case Mt.CANCELLED:case Mt.UNKNOWN:case Mt.DEADLINE_EXCEEDED:case Mt.RESOURCE_EXHAUSTED:case Mt.INTERNAL:case Mt.UNAVAILABLE:case Mt.UNAUTHENTICATED:return!1;case Mt.INVALID_ARGUMENT:case Mt.NOT_FOUND:case Mt.ALREADY_EXISTS:case Mt.PERMISSION_DENIED:case Mt.FAILED_PRECONDITION:case Mt.ABORTED:case Mt.OUT_OF_RANGE:case Mt.UNIMPLEMENTED:case Mt.DATA_LOSS:return!0}}function Ji(e){if(void 0===e)return It("GRPC error has no .code"),Mt.UNKNOWN;switch(e){case Yi.OK:return Mt.OK;case Yi.CANCELLED:return Mt.CANCELLED;case Yi.UNKNOWN:return Mt.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return Mt.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return Mt.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return Mt.INTERNAL;case Yi.UNAVAILABLE:return Mt.UNAVAILABLE;case Yi.UNAUTHENTICATED:return Mt.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return Mt.INVALID_ARGUMENT;case Yi.NOT_FOUND:return Mt.NOT_FOUND;case Yi.ALREADY_EXISTS:return Mt.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return Mt.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return Mt.FAILED_PRECONDITION;case Yi.ABORTED:return Mt.ABORTED;case Yi.OUT_OF_RANGE:return Mt.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return Mt.UNIMPLEMENTED;case Yi.DATA_LOSS:return Mt.DATA_LOSS;default:return Pt()}}(Xi=Yi||(Yi={}))[Xi.OK=0]="OK",Xi[Xi.CANCELLED=1]="CANCELLED",Xi[Xi.UNKNOWN=2]="UNKNOWN",Xi[Xi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xi[Xi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xi[Xi.NOT_FOUND=5]="NOT_FOUND",Xi[Xi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xi[Xi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xi[Xi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xi[Xi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xi[Xi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xi[Xi.ABORTED=10]="ABORTED",Xi[Xi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xi[Xi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xi[Xi.INTERNAL=13]="INTERNAL",Xi[Xi.UNAVAILABLE=14]="UNAVAILABLE",Xi[Xi.DATA_LOSS=15]="DATA_LOSS";let Zi=null;function eo(){return new TextEncoder}const to=new ct([4294967295,4294967295],0);function no(e){const t=eo().encode(e),n=new ut;return n.update(t),new Uint8Array(n.digest())}function ro(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ct([n,r],0),new ct([i,o],0)]}class io{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new oo("Invalid padding: ".concat(t));if(n<0)throw new oo("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new oo("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new oo("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=ct.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(ct.fromNumber(n)));return 1===r.compare(to)&&(r=new ct([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=no(e),[n,r]=ro(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new io(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.Ie)return;const t=no(e),[n,r]=ro(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ao{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,so.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ao($t.min(),r,new On(Qt),ni(),di())}}class so{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new so(n,t,di(),di(),di())}}class lo{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class co{constructor(e,t){this.targetId=e,this.me=t}}class uo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ho{constructor(){this.fe=0,this.ge=go(),this.pe=jn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=di(),t=di(),n=di();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pt()}}),new so(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=go()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,jt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fo{constructor(e){this.Le=e,this.Be=new Map,this.ke=ni(),this.qe=po(),this.Qe=new On(Qt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Rr(i))if(0===n){const e=new nn(i.path);this.Ue(t,e,cr.newNoDocument(e,$t.min()))}else jt(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Zi||Zi.et(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Ln(n).toUint8Array()}catch(e){if(e instanceof Pn)return At("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new io(o,r,i)}catch(e){return At(e instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Rr(i.target)){const t=new nn(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,cr.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=di();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new ao(e,t,this.Qe,this.ke,n);return this.ke=ni(),this.qe=po(),this.Qe=new On(Qt),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ho,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new In(Qt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ct("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ho),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function po(){return new On(nn.comparator)}function go(){return new On(nn.comparator)}const mo={asc:"ASCENDING",desc:"DESCENDING"},vo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yo={and:"AND",or:"OR"};class bo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wo(e,t){return e.useProto3Json||mn(t)?t:{value:t}}function xo(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function _o(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function So(e,t){return xo(e,t.toTimestamp())}function Eo(e){return jt(!!e),$t.fromTimestamp(function(e){const t=Mn(e);return new Xt(t.seconds,t.nanos)}(e))}function ko(e,t){return Oo(e,t).canonicalString()}function Oo(e,t){const n=function(e){return new Zt(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function To(e){const t=Zt.fromString(e);return jt(Go(t)),t}function Co(e,t){return ko(e.databaseId,t.path)}function Io(e,t){const n=To(t);if(n.get(1)!==e.databaseId.projectId)throw new Rt(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rt(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nn(jo(n))}function Ao(e,t){return ko(e.databaseId,t)}function No(e){const t=To(e);return 4===t.length?Zt.emptyPath():jo(t)}function Po(e){return new Zt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jo(e){return jt(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Do(e,t,n){return{name:Co(e,t),fields:n.value.mapValue.fields}}function Mo(e,t){let n;if(t instanceof Fi)n={update:Do(e,t.key,t.value)};else if(t instanceof qi)n={delete:Co(e,t.key)};else if(t instanceof Ui)n={update:Do(e,t.key,t.data),updateMask:Wo(t.fieldMask)};else{if(!(t instanceof Hi))return Pt();n={verify:Co(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof xi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _i)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ei)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Oi)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Pt()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:So(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pt()}(e,t.precondition)),n}function Ro(e,t){return{documents:[Ao(e,t.path)]}}function Lo(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ao(e,i);const o=function(e){if(0!==e.length)return Ko(vr.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:qo(e.field),direction:zo(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=wo(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Fo(e){let t=No(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jt(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Uo(e);return t instanceof vr&&br(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new fr(Ho(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,mn(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ur(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ur(n,t)}(n.endAt)),Fr(t,i,a,o,s,"F",l,c)}function Uo(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ho(e.unaryFilter.field);return mr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ho(e.unaryFilter.field);return mr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ho(e.unaryFilter.field);return mr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ho(e.unaryFilter.field);return mr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(e):void 0!==e.fieldFilter?function(e){return mr.create(Ho(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vr.create(e.compositeFilter.filters.map(e=>Uo(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Pt()}}(e.compositeFilter.op))}(e):Pt()}function zo(e){return mo[e]}function Vo(e){return vo[e]}function Bo(e){return yo[e]}function qo(e){return{fieldPath:e.canonicalString()}}function Ho(e){return tn.fromServerFormat(e.fieldPath)}function Ko(e){return e instanceof mr?function(e){if("=="===e.op){if(nr(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NAN"}};if(tr(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nr(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NOT_NAN"}};if(tr(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(e.field),op:Vo(e.op),value:e.value}}}(e):e instanceof vr?function(e){const t=e.getFilters().map(e=>Ko(e));return 1===t.length?t[0]:{compositeFilter:{op:Bo(e.op),filters:t}}}(e):Pt()}function Wo(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Go(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Qo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$t.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$t.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jn.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Yo{constructor(e){this.ct=e}}function Xo(e){const t=Fo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wr(t,t.limit,"L"):t}class $o{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Rn(e.integerValue));else if("doubleValue"in e){const n=Rn(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),vn(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Mn(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ln(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?ar(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ir(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Pt()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const o="value",a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Rn(a)),this.Vt(o,t),this.Tt(i[o],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),nn.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}$o.vt=new $o;class Jo{constructor(){this.un=new Zo}addToCollectionParentIndex(e,t){return this.un.add(t),hn.resolve()}getCollectionParents(e,t){return hn.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return hn.resolve()}deleteFieldIndex(e,t){return hn.resolve()}deleteAllFieldIndexes(e){return hn.resolve()}createTargetIndexes(e,t){return hn.resolve()}getDocumentsMatchingTarget(e,t){return hn.resolve(null)}getIndexType(e,t){return hn.resolve(0)}getFieldIndexes(e,t){return hn.resolve([])}getNextCollectionGroupToUpdate(e){return hn.resolve(null)}getMinOffset(e,t){return hn.resolve(sn.min())}getMinOffsetFromCollectionGroup(e,t){return hn.resolve(sn.min())}updateCollectionGroup(e,t,n){return hn.resolve()}updateIndexEntries(e,t){return hn.resolve()}}class Zo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new In(Zt.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new In(Zt.comparator)).toArray()}}new Uint8Array(0);class ea{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ea(e,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(41943040,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);class ta{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ta(0)}static kn(){return new ta(-1)}}class na{constructor(){this.changes=new ei(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ra{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ia{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Mi(n.mutation,e,Nn.empty(),Xt.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,di()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:di();const r=ai();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ii();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ai();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,di()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=ni();const o=li(),a=li();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ui)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Mi(a.mutation,t,a.mutation.getFieldMask(),Xt.now())):o.set(t.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new ra(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=li();let r=new On((e,t)=>e-t),i=di();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Nn.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||di()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=si();l.forEach(e=>{if(!i.has(e)){const r=ji(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return hn.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return nn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):hn.resolve(ai());let a=-1,s=i;return o.next(t=>hn.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?hn.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,di())).next(e=>({batchId:a,changes:oi(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nn(t)).next(e=>{let t=ii();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=ii();return this.indexManager.getCollectionParents(e,i).next(a=>hn.forEach(a,a=>{const s=function(e,t){return new Lr(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,cr.newInvalidDocument(r)))});let n=ii();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Mi(o.mutation,r,Nn.empty(),Xt.now()),Xr(t,r)&&(n=n.insert(e,r))}),n})}}class oa{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return hn.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Eo(e.createTime)}}(t)),hn.resolve()}getNamedQuery(e,t){return hn.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Xo(e.bundledQuery),readTime:Eo(e.readTime)}}(t)),hn.resolve()}}class aa{constructor(){this.overlays=new On(nn.comparator),this.Ir=new Map}getOverlay(e,t){return hn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ai();return hn.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),hn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),hn.resolve()}getOverlaysForCollection(e,t,n){const r=ai(),i=t.length+1,o=new nn(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new On((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ai(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ai(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return hn.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Gi(t,n));let i=this.Ir.get(t);void 0===i&&(i=di(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class sa{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return hn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,hn.resolve()}}class la{constructor(){this.Tr=new In(ca.Er),this.dr=new In(ca.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new ca(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new ca(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new nn(new Zt([])),n=new ca(t,e),r=new ca(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new nn(new Zt([])),n=new ca(t,e),r=new ca(t,e+1);let i=di();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ca(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ca{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return nn.comparator(e.key,t.key)||Qt(e.wr,t.wr)}static Ar(e,t){return Qt(e.wr,t.wr)||nn.comparator(e.key,t.key)}}class ua{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new In(ca.Er)}checkEmpty(e){return hn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ki(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new ca(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return hn.resolve(o)}lookupMutationBatch(e,t){return hn.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return hn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return hn.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return hn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ca(t,0),r=new ca(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),hn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new In(Qt);return t.forEach(e=>{const t=new ca(e,0),r=new ca(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),hn.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;nn.isDocumentKey(i)||(i=i.child(""));const o=new ca(new nn(i),0);let a=new In(Qt);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},o),hn.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){jt(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return hn.forEach(t.mutations,r=>{const i=new ca(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new ca(t,0),r=this.br.firstAfterOrEqual(n);return hn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hn.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class da{constructor(e){this.Mr=e,this.docs=new On(nn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hn.resolve(n?n.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let n=ni();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cr.newInvalidDocument(e))}),hn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ni();const o=t.path,a=new nn(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ln(an(a),n)<=0||(r.has(a.key)||Xr(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return hn.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Pt()}Or(e,t){return hn.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ha(this)}getSize(e){return hn.resolve(this.size)}}class ha extends na{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),hn.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class fa{constructor(e){this.persistence=e,this.Nr=new ei(e=>Dr(e),Mr),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new la,this.targetCount=0,this.kr=ta.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),hn.resolve()}getLastRemoteSnapshotVersion(e){return hn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hn.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),hn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),hn.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ta(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,hn.resolve()}updateTargetData(e,t){return this.Kn(t),hn.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,hn.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),hn.waitFor(i).next(()=>r)}getTargetCount(e){return hn.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return hn.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),hn.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),hn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),hn.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return hn.resolve(n)}containsKey(e,t){return hn.resolve(this.Br.containsKey(t))}}class pa{constructor(e,t){this.qr={},this.overlays={},this.Qr=new gn(0),this.Kr=!1,this.Kr=!0,this.$r=new sa,this.referenceDelegate=e(this),this.Ur=new fa(this),this.indexManager=new Jo,this.remoteDocumentCache=function(e){return new da(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new Yo(t),this.Gr=new oa(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new ua(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Ct("MemoryPersistence","Starting transaction:",e);const r=new ga(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return hn.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class ga extends un{constructor(e){super(),this.currentSequenceNumber=e}}class ma{constructor(e){this.persistence=e,this.Jr=new la,this.Yr=null}static Zr(e){return new ma(e)}get Xr(){if(this.Yr)return this.Yr;throw Pt()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),hn.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),hn.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),hn.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hn.forEach(this.Xr,n=>{const r=nn.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,$t.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return hn.or([()=>hn.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class va{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=di(),r=di();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new va(e,t.fromCache,n,r)}}class ya{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ba{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=_()?8:fn(x())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ya;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Tt()<=z.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",Yr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),hn.resolve()):(Tt()<=z.DEBUG&&Ct("QueryEngine","Query:",Yr(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Tt()<=z.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",Yr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):hn.resolve())}Yi(e,t){if(zr(t))return hn.resolve(null);let n=qr(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Wr(t,null,"F"),n=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=di(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,Wr(t,null,"F")):this.rs(e,o,t,n)}))})))}Zi(e,t,n,r){return zr(t)||r.isEqual($t.min())?hn.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?hn.resolve(null):(Tt()<=z.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yr(t)),this.rs(e,o,t,on(r,-1)).next(e=>e))})}ts(e,t){let n=new In(Jr(e));return t.forEach((t,r)=>{Xr(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Tt()<=z.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Yr(t)),this.Ji.getDocumentsMatchingQuery(e,t,sn.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class wa{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new On(Qt),this._s=new ei(e=>Dr(e),Mr),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ia(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function xa(e,t,n,r){return new wa(e,t,n,r)}async function _a(e,t){const n=Dt(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=di();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:o}))})})}function Sa(e){const t=Dt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function Ea(e,t,n){let r=di(),i=di();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ni();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual($t.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Ct("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{Ps:r,Is:i}})}function ka(e,t){const n=Dt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Oa(e,t){const n=Dt(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,hn.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new Qo(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Ta(e,t,n){const r=Dt(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!pn(e))throw e;Ct("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function Ca(e,t,n){const r=Dt(e);let i=$t.min(),o=di();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Dt(e),i=r._s.get(n);return void 0!==i?hn.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,qr(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:$t.min(),n?o:di())).next(e=>(Ia(r,$r(t),e),{documents:e,Ts:o})))}function Ia(e,t,n){let r=e.us.get(t)||$t.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class Aa{constructor(){this.activeTargetIds=fi()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Na{constructor(){this.so=new Aa,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Aa,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pa{_o(e){}shutdown(){}}class ja{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Da=null;function Ma(){return null===Da?Da=268435456+Math.round(2147483648*Math.random()):Da++,"0x"+Da.toString(16)}const Ra={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class La{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Fa="WebChannelConnection";class Ua extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const o=Ma(),a=this.xo(e,t.toUriEncodedString());Ct("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then(t=>(Ct("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw At("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+kt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=Ra[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Ma();return new Promise((o,a)=>{const s=new ft;s.setWithCredentials(!0),s.listenOnce(gt.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case mt.NO_ERROR:const t=s.getResponseJson();Ct(Fa,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case mt.TIMEOUT:Ct(Fa,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Rt(Mt.DEADLINE_EXCEEDED,"Request time out"));break;case mt.HTTP_ERROR:const n=s.getStatus();if(Ct(Fa,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Mt).indexOf(t)>=0?t:Mt.UNKNOWN}(t.status);a(new Rt(e,t.message))}else a(new Rt(Mt.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Rt(Mt.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{Ct(Fa,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Ct(Fa,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=Ma(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wt(),a=bt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Ct(Fa,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new La({Io:t=>{h?Ct(Fa,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ct(Fa,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ct(Fa,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,pt.EventType.OPEN,()=>{h||(Ct(Fa,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,pt.EventType.CLOSE,()=>{h||(h=!0,Ct(Fa,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,pt.EventType.ERROR,t=>{h||(h=!0,At(Fa,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new Rt(Mt.UNAVAILABLE,"The operation could not be completed")))}),p(u,pt.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];jt(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Ct(Fa,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Yi[e];if(void 0!==t)return Ji(t)}(t),i=a.message;void 0===n&&(n=Mt.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new Rt(n,i)),u.close()}else Ct(Fa,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),p(a,yt.STAT_EVENT,t=>{t.stat===vt.PROXY?Ct(Fa,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===vt.NOPROXY&&Ct(Fa,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function za(){return"undefined"!=typeof document?document:null}function Va(e){return new bo(e,!0)}class Ba{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Ct("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class qa{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ba(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Mt.RESOURCE_EXHAUSTED?(It(t.toString()),It("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Mt.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new Rt(Mt.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ct("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ha extends qa{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(jt(void 0===t||"string"==typeof t),jn.fromBase64String(t||"")):(jt(void 0===t||t instanceof Buffer||t instanceof Uint8Array),jn.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Mt.UNKNOWN:Ji(e.code);return new Rt(t,e.message||"")}(a);n=new uo(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Io(e,r.document.name),o=Eo(r.document.updateTime),a=r.document.createTime?Eo(r.document.createTime):$t.min(),s=new sr({mapValue:{fields:r.document.fields}}),l=cr.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new lo(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Io(e,r.document),o=r.readTime?Eo(r.readTime):$t.min(),a=cr.newNoDocument(i,o),s=r.removedTargetIds||[];n=new lo([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Io(e,r.document),o=r.removedTargetIds||[];n=new lo([],o,i,null)}else{if(!("filter"in t))return Pt();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Qi(r,i),a=e.targetId;n=new co(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return $t.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?$t.min():t.readTime?Eo(t.readTime):$t.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Po(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Rr(r)?{documents:Ro(e,r)}:{query:Lo(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=_o(e,t.resumeToken);const r=wo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo($t.min())>0){n.readTime=xo(e,t.snapshotVersion.toTimestamp());const r=wo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Po(this.serializer),t.removeTarget=e,this.a_(t)}}class Ka extends qa{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(jt(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Eo(e.updateTime):Eo(t);return n.isEqual($t.min())&&(n=Eo(t)),new Ii(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Eo(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Po(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Mo(this.serializer,e))};this.a_(t)}}class Wa extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Rt(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Mo(e,Oo(t,n),r,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rt(Mt.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Lo(e,Oo(t,n),r,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rt(Mt.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ga{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(It(t),this.D_=!1):Ct("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Qa{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{rs(this)&&(Ct("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Dt(e);t.L_.add(4),await Xa(t),t.q_.set("Unknown"),t.L_.delete(4),await Ya(t)}(this))})}),this.q_=new Ga(n,r)}}async function Ya(e){if(rs(e))for(const t of e.B_)await t(!0)}async function Xa(e){for(const t of e.B_)await t(!1)}function $a(e,t){const n=Dt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),ns(n)?ts(n):_s(n).r_()&&Za(n,t))}function Ja(e,t){const n=Dt(e),r=_s(n);n.N_.delete(t),r.r_()&&es(n,t),0===n.N_.size&&(r.r_()?r.o_():rs(n)&&n.q_.set("Unknown"))}function Za(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($t.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_s(e).A_(t)}function es(e,t){e.Q_.xe(t),_s(e).R_(t)}function ts(e){e.Q_=new fo({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),_s(e).start(),e.q_.v_()}function ns(e){return rs(e)&&!_s(e).n_()&&e.N_.size>0}function rs(e){return 0===Dt(e).L_.size}function is(e){e.Q_=void 0}async function os(e){e.q_.set("Online")}async function as(e){e.N_.forEach((t,n)=>{Za(e,t)})}async function ss(e,t){is(e),ns(e)?(e.q_.M_(t),ts(e)):e.q_.set("Unknown")}async function ls(e,t,n){if(e.q_.set("Online"),t instanceof uo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Ct("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await cs(e,n)}else if(t instanceof lo?e.Q_.Ke(t):t instanceof co?e.Q_.He(t):e.Q_.We(t),!n.isEqual($t.min()))try{const t=await Sa(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(jn.EMPTY_BYTE_STRING,r.snapshotVersion)),es(e,t);const i=new Qo(r.target,t,n,r.sequenceNumber);Za(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ct("RemoteStore","Failed to raise snapshot:",t),await cs(e,t)}}async function cs(e,t,n){if(!pn(t))throw t;e.L_.add(1),await Xa(e),e.q_.set("Offline"),n||(n=()=>Sa(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ct("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ya(e)})}function us(e,t){return t().catch(n=>cs(e,n,t))}async function ds(e){const t=Dt(e),n=Ss(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;hs(t);)try{const e=await ka(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,fs(t,e)}catch(e){await cs(t,e)}ps(t)&&gs(t)}function hs(e){return rs(e)&&e.O_.length<10}function fs(e,t){e.O_.push(t);const n=Ss(e);n.r_()&&n.V_&&n.m_(t.mutations)}function ps(e){return rs(e)&&!Ss(e).n_()&&e.O_.length>0}function gs(e){Ss(e).start()}async function ms(e){Ss(e).p_()}async function vs(e){const t=Ss(e);for(const n of e.O_)t.m_(n.mutations)}async function ys(e,t,n){const r=e.O_.shift(),i=Wi.from(r,t,n);await us(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ds(e)}async function bs(e,t){t&&Ss(e).V_&&await async function(e,t){if(function(e){return $i(e)&&e!==Mt.ABORTED}(t.code)){const n=e.O_.shift();Ss(e).s_(),await us(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ds(e)}}(e,t),ps(e)&&gs(e)}async function ws(e,t){const n=Dt(e);n.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const r=rs(n);n.L_.add(3),await Xa(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ya(n)}async function xs(e,t){const n=Dt(e);t?(n.L_.delete(2),await Ya(n)):t||(n.L_.add(2),await Xa(n),n.q_.set("Unknown"))}function _s(e){return e.K_||(e.K_=function(e,t,n){const r=Dt(e);return r.w_(),new Ha(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:os.bind(null,e),Ro:as.bind(null,e),mo:ss.bind(null,e),d_:ls.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),ns(e)?ts(e):e.q_.set("Unknown")):(await e.K_.stop(),is(e))})),e.K_}function Ss(e){return e.U_||(e.U_=function(e,t,n){const r=Dt(e);return r.w_(),new Ka(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ms.bind(null,e),mo:bs.bind(null,e),f_:vs.bind(null,e),g_:ys.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await ds(e)):(await e.U_.stop(),e.O_.length>0&&(Ct("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class Es{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Es(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(Mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ks(e,t){if(It("AsyncQueue","".concat(t,": ").concat(e)),pn(e))return new Rt(Mt.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Os{constructor(e){this.comparator=e?(t,n)=>e(t,n)||nn.comparator(t.key,n.key):(e,t)=>nn.comparator(e.key,t.key),this.keyedMap=ii(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Os(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Os))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Os;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ts{constructor(){this.W_=new On(nn.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Pt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Cs{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Cs(e,t,Os.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Is{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class As{constructor(){this.queries=Ns(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Dt(e),r=n.queries;n.queries=Ns(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new Rt(Mt.ABORTED,"Firestore shutting down"))}}function Ns(){return new ei(e=>Qr(e),Gr)}async function Ps(e,t){const n=Dt(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new Is,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ks(e,"Initialization of query '".concat(Yr(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&Rs(n)}async function js(e,t){const n=Dt(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ds(e,t){const n=Dt(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Rs(n)}function Ms(e,t,n){const r=Dt(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function Rs(e){e.Y_.forEach(e=>{e.next()})}var Ls,Fs;(Fs=Ls||(Ls={})).ea="default",Fs.Cache="cache";class Us{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Cs(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ls.Cache}}class zs{constructor(e){this.key=e}}class Vs{constructor(e){this.key=e}}class Bs{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=di(),this.mutatedKeys=di(),this.Aa=Jr(e),this.Ra=new Os(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Ts,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Xr(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new Cs(this.query,e.Ra,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ts,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=di(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new Vs(e))}),this.da.forEach(n=>{e.has(n)||t.push(new zs(n))}),t}ba(e){this.Ta=e.Ts,this.da=di();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Cs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class qs{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Hs{constructor(e){this.key=e,this.va=!1}}class Ks{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ei(e=>Qr(e),Gr),this.Ma=new Map,this.xa=new Set,this.Oa=new On(nn.comparator),this.Na=new Map,this.La=new la,this.Ba={},this.ka=new Map,this.qa=ta.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Ws(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=fl(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Qs(r,t,n,!0),i}async function Gs(e,t){const n=fl(e);await Qs(n,t,!0,!1)}async function Qs(e,t,n,r){const i=await Oa(e.localStore,qr(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Ys(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&$a(e.remoteStore,i),s}async function Ys(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await Ca(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return sl(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await Ca(e.localStore,t,!0),a=new Bs(t,o.Ts),s=a.ma(o.documents),l=so.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);sl(e,n,c.wa);const u=new qs(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Xs(e,t,n){const r=Dt(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(e=>!Gr(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ta(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ja(r.remoteStore,i.targetId),ol(r,i.targetId)}).catch(dn)):(ol(r,i.targetId),await Ta(r.localStore,i.targetId,!0))}async function $s(e,t){const n=Dt(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ja(n.remoteStore,r.targetId))}async function Js(e,t){const n=Dt(e);try{const e=await function(e,t){const n=Dt(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(jn.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Ur.updateTargetData(e,c))});let s=ni(),l=di();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Ea(e,o,t.documentUpdates).next(e=>{s=e.Ps,l=e.Is})),!r.isEqual($t.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return hn.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(jt(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?jt(r.va):e.removedDocuments.size>0&&(jt(r.va),r.va=!1))}),await ul(n,e,t)}catch(e){await dn(e)}}function Zs(e,t,n){const r=Dt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Dt(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&Rs(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function el(e,t,n){const r=Dt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new On(nn.comparator);e=e.insert(o,cr.newNoDocument(o,$t.min()));const n=di().add(o),i=new ao($t.min(),new Map,new On(Qt),e,n);await Js(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),cl(r)}else await Ta(r.localStore,t,!1).then(()=>ol(r,t,n)).catch(dn)}async function tl(e,t){const n=Dt(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Dt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=hn.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);jt(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=di();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);il(n,r,null),rl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ul(n,e)}catch(e){await dn(e)}}async function nl(e,t,n){const r=Dt(e);try{const e=await function(e,t){const n=Dt(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(jt(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);il(r,t,n),rl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ul(r,e)}catch(n){await dn(n)}}function rl(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function il(e,t,n){const r=Dt(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function ol(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||al(e,t)})}function al(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Ja(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),cl(e))}function sl(e,t,n){for(const r of n)r instanceof zs?(e.La.addReference(r.key,t),ll(e,r)):r instanceof Vs?(Ct("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||al(e,r.key)):Pt()}function ll(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Ct("SyncEngine","New document in limbo: "+n),e.xa.add(r),cl(e))}function cl(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new nn(Zt.fromString(t)),r=e.qa.next();e.Na.set(r,new Hs(n)),e.Oa=e.Oa.insert(n,r),$a(e.remoteStore,new Qo(qr(Ur(n.path)),r,"TargetPurposeLimboResolution",gn.oe))}}async function ul(e,t,n){const r=Dt(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,s)=>{a.push(r.Ka(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=va.Wi(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Dt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>hn.forEach(t,t=>hn.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>hn.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!pn(e))throw e;Ct("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function dl(e,t){const n=Dt(e);if(!n.currentUser.isEqual(t)){Ct("SyncEngine","User change. New user:",t.toKey());const e=await _a(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new Rt(Mt.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ul(n,e.hs)}}function hl(e,t){const n=Dt(e),r=n.Na.get(t);if(r&&r.va)return di().add(r.key);{let e=di();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function fl(e){const t=Dt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Js.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=el.bind(null,t),t.Ca.d_=Ds.bind(null,t.eventManager),t.Ca.$a=Ms.bind(null,t.eventManager),t}function pl(e){const t=Dt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tl.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nl.bind(null,t),t}class gl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Va(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return xa(this.persistence,new ba,e.initialUser,this.serializer)}Ga(e){return new pa(ma.Zr,this.serializer)}Wa(e){return new Na}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gl.provider={build:()=>new gl};class ml{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Zs(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=dl.bind(null,this.syncEngine),await xs(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new As}createDatastore(e){const t=Va(e.databaseInfo.databaseId),n=function(e){return new Ua(e)}(e.databaseInfo);return function(e,t,n,r){return new Wa(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Qa(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Zs(this.syncEngine,e,0),ja.D()?new ja:new Pa)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Ks(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Dt(e);Ct("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Xa(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ml.provider={build:()=>new ml};class vl{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):It("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class yl{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Et.UNAUTHENTICATED,this.clientId=Gt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Ct("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ct("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ks(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function bl(e,t){e.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await _a(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wl(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xl(e);Ct("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>ws(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>ws(t.remoteStore,n)),e._onlineComponents=t}async function xl(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ct("FirestoreClient","Using user provided OfflineComponentProvider");try{await bl(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Mt.FAILED_PRECONDITION||e.code===Mt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;At("Error using user provided cache. Falling back to memory cache: "+n),await bl(e,new gl)}}else Ct("FirestoreClient","Using default OfflineComponentProvider"),await bl(e,new gl);return e._offlineComponents}async function _l(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ct("FirestoreClient","Using user provided OnlineComponentProvider"),await wl(e,e._uninitializedComponentsProvider._online)):(Ct("FirestoreClient","Using default OnlineComponentProvider"),await wl(e,new ml))),e._onlineComponents}function Sl(e){return _l(e).then(e=>e.syncEngine)}async function El(e){const t=await _l(e),n=t.eventManager;return n.onListen=Ws.bind(null,t.syncEngine),n.onUnlisten=Xs.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Gs.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$s.bind(null,t.syncEngine),n}function kl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Lt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new vl({next:s=>{o.Za(),t.enqueueAndForget(()=>js(e,a));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new Rt(Mt.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new Rt(Mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Us(Ur(n.path),o,{includeMetadataChanges:!0,_a:!0});return Ps(e,a)}(await El(e),e.asyncQueue,t,n,r)),r.promise}function Ol(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Lt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new vl({next:n=>{o.Za(),t.enqueueAndForget(()=>js(e,a)),n.fromCache&&"server"===r.source?i.reject(new Rt(Mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Us(n,o,{includeMetadataChanges:!0,_a:!0});return Ps(e,a)}(await El(e),e.asyncQueue,t,n,r)),r.promise}function Tl(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Cl=new Map;function Il(e,t,n){if(!n)throw new Rt(Mt.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Al(e){if(!nn.isDocumentKey(e))throw new Rt(Mt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Nl(e){if(nn.isDocumentKey(e))throw new Rt(Mt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Pl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Pt()}function jl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rt(Mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pl(e);throw new Rt(Mt.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Dl{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Rt(Mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rt(Mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Rt(Mt.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tl(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Rt(Mt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Rt(Mt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Rt(Mt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ml{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(Mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rt(Mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dl(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ut;switch(e.type){case"firstParty":return new qt(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Rt(Mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cl.get(e);t&&(Ct("ComponentProvider","Removing Datastore"),Cl.delete(e),t.terminate())}(this),Promise.resolve()}}function Rl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=jl(e,Ml))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&At("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Et.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Rt(Mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Et(o)}e._authCredentials=new zt(new Ft(t,n))}}class Ll{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ll(this.firestore,e,this._query)}}class Fl{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fl(this.firestore,e,this._key)}}class Ul extends Ll{constructor(e,t,n){super(e,t,Ur(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fl(this.firestore,null,new nn(e))}withConverter(e){return new Ul(this.firestore,e,this._path)}}function zl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=D(e),1===arguments.length&&(t=Gt.newId()),Il("doc","path",t),e instanceof Ml){const n=Zt.fromString(t,...r);return Al(n),new Fl(e,null,new nn(n))}{if(!(e instanceof Fl||e instanceof Ul))throw new Rt(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Zt.fromString(t,...r));return Al(n),new Fl(e.firestore,e instanceof Ul?e.converter:null,new nn(n))}}class Vl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ba(this,"async_queue_retry"),this.Vu=()=>{const e=za();e&&Ct("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=za();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=za();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Lt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pn(e))throw e;Ct("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw It("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=Es.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Pt()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Bl extends Ml{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Vl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vl(e),this._firestoreClient=void 0,await e}}}function ql(e){if(e._terminated)throw new Rt(Mt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Hl(e),e._firestoreClient}function Hl(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Vn(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Tl(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new yl(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(jn.fromBase64String(e))}catch(e){throw new Rt(Mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Kl(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Rt(Mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gl{constructor(e){this._methodName=e}}class Ql{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rt(Mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rt(Mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}class Yl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Xl=/^__.*__$/;class $l{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ui(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fi(e,this.data,t,this.fieldTransforms)}}function Jl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class Zl{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Zl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Jl(this.Cu)&&Xl.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ec{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Va(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Zl({Cu:e,methodName:t,qu:n,path:tn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tc(e){const t=e._freezeSettings(),n=Va(e._databaseId);return new ec(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nc(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);sc("Data must be an object, but it was:",a,r);const s=oc(r,a);let l,c;if(o.merge)l=new Nn(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=lc(t,r,n);if(!a.contains(i))throw new Rt(Mt.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));hc(e,i)||e.push(i)}l=new Nn(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new $l(new sr(s),l,c)}function rc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ic(n,e.Qu(r?4:3,t))}function ic(e,t){if(ac(e=D(e)))return sc("Unsupported field value:",t,e),oc(e,t);if(e instanceof Gl)return function(e,t){if(!Jl(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ic(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=D(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mi(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Xt.fromDate(e);return{timestampValue:xo(t.serializer,n)}}if(e instanceof Xt){const n=new Xt(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xo(t.serializer,n)}}if(e instanceof Ql)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kl)return{bytesValue:_o(t.serializer,e._byteString)};if(e instanceof Fl){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ko(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Yl)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return pi(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Pl(e)))}(e,t)}function oc(e,t){const n={};return kn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):En(e,(e,r)=>{const i=ic(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function ac(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xt||e instanceof Ql||e instanceof Kl||e instanceof Fl||e instanceof Gl||e instanceof Yl)}function sc(e,t,n){if(!ac(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Pl(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function lc(e,t,n){if((t=D(t))instanceof Wl)return t._internalPath;if("string"==typeof t)return uc(e,t);throw dc("Field path arguments must be of type string or ",e,!1,void 0,n)}const cc=new RegExp("[~\\*/\\[\\]]");function uc(e,t,n){if(t.search(cc)>=0)throw dc("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Wl(...t.split("."))._internalPath}catch(tf){throw dc("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function dc(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Rt(Mt.INVALID_ARGUMENT,s+e+l)}function hc(e,t){return e.some(e=>e.isEqual(t))}class fc{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Fl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pc extends fc{data(){return super.data()}}function gc(e,t){return"string"==typeof t?uc(e,t):t instanceof Wl?t._internalPath:t._delegate._internalPath}function mc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Rt(Mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vc{}class yc extends vc{}class bc extends yc{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new bc(e,t,n)}_apply(e){const t=this._parse(e);return Sc(e._query,t),new Ll(e.firestore,e.converter,Kr(e._query,t))}_parse(e){const t=tc(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Rt(Mt.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){_c(a,o);const t=[];for(const n of a)t.push(xc(r,e,n));s={arrayValue:{values:t}}}else s=xc(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||_c(a,o),s=rc(n,t,a,"in"===o||"not-in"===o);return mr.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class wc extends vc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wc(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Sc(n,i),n=Kr(n,i)}(e._query,t),new Ll(e.firestore,e.converter,Kr(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function xc(e,t,n){if("string"==typeof(n=D(n))){if(""===n)throw new Rt(Mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vr(t)&&-1!==n.indexOf("/"))throw new Rt(Mt.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Zt.fromString(n));if(!nn.isDocumentKey(r))throw new Rt(Mt.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Jn(e,new nn(r))}if(n instanceof Fl)return Jn(e,n._key);throw new Rt(Mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Pl(n),"."))}function _c(e,t){if(!Array.isArray(e)||0===e.length)throw new Rt(Mt.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Sc(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Rt(Mt.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Rt(Mt.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Ec{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ln(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return En(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Rn(e.doubleValue));return new Yl(i)}convertGeoPoint(e){return new Ql(Rn(e.latitude),Rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Un(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zn(e));default:return null}}convertTimestamp(e){const t=Mn(e);return new Xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Zt.fromString(e);jt(Go(n));const r=new Bn(n.get(1),n.get(3)),i=new nn(n.popFirst(5));return r.isEqual(t)||It("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function kc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Oc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tc extends fc{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(gc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Cc extends Tc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ic{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Oc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Cc(this._firestore,this._userDataWriter,n.key,n,new Oc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rt(Mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Cc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Oc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Cc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Oc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Ac(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ac(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}class Nc extends Ec{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fl(this.firestore,null,t)}}function Pc(e,t,n){e=jl(e,Fl);const r=jl(e.firestore,Bl),i=kc(e.converter,t,n);return jc(r,[nc(tc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ai.none())])}function jc(e,t){return function(e,t){const n=new Lt;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=pl(e);try{const e=await function(e,t){const n=Dt(e),r=Xt.now(),i=t.reduce((e,t)=>e.add(t.key),di());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=ni(),l=di();return n.cs.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=Ri(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Ui(e.key,t,lr(t.value.mapValue),Ai.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:oi(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new On(Qt)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await ul(r,e.changes),await ds(r.remoteStore)}catch(e){const t=ks(e,"Failed to persist write");n.reject(t)}}(await Sl(e),t,n)),n.promise}(ql(e),t)}function Dc(e,t,n){const r=n.docs.get(t._key),i=new Nc(e);return new Tc(e,i,t._key,r,new Oc(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){kt=e}(Ye),He(new M("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Bl(new Vt(e.getProvider("auth-internal")),new Kt(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rt(Mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bn(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Je(St,"4.7.3",e),Je(St,"4.7.3","esm2017")}();function Mc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Rc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lc=Rc,Fc=new k("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Uc=new K("@firebase/auth");function zc(e){if(Uc.logLevel<=z.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Uc.error("Auth (".concat(Ye,"): ").concat(e),...n)}}function Vc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Wc(e,...n)}function Bc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wc(e,...n)}function qc(e,t,n){const r=Object.assign(Object.assign({},Lc()),{[t]:n});return new k("auth","Firebase",r).create(t,{appName:e.name})}function Hc(e){return qc(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vc(e,"argument-error"),qc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Wc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Fc.create(e,...n)}function Gc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Wc(t,...r)}}function Qc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zc(t),new Error(t)}function Yc(e,t){e||Qc(t)}function Xc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $c(){return"http:"===Jc()||"https:"===Jc()}function Jc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Zc(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($c()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yc(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Zc()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tu(e,t){Yc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class nu{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Qc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Qc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Qc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ru={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},iu=new eu(3e4,6e4);function ou(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function au(e,t,n,r){return su(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=I(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),nu.fetch()(cu(e,e.config.apiHost,n,a),l)})}async function su(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ru),t);try{const t=new du(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hu(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw hu(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw hu(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw hu(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw qc(e,s,a);Vc(e,s)}}catch(i){if(i instanceof E)throw i;Vc(e,"network-request-failed",{message:String(i)})}}async function lu(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await au(e,t,n,r,i);return"mfaPendingCredential"in o&&Vc(e,"multi-factor-auth-required",{_serverResponse:o}),o}function cu(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?tu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function uu(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class du{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Bc(this.auth,"network-request-failed")),iu.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bc(e,t,r);return i.customData._tokenResponse=n,i}function fu(e){return void 0!==e&&void 0!==e.enterprise}class pu{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uu(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function gu(e,t){return au(e,"GET","/v2/recaptchaConfig",ou(e,t))}async function mu(e,t){return au(e,"POST","/v1/accounts:lookup",t)}function vu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function yu(e){return 1e3*Number(e)}function bu(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const e=p(n);return e?JSON.parse(e):(zc("Failed to decode base64 JWT payload"),null)}catch(i){return zc("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function wu(e){const t=bu(e);return Gc(t,"internal-error"),Gc("undefined"!==typeof t.exp,"internal-error"),Gc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function xu(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof E&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class _u{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Su{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await xu(e,mu(n,{idToken:r}));Gc(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?ku(o.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Su(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function ku(e){return e.map(e=>{var{providerId:t}=e,n=Mc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Gc(e.idToken,"internal-error"),Gc("undefined"!==typeof e.idToken,"internal-error"),Gc("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):wu(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Gc(0!==e.length,"internal-error");const t=wu(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Gc(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await su(e,{},async()=>{const n=I({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=cu(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nu.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Ou;return n&&(Gc("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Gc("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Gc("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ou,this.toJSON())}_performRefresh(){return Qc("not implemented")}}function Tu(e,t){Gc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Cu{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Mc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _u(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Su(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Gc(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=D(e),r=await n.getIdToken(t),i=bu(r);Gc(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:vu(yu(i.auth_time)),issuedAtTime:vu(yu(i.iat)),expirationTime:vu(yu(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=D(e);await Eu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Gc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Gc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Eu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(We(this.auth.app))return Promise.reject(Hc(this.auth));const e=await this.getIdToken();return await xu(this,async function(e,t){return au(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;Gc(y&&_,e,"internal-error");const S=Ou.fromJSON(this.name,_);Gc("string"===typeof y,e,"internal-error"),Tu(u,e.name),Tu(d,e.name),Gc("boolean"===typeof b,e,"internal-error"),Gc("boolean"===typeof w,e,"internal-error"),Tu(h,e.name),Tu(f,e.name),Tu(p,e.name),Tu(g,e.name),Tu(m,e.name),Tu(v,e.name);const E=new Cu({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:v});return x&&Array.isArray(x)&&(E.providerData=x.map(e=>Object.assign({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ou;r.updateFromServerResponse(t);const i=new Cu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Eu(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Gc(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ku(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Ou;a.updateFromIdToken(n);const s=new Cu({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Su(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Iu=new Map;function Au(e){Yc(e instanceof Function,"Expected a class definition");let t=Iu.get(e);return t?(Yc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Iu.set(e,t),t)}class Nu{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nu.type="NONE";const Pu=Nu;function ju(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Du{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ju(this.userKey,r.apiKey,i),this.fullPersistenceKey=ju("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Du(Au(Pu),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Au(Pu);const o=ju(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Cu._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new Du(i,e,n)):new Du(i,e,n)}}function Mu(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ru(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vu(t))return"Blackberry";if(Bu(t))return"Webos";if(Lu(t))return"Safari";if((t.includes("chrome/")||Fu(t))&&!t.includes("edge/"))return"Chrome";if(zu(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ru(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/firefox\//i.test(e)}function Lu(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/crios\//i.test(e)}function Uu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/iemobile/i.test(e)}function zu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/android/i.test(e)}function Vu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/blackberry/i.test(e)}function Bu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/webos/i.test(e)}function qu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hu(){return function(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ku(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return qu(e)||zu(e)||Bu(e)||Vu(e)||/windows phone/i.test(e)||Uu(e)}function Wu(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Mu(x());break;case"Worker":t="".concat(Mu(x()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ye,"/").concat(r)}class Gu{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Qu{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Yu{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $u(this),this.idTokenSubscription=new $u(this),this.beforeStateQueue=new Gu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Au(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Du.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await mu(this,{idToken:e}),n=await Cu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(We(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Gc(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eu(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(We(this.app))return Promise.reject(Hc(this));const t=e?D(e):null;return t&&Gc(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Gc(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return We(this.app)?Promise.reject(Hc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return We(this.app)?Promise.reject(Hc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Au(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return au(e,"GET","/v2/passwordPolicy",ou(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Qu(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new k("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return au(e,"POST","/v2/accounts:revokeToken",ou(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Au(e)||this._popupRedirectResolver;Gc(t,this,"argument-error"),this.redirectPersistenceManager=await Du.create(this,[Au(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Gc(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Gc(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Uc.logLevel<=z.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Uc.warn("Auth (".concat(Ye,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Xu(e){return D(e)}class $u{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new P(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Gc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ju={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zu(e){return Ju.loadJS(e)}function ed(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class td{constructor(e){this.type="recaptcha-enterprise",this.auth=Xu(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;fu(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{gu(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new pu(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&fu(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ju.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Zu(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function nd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new td(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function rd(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await nd(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await nd(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function id(e,t,n){const r=Xu(e);Gc(r._canInitEmulator,r,"emulator-config-failed"),Gc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=od(t),{host:a,port:s}=function(e){const t=od(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ad(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ad(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function od(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ad(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class sd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qc("not implemented")}_getIdTokenResponse(e){return Qc("not implemented")}_linkToIdToken(e,t){return Qc("not implemented")}_getReauthenticationResolver(e){return Qc("not implemented")}}async function ld(e,t){return au(e,"POST","/v1/accounts:signUp",t)}async function cd(e,t){return lu(e,"POST","/v1/accounts:signInWithPassword",ou(e,t))}class ud extends sd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ud(e,t,"password")}static _fromEmailAndCode(e,t){return new ud(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return rd(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cd);case"emailLink":return async function(e,t){return lu(e,"POST","/v1/accounts:signInWithEmailLink",ou(e,t))}(e,{email:this._email,oobCode:this._password});default:Vc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return rd(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ld);case"emailLink":return async function(e,t){return lu(e,"POST","/v1/accounts:signInWithEmailLink",ou(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Vc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function dd(e,t){return lu(e,"POST","/v1/accounts:signInWithIdp",ou(e,t))}class hd extends sd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Mc(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new hd(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return dd(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,dd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,dd(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=I(t)}return e}}const fd={USER_NOT_FOUND:"user-not-found"};class pd extends sd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new pd({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new pd({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return lu(e,"POST","/v1/accounts:signInWithPhoneNumber",ou(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await lu(e,"POST","/v1/accounts:signInWithPhoneNumber",ou(e,t));if(n.temporaryProof)throw hu(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return lu(e,"POST","/v1/accounts:signInWithPhoneNumber",ou(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),fd)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new pd({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class gd{constructor(e){var t,n,r,i,o,a;const s=A(N(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Gc(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=A(N(e)).link,n=t?A(N(t)).deep_link_id:null,r=A(N(e)).deep_link_id;return(r?A(N(r)).link:null)||r||n||t||e}(e);try{return new gd(t)}catch(n){return null}}}class md{constructor(){this.providerId=md.PROVIDER_ID}static credential(e,t){return ud._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=gd.parseLink(t);return Gc(n,"argument-error"),ud._fromEmailAndCode(e,n.code,n.tenantId)}}md.PROVIDER_ID="password",md.EMAIL_PASSWORD_SIGN_IN_METHOD="password",md.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yd extends vd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bd extends yd{constructor(){super("facebook.com")}static credential(e){return hd._fromParams({providerId:bd.PROVIDER_ID,signInMethod:bd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bd.credentialFromTaggedObject(e)}static credentialFromError(e){return bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bd.credential(t.oauthAccessToken)}catch(n){return null}}}bd.FACEBOOK_SIGN_IN_METHOD="facebook.com",bd.PROVIDER_ID="facebook.com";class wd extends yd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hd._fromParams({providerId:wd.PROVIDER_ID,signInMethod:wd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wd.credentialFromTaggedObject(e)}static credentialFromError(e){return wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return wd.credential(n,r)}catch(i){return null}}}wd.GOOGLE_SIGN_IN_METHOD="google.com",wd.PROVIDER_ID="google.com";class xd extends yd{constructor(){super("github.com")}static credential(e){return hd._fromParams({providerId:xd.PROVIDER_ID,signInMethod:xd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xd.credentialFromTaggedObject(e)}static credentialFromError(e){return xd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xd.credential(t.oauthAccessToken)}catch(n){return null}}}xd.GITHUB_SIGN_IN_METHOD="github.com",xd.PROVIDER_ID="github.com";class _d extends yd{constructor(){super("twitter.com")}static credential(e,t){return hd._fromParams({providerId:_d.PROVIDER_ID,signInMethod:_d.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _d.credentialFromTaggedObject(e)}static credentialFromError(e){return _d.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return _d.credential(n,r)}catch(i){return null}}}_d.TWITTER_SIGN_IN_METHOD="twitter.com",_d.PROVIDER_ID="twitter.com";class Sd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Cu._fromIdTokenResponse(e,n,r),o=Ed(n);return new Sd({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ed(n);return new Sd({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ed(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class kd extends E{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new kd(e,t,n,r)}}function Od(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw kd._fromErrorAndOperation(e,n,t,r);throw n})}async function Td(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await xu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Sd._forOperation(e,"link",r)}async function Cd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(We(r.app))return Promise.reject(Hc(r));const i="reauthenticate";try{const o=await xu(e,Od(r,i,t,e),n);Gc(o.idToken,r,"internal-error");const a=bu(o.idToken);Gc(a,r,"internal-error");const{sub:s}=a;return Gc(e.uid===s,r,"user-mismatch"),Sd._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Vc(r,"user-mismatch"),o}}async function Id(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(We(e.app))return Promise.reject(Hc(e));const r="signIn",i=await Od(e,r,t),o=await Sd._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const Ad="__sak";class Nd{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Pd extends Nd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ku(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Hu()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pd.type="LOCAL";const jd=Pd;class Dd extends Nd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Dd.type="SESSION";const Md=Dd;class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Rd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rd.receivers=[];class Fd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=Ld("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Ud(){return window}function zd(){return"undefined"!==typeof Ud().WorkerGlobalScope&&"function"===typeof Ud().importScripts}const Vd="firebaseLocalStorageDb",Bd="firebaseLocalStorage",qd="fbase_key";class Hd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kd(e,t){return e.transaction([Bd],t?"readwrite":"readonly").objectStore(Bd)}function Wd(){const e=indexedDB.open(Vd,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Bd,{keyPath:qd})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Bd)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Vd);return new Hd(e).toPromise()}(),t(await Wd()))})})}async function Gd(e,t,n){const r=Kd(e,!0).put({[qd]:t,value:n});return new Hd(r).toPromise()}function Qd(e,t){const n=Kd(e,!0).delete(t);return new Hd(n).toPromise()}class Yd{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Wd()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(zd()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Fd(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wd();return await Gd(e,Ad,"1"),await Qd(e,Ad),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gd(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Kd(e,!1).get(t),r=await new Hd(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qd(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Kd(e,!1).getAll();return new Hd(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Yd.type="LOCAL";const Xd=Yd;ed("rcb"),new eu(3e4,6e4);const $d="recaptcha";async function Jd(e,t,n){var r;const i=await n.verify();try{let o;if(Gc("string"===typeof i,e,"argument-error"),Gc(n.type===$d,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Gc("enroll"===t.type,e,"internal-error");const n=await function(e,t){return au(e,"POST","/v2/accounts/mfaEnrollment:start",ou(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Gc("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Gc(n,e,"missing-multi-factor-info");const a=await function(e,t){return au(e,"POST","/v2/accounts/mfaSignIn:start",ou(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return au(e,"POST","/v1/accounts:sendVerificationCode",ou(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Zd{constructor(e){this.providerId=Zd.PROVIDER_ID,this.auth=Xu(e)}verifyPhoneNumber(e,t){return Jd(this.auth,e,D(t))}static credential(e,t){return pd._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Zd.credentialFromTaggedObject(t)}static credentialFromError(e){return Zd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?pd._fromTokenResponse(n,r):null}}function eh(e,t){return t?Au(t):(Gc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zd.PROVIDER_ID="phone",Zd.PHONE_SIGN_IN_METHOD="phone";class th extends sd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return dd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return dd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nh(e){return Id(e.auth,new th(e),e.bypassAuthState)}function rh(e){const{auth:t,user:n}=e;return Gc(n,t,"internal-error"),Cd(n,new th(e),e.bypassAuthState)}async function ih(e){const{auth:t,user:n}=e;return Gc(n,t,"internal-error"),Td(n,new th(e),e.bypassAuthState)}class oh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nh;case"linkViaPopup":case"linkViaRedirect":return ih;case"reauthViaPopup":case"reauthViaRedirect":return rh;default:Vc(this.auth,"internal-error")}}resolve(e){Yc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ah=new eu(2e3,1e4);class sh extends oh{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,sh.currentPopupAction&&sh.currentPopupAction.cancel(),sh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Gc(e,this.auth,"internal-error"),e}async onExecution(){Yc(1===this.filter.length,"Popup operations only handle one event");const e=Ld();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Bc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Bc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bc(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ah.get())};e()}}sh.currentPopupAction=null;const lh=new Map;class ch extends oh{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=hh(t),r=dh(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function uh(e,t){lh.set(e._key(),t)}function dh(e){return Au(e._redirectPersistence)}function hh(e){return ju("pendingRedirect",e.config.apiKey,e.name)}async function fh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(We(e.app))return Promise.reject(Hc(e));const r=Xu(e),i=eh(r,t),o=new ch(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ph{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!mh(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gh(e))}saveEventToCache(e){this.cachedEventUids.add(gh(e)),this.lastProcessedEventTime=Date.now()}}function gh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function mh(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const vh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yh=/^https?/;async function bh(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return au(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(wh(r))return}catch(n){}Vc(e,"unauthorized-domain")}function wh(e){const t=Xc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!yh.test(n))return!1;if(vh.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xh=new eu(3e4,6e4);function _h(){const e=Ud().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Sh(e){return new Promise((t,n)=>{var r,i,o;function a(){_h(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_h(),n(Bc(e,"network-request-failed"))},timeout:xh.get()})}if(null===(i=null===(r=Ud().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ud().gapi)||void 0===o?void 0:o.load)){const t=ed("iframefcb");return Ud()[t]=()=>{gapi.load?a():n(Bc(e,"network-request-failed"))},Zu("".concat(Ju.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Eh=null,e})}let Eh=null;const kh=new eu(5e3,15e3),Oh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Th=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ch(e){const t=e.config;Gc(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?tu(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ye},i=Th.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(I(r).slice(1))}async function Ih(e){const t=await function(e){return Eh=Eh||Sh(e),Eh}(e),n=Ud().gapi;return Gc(n,e,"internal-error"),t.open({where:document.body,url:Ch(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oh,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Bc(e,"network-request-failed"),o=Ud().setTimeout(()=>{r(i)},kh.get());function a(){Ud().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Ah={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ph(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Ah),{width:r.toString(),height:i.toString(),top:o,left:a}),c=x().toLowerCase();n&&(s=Fu(c)?"_blank":n),Ru(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return qu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Nh(null);const d=window.open(t||"",s,u);Gc(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Nh(d)}const jh="__/auth/handler",Dh="emulator/auth/handler",Mh=encodeURIComponent("fac");async function Rh(e,t,n,r,i,o){Gc(e.config.authDomain,e,"auth-domain-config-required"),Gc(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ye,eventId:i};if(t instanceof vd){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof yd){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Mh,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(jh);return tu(t,Dh)}(e),"?").concat(I(s).slice(1)).concat(c)}const Lh="webStorageSupport";const Fh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Md,this._completeRedirectFn=fh,this._overrideRedirectResult=uh}async _openPopup(e,t,n,r){var i;Yc(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ph(e,await Rh(e,t,n,Xc(),r),Ld())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ud().location.href=e}(await Rh(e,t,n,Xc(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Yc(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ih(e),n=new ph(e);return t.register("authEvent",t=>{Gc(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lh,{type:Lh},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Lh];void 0!==i&&t(!!i),Vc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bh(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ku()||Lu()||qu()}};var Uh="@firebase/auth",zh="1.7.9";class Vh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Gc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bh=b("authIdTokenMaxAge")||300;let qh=null;var Hh;Ju={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Bc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Hh="Browser",He(new M("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Gc(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Hh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wu(Hh)},c=new Yu(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Au);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),He(new M("auth-internal",e=>(e=>new Vh(e))(Xu(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Je(Uh,zh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Hh)),Je(Uh,zh,"esm2017");const Kh=Xe({apiKey:"AIzaSyB0VSIxR8fEIlBqyxcdhUvuySNuxwUypDI",authDomain:"calendariofinanciero-bd9cb.firebaseapp.com",projectId:"calendariofinanciero-bd9cb",storageBucket:"calendariofinanciero-bd9cb.firebasestorage.app",messagingSenderId:"781230488204",appId:"1:781230488204:web:eb9f793027e98b4cb7d9a9",measurementId:"G-MY5TVJ6KB5"}),Wh=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Ke("object"==typeof e?e:$e(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=v(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Rl(r,...e)}return r}(Kh),Gh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();const t=Ke(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ke(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(T(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Vc(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Fh,persistence:[Xd,jd,Md]}),r=b("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Bh)return;const r=null===t||void 0===t?void 0:t.token;qh!==r&&(qh=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){D(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){D(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=v("auth");return o&&id(n,"http://".concat(o)),n}(Kh),Qh=new wd,Yh=async e=>{try{if(!e)return{};const t=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof vc&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof wc).length,n=e.filter(e=>e instanceof bc).length;if(t>1||t>0&&n>0)throw new Rt(Mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=D(e),Il("collection","path",t),e instanceof Ml){const n=Zt.fromString(t,...r);return Nl(n),new Ul(e,null,n)}{if(!(e instanceof Fl||e instanceof Ul))throw new Rt(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Zt.fromString(t,...r));return Nl(n),new Ul(e.firestore,null,n)}}(Wh,"expenses"),function(e,t,n){const r=t,i=gc("where",e);return bc._create(i,r,n)}("userId","==",e)),n=await function(e){e=jl(e,Ll);const t=jl(e.firestore,Bl),n=ql(t),r=new Nc(t);return mc(e._query),Ol(n,e._query).then(n=>new Ic(t,r,e,n))}(t),r={};return n.forEach(e=>{const t=c(c({},e.data()),{},{id:e.id}),n=t.date;r[n]||(r[n]=[]),r[n].push(t)}),r}catch(t){return console.error("Error fetching expenses from Firebase:",t),{}}},Xh=async e=>{try{e.userId||console.warn("Saving expense without userId");const t=zl(Wh,"expenses",e.id);await Pc(t,e)}catch(t){throw console.error("Error saving expense to Firebase:",t),t}},$h=async e=>{try{await(t=zl(Wh,"expenses",e),jc(jl(t.firestore,Bl),[new qi(t._key,Ai.none())]))}catch(n){throw console.error("Error deleting expense from Firebase:",n),n}var t},Jh=async e=>{const t=[];Object.values(e).forEach(e=>{e.forEach(e=>{t.push(Xh(e))})}),await Promise.all(t)},Zh=async e=>{try{if(!e)return null;const t=zl(Wh,"users",e,"settings","financialProfile"),n=await function(e){e=jl(e,Fl);const t=jl(e.firestore,Bl);return kl(ql(t),e._key).then(n=>Dc(t,e,n))}(t);return n.exists()?n.data():null}catch(t){return console.error("Error fetching profile from Firebase:",t),null}},ef=async(e,t)=>{try{if(!t)return;await Pc(zl(Wh,"users",t,"settings","financialProfile"),e)}catch(n){throw console.error("Error saving profile to Firebase:",n),n}};function tf(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=tf(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nf(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=tf(e))&&(r&&(r+=" "),r+=t);return r}var rf=n(7820),of=n.n(rf),af=n(7770),sf=n.n(af),lf=e=>0===e?0:e>0?1:-1,cf=e=>"number"==typeof e&&e!=+e,uf=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,df=e=>("number"===typeof e||e instanceof Number)&&!cf(e),hf=e=>df(e)||"string"===typeof e,ff=0,pf=e=>{var t=++ff;return"".concat(e||"").concat(t)},gf=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!df(e)&&"string"!==typeof e)return r;if(uf(e)){if(null==t)return r;var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return cf(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},mf=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function vf(e,t,n){return df(e)&&df(t)?e+n*(t-e):t}var yf=e=>null===e||"undefined"===typeof e,bf=e=>yf(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wf(e){return null!=e}function xf(){}var _f=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("undefined"!==typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(t.replace(/%s/g,()=>r[o++]))}},Sf=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:a}=n,s=uf(r)?e:Number(r),l=uf(i)?t:Number(i);return o&&o>0&&(s?l=s/o:l&&(s=l*o),a&&null!=l&&l>a&&(l=a)),{calculatedWidth:s,calculatedHeight:l}},Ef={width:0,height:0,overflow:"visible"},kf={width:0,overflowX:"visible"},Of={height:0,overflowY:"visible"},Tf={},Cf=e=>{var{width:t,height:n}=e,r=uf(t),i=uf(n);return r&&i?Ef:r?kf:i?Of:Tf};function If(e){return Number.isFinite(e)}function Af(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(null,arguments)}function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(n),!0).forEach(function(t){Df(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Df(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mf=(0,t.createContext)({width:-1,height:-1});function Rf(e){var{children:n,width:r,height:i}=e,o=(0,t.useMemo)(()=>({width:r,height:i}),[r,i]);return function(e){return Af(e.width)&&Af(e.height)}(o)?t.createElement(Mf.Provider,{value:o},n):null}var Lf=()=>(0,t.useContext)(Mf),Ff=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:i={width:-1,height:-1},width:o,height:a,minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:g={}}=e,m=(0,t.useRef)(null),v=(0,t.useRef)();v.current=p,(0,t.useImperativeHandle)(n,()=>m.current);var[y,b]=(0,t.useState)({containerWidth:i.width,containerHeight:i.height}),w=(0,t.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,t.useEffect)(()=>{if(null==m.current||"undefined"===typeof ResizeObserver)return xf;var e=e=>{var t,{width:n,height:r}=e[0].contentRect;w(n,r),null===(t=v.current)||void 0===t||t.call(v,n,r)};d>0&&(e=of()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=m.current.getBoundingClientRect();return w(n,r),t.observe(m.current),()=>{t.disconnect()}},[w,d]);var{containerWidth:x,containerHeight:_}=y;_f(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:E}=Sf(x,_,{width:o,height:a,aspect:r,maxHeight:c});return _f(null!=S&&S>0||null!=E&&E>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",S,E,o,a,s,l,r),t.createElement("div",{id:h?"".concat(h):void 0,className:nf("recharts-responsive-container",f),style:jf(jf({},g),{},{width:o,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:m},t.createElement("div",{style:Cf({width:o,height:a})},t.createElement(Rf,{width:S,height:E},u)))}),Uf=(0,t.forwardRef)((e,n)=>{var r=Lf();if(Af(r.width)&&Af(r.height))return e.children;var{width:i,height:o}=function(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return void 0===i&&void 0===o?(i="100%",o="100%"):void 0===i?i=r&&r>0?void 0:"100%":void 0===o&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=Sf(void 0,void 0,{width:i,height:o,aspect:e.aspect,maxHeight:e.maxHeight});return df(a)&&df(s)?t.createElement(Rf,{width:a,height:s},e.children):t.createElement(Ff,Nf({},e,{width:i,height:o,ref:n}))});var zf=Symbol.for("immer-nothing"),Vf=Symbol.for("immer-draftable"),Bf=Symbol.for("immer-state");function qf(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Hf=Object,Kf=Hf.getPrototypeOf,Wf="constructor",Gf="prototype",Qf="configurable",Yf="enumerable",Xf="writable",$f="value",Jf=e=>!!e&&!!e[Bf];function Zf(e){var t;return!!e&&(np(e)||lp(e)||!!e[Vf]||!(null===(t=e[Wf])||void 0===t||!t[Vf])||cp(e)||up(e))}var ep=Hf[Gf][Wf].toString(),tp=new WeakMap;function np(e){if(!e||!dp(e))return!1;const t=Kf(e);if(null===t||t===Hf[Gf])return!0;const n=Hf.hasOwnProperty.call(t,Wf)&&t[Wf];if(n===Object)return!0;if(!hp(n))return!1;let r=tp.get(n);return void 0===r&&(r=Function.toString.call(n),tp.set(n,r)),r===ep}function rp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===ip(e)){(n?Reflect.ownKeys(e):Hf.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function ip(e){const t=e[Bf];return t?t.type_:lp(e)?1:cp(e)?2:up(e)?3:0}var op=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ip(e))?e.has(t):Hf[Gf].hasOwnProperty.call(e,t)},ap=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ip(e))?e.get(t):e[t]},sp=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ip(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n};var lp=Array.isArray,cp=e=>e instanceof Map,up=e=>e instanceof Set,dp=e=>"object"===typeof e,hp=e=>"function"===typeof e,fp=e=>"boolean"===typeof e,pp=e=>e.copy_||e.base_,gp=e=>e.modified_?e.copy_:e.base_;function mp(e,t){if(cp(e))return new Map(e);if(up(e))return new Set(e);if(lp(e))return Array[Gf].slice.call(e);const n=np(e);if(!0===t||"class_only"===t&&!n){const t=Hf.getOwnPropertyDescriptors(e);delete t[Bf];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o[Xf]&&(o[Xf]=!0,o[Qf]=!0),(o.get||o.set)&&(t[i]={[Qf]:!0,[Xf]:!0,[Yf]:o[Yf],[$f]:e[i]})}return Hf.create(Kf(e),t)}{const t=Kf(e);if(null!==t&&n)return c({},e);const r=Hf.create(t);return Hf.assign(r,e)}}function vp(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return bp(e)||Jf(e)||(ip(e)>1&&Hf.defineProperties(e,{set:yp,add:yp,clear:yp,delete:yp}),Hf.freeze(e),t&&rp(e,(e,t)=>{vp(t,!0)},!1)),e}var yp={[$f]:function(){qf(2)}};function bp(e){return null===e||!dp(e)||Hf.isFrozen(e)}var wp="MapSet",xp="Patches",_p={};function Sp(e){const t=_p[e];return t||qf(0),t}var Ep;var kp=()=>Ep;function Op(e,t){t&&(e.patchPlugin_=Sp(xp),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tp(e){Cp(e),e.drafts_.forEach(Ap),e.drafts_=null}function Cp(e){e===Ep&&(Ep=e.parent_)}var Ip=e=>Ep=((e,t)=>{return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:(n=wp,_p[n]?Sp(wp):void 0)};var n})(Ep,e);function Ap(e){const t=e[Bf];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Np(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[Bf].modified_&&(Tp(t),qf(4)),Zf(e)&&(e=Pp(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Bf].base_,e,t)}else e=Pp(t,n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vp(t,n)}(t,e,!0),Tp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zf?e:void 0}function Pp(e,t){if(bp(t))return t;const n=t[Bf];if(!n){return Fp(t,e.handledSet_,e)}if(!Dp(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;){t.pop()(e)}Lp(n,e)}return n.copy_}function jp(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Dp=(e,t)=>e.scope_===t,Mp=[];function Rp(e,t,n,r){var i;const o=pp(e),a=e.type_;if(void 0!==r){if(ap(o,r,a)===t)return void sp(o,r,n,a)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;rp(o,(e,n)=>{if(Jf(n)){const r=t.get(n)||[];r.push(e),t.set(n,r)}})}const s=null!==(i=e.draftLocations_.get(t))&&void 0!==i?i:Mp;for(const l of s)sp(o,l,n,a)}function Lp(e,t){var n,r;if(e.modified_&&!e.finalized_&&(3===e.type_||(null!==(n=null===(r=e.assigned_)||void 0===r?void 0:r.size)&&void 0!==n?n:0)>0)){const{patchPlugin_:n}=t;if(n){const r=n.getPath(e);r&&n.generatePatches_(e,r,t)}jp(e)}}function Fp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Jf(e)||t.has(e)||!Zf(e)||bp(e)||(t.add(e),rp(e,(r,i)=>{if(Jf(i)){const t=i[Bf];if(Dp(t,n)){const n=gp(t);sp(e,r,n,e.type_),jp(t)}}else Zf(i)&&Fp(i,t,n)})),e}var Up={get(e,t){if(t===Bf)return e;const n=pp(e);if(!op(n,t,e.type_))return function(e,t,n){var r;const i=Bp(t,n);return i?$f in i?i[$f]:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];if(e.finalized_||!Zf(r))return r;if(r===Vp(e.base_,t)){Hp(e);const n=1===e.type_?+t:t,i=Kp(e.scope_,r,e,n);return e.copy_[n]=i}return r},has:(e,t)=>t in pp(e),ownKeys:e=>Reflect.ownKeys(pp(e)),set(e,t,n){const r=Bp(pp(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Vp(pp(e),t),i=null===r||void 0===r?void 0:r[Bf];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||op(e.base_,t,e.type_)))return!0;Hp(e),qp(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),function(e,t,n){const{scope_:r}=e;if(Jf(n)){const i=n[Bf];Dp(i,r)&&i.callbacks_.push(function(){Hp(e);const r=gp(i);Rp(e,n,r,t)})}else Zf(n)&&e.callbacks_.push(function(){const i=pp(e);var o;ap(i,t,e.type_)===n&&r.drafts_.length>1&&!0===(null!==(o=e.assigned_.get(t))&&void 0!==o&&o)&&e.copy_&&Fp(ap(e.copy_,t,e.type_),r.handledSet_,r)})}(e,t,n)),!0},deleteProperty:(e,t)=>(Hp(e),void 0!==Vp(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),qp(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=pp(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{[Xf]:!0,[Qf]:1!==e.type_||"length"!==t,[Yf]:r[Yf],[$f]:n[t]}:r},defineProperty(){qf(11)},getPrototypeOf:e=>Kf(e.base_),setPrototypeOf(){qf(12)}},zp={};function Vp(e,t){const n=e[Bf];return(n?pp(n):e)[t]}function Bp(e,t){if(!(t in e))return;let n=Kf(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Kf(n)}}function qp(e){e.modified_||(e.modified_=!0,e.parent_&&qp(e.parent_))}function Hp(e){e.copy_||(e.assigned_=new Map,e.copy_=mp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}rp(Up,(e,t)=>{zp[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),zp.deleteProperty=function(e,t){return zp.set.call(this,e,t,void 0)},zp.set=function(e,t,n){return Up.set.call(this,e[0],t,n,e[0])};function Kp(e,t,n,r){var i,o;const[a,s]=cp(t)?Sp(wp).proxyMap_(t,n):up(t)?Sp(wp).proxySet_(t,n):function(e,t){const n=lp(e),r={type_:n?1:0,scope_:t?t.scope_:kp(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Up;n&&(i=[r],o=zp);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,[s,r]}(t,n);return(null!==(i=null===n||void 0===n?void 0:n.scope_)&&void 0!==i?i:kp()).drafts_.push(a),s.callbacks_=null!==(o=null===n||void 0===n?void 0:n.callbacks_)&&void 0!==o?o:[],s.key_=r,n&&void 0!==r?function(e,t,n){e.callbacks_.push(function(r){var i,o;const a=t;if(!a||!Dp(a,r))return;null===(i=r.mapSetPlugin_)||void 0===i||i.fixSetContents(a);const s=gp(a);Rp(e,null!==(o=a.draft_)&&void 0!==o?o:a,s,n),Lp(a,r)})}(n,s,r):s.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(s);const{patchPlugin_:n}=e;s.modified_&&n&&n.generatePatches_(s,[],e)}),a}function Wp(e){return Jf(e)||qf(10),Gp(e)}function Gp(e){if(!Zf(e)||bp(e))return e;const t=e[Bf];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mp(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=mp(e,!0);return rp(n,(e,t)=>{sp(n,e,Gp(t))},r),t&&(t.finalized_=!1),n}var Qp=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(hp(e)&&!hp(t)){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,e=>t.call(this,e,...o))}}let r;if(hp(t)||qf(6),void 0===n||hp(n)||qf(7),Zf(e)){const i=Ip(this),o=Kp(i,e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?Tp(i):Cp(i)}return Op(i,n),Np(r,i)}if(!e||!dp(e)){if(r=t(e),void 0===r&&(r=e),r===zf&&(r=void 0),this.autoFreeze_&&vp(r,!0),n){const t=[],i=[];Sp(xp).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:i}),n(t,i)}return r}qf(1)},this.produceWithPatches=(e,n)=>{if(hp(e))return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const o=this.produce(e,n,(e,t)=>{r=e,i=t});return[o,r,i]},fp(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),fp(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),fp(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Zf(e)||qf(8),Jf(e)&&(e=Wp(e));const t=Ip(this),n=Kp(t,e,void 0);return n[Bf].isManual_=!0,Cp(t),n}finishDraft(e,t){const n=e&&e[Bf];n&&n.isManual_||qf(9);const{scope_:r}=n;return Op(r,t),Np(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Sp(xp).applyPatches_;return Jf(e)?r(e,t):this.produce(e,e=>r(e,t))}},Yp=Qp.produce;function Xp(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var $p=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Jp=()=>Math.random().toString(36).substring(7).split("").join("."),Zp={INIT:"@@redux/INIT".concat(Jp()),REPLACE:"@@redux/REPLACE".concat(Jp()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Jp())};function eg(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function tg(e,t,n){if("function"!==typeof e)throw new Error(Xp(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Xp(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Xp(1));return n(tg)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach((e,t)=>{a.set(t,e)}))}function u(){if(l)throw new Error(Xp(3));return i}function d(e){if("function"!==typeof e)throw new Error(Xp(4));if(l)throw new Error(Xp(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(Xp(6));t=!1,c(),a.delete(n),o=null}}}function h(e){if(!eg(e))throw new Error(Xp(7));if("undefined"===typeof e.type)throw new Error(Xp(8));if("string"!==typeof e.type)throw new Error(Xp(17));if(l)throw new Error(Xp(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach(e=>{e()}),e}h({type:Zp.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Xp(10));r=e,h({type:Zp.REPLACE})},[$p]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Xp(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[$p](){return this}}}}}function ng(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const r=t[a];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Zp.INIT}))throw new Error(Xp(12));if("undefined"===typeof n(void 0,{type:Zp.PROBE_UNKNOWN_ACTION()}))throw new Error(Xp(13))})}(n)}catch(o){i=o}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let o=!1;const a={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Xp(14))}a[s]=u,o=o||u!==c}return o=o||r.length!==Object.keys(e).length,o?a:e}}function rg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function ig(e){return eg(e)&&"type"in e&&"string"===typeof e.type}function og(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var ag=og(),sg=og;const lg=["reducerPath"];var cg="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?rg:rg.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function ug(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(om(0));return c(c({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>ig(t)&&t.type===e,n}var dg=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function hg(e){return Zf(e)?Yp(e,()=>{}):e}function fg(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var pg="RTK_autoBatch",gg=()=>e=>({payload:e,meta:{[pg]:!0}}),mg=e=>t=>{setTimeout(t,e)},vg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,o=!1;const a=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:mg(10):"callback"===e.type?e.queueNotification:mg(e.timeout),l=()=>{o=!1,i&&(i=!1,a.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[pg]),i=!r,i&&(o||(o=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}};function yg(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let o=new dg;return t&&(function(e){return"boolean"===typeof e}(t)?o.push(ag):o.push(sg(t.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:a,enhancers:s}=e||{};let l,u;if("function"===typeof n)l=n;else{if(!eg(n))throw new Error(om(1));l=ng(n)}u="function"===typeof r?r(t):t();let d=rg;i&&(d=cg(c({trace:!1},"object"===typeof i&&i)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Xp(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map(e=>e(a));return o=rg(...s)(i.dispatch),c(c({},i),{},{dispatch:o})}}(...u),f=(e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new dg(e);return n&&r.push(vg("object"===typeof n?n:void 0)),r})(h);return tg(l,a,d(..."function"===typeof s?s(f):f()))}function bg(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(om(28));if(r in t)throw new Error(om(29));return t[r]=n,i},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var wg=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var xg=Symbol.for("rtk-slice-createasyncthunk");function _g(e,t){return"".concat(e,"/").concat(t)}function Sg(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[xg];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(om(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return c({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(om(12));if(n in a.sliceCaseReducersByType)throw new Error(om(13));return a.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(a.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?bg(e.extraReducers):[e.extraReducers],i=c(c({},t),a.sliceCaseReducersByType);return function(e,t){let n,[r,i,o]=bg(t);if(function(e){return"function"===typeof e}(e))n=()=>hg(e());else{const t=hg(e);n=()=>t}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,a=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===a.filter(e=>!!e).length&&(a=[o]),a.reduce((e,n)=>{if(n){if(Jf(e)){const r=n(e,t);return void 0===r?e:r}if(Zf(e))return Yp(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return a.getInitialState=n,a}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}o.forEach(r=>{const o=i[r],a={reducerName:r,type:_g(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,i,{type:o,reducerName:a,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(om(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(a,r).exposeAction(a,i?ug(o,i):ug(o))}(a,o,s):function(e,t,n,r){let{type:i,reducerName:o}=e;if(!r)throw new Error(om(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,a,d);n.exposeAction(o,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(o,{fulfilled:s||Og,pending:l||Og,rejected:c||Og,settled:u||Og})}(a,o,s,n)});const u=e=>e,d=new Map,h=new WeakMap;let f;function p(e,t){return f||(f=l()),f(e,t)}function g(){return f||(f=l()),f.getInitialState()}function m(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=fg(h,r,g)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const r=fg(d,n,()=>new WeakMap);return fg(r,t,()=>{const r={};for(const[o,a]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[o]=Eg(a,t,()=>fg(h,t,g),n)}return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const v=c(c({name:t,reducer:p,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:g},m(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,lg);const o=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:o,reducer:p},i),c(c({},v),m(o,!0))}});return v}}function Eg(e,t,n,r){function i(i){let o=t(i);"undefined"===typeof o&&r&&(o=n());for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return e(o,...s)}return i.unwrapped=e,i}var kg=Sg();function Og(){}var Tg="listener",Cg="completed",Ig="cancelled",Ag="task-".concat(Ig),Ng="task-".concat(Cg),Pg="".concat(Tg,"-").concat(Ig),jg="".concat(Tg,"-").concat(Cg),Dg=class{constructor(e){s(this,"name","TaskAbortError"),s(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(Ig," (reason: ").concat(e,")")}},Mg=(e,t)=>{if("function"!==typeof e)throw new TypeError(om(32))},Rg=()=>{},Lg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rg;return e.catch(t),e},Fg=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ug=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},zg=e=>{if(e.aborted){const{reason:t}=e;throw new Dg(t)}};function Vg(e,t){let n=Rg;return new Promise((r,i)=>{const o=()=>i(new Dg(e.reason));e.aborted?o():(n=Fg(e,o),t.finally(()=>n()).then(r,i))}).finally(()=>{n=Rg})}var Bg=e=>t=>Lg(Vg(e,t).then(t=>(zg(e),t))),qg=e=>{const t=Bg(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Hg}=Object,Kg={},Wg="listenerMiddleware",Gg=(e,t)=>(n,r)=>{Mg(n);const i=new AbortController;var o;o=i,Fg(e,()=>Ug(o,e.reason));const a=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Dg?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{zg(e),zg(i.signal);const t=await n({pause:Bg(i.signal),delay:qg(i.signal),signal:i.signal});return zg(i.signal),t},()=>Ug(i,Ng));return null!==r&&void 0!==r&&r.autoJoin&&t.push(a.catch(Rg)),{result:Bg(e)(a),cancel(){Ug(i,Ag)}}},Qg=(e,t)=>(n,r)=>Lg((async(n,r)=>{zg(t);let i=()=>{};const o=[new Promise((t,r)=>{let o=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{o(),r()}})];null!=r&&o.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await Vg(t,Promise.race(o));return zg(t),e}finally{i()}})(n,r)),Yg=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=ug(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(om(21));return Mg(o),{predicate:i,type:t,effect:o}},Xg=Hg(e=>{const{type:t,predicate:n,effect:r}=Yg(e);return{id:wg(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(om(22))}}},{withTypes:()=>Xg}),$g=(e,t)=>{const{type:n,effect:r,predicate:i}=Yg(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},Jg=e=>{e.pending.forEach(e=>{Ug(e,Pg)})},Zg=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},em=Hg(ug("".concat(Wg,"/add")),{withTypes:()=>em}),tm=ug("".concat(Wg,"/removeAll")),nm=Hg(ug("".concat(Wg,"/remove")),{withTypes:()=>nm}),rm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(Wg,"/error"),...t)},im=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,n=new Map,{extra:r,onError:i=rm}=e;Mg(i);const o=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Jg(e)}))(null!==(n=$g(t,e))&&void 0!==n?n:Xg(e))};Hg(o,{withTypes:()=>o});const a=e=>{const n=$g(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Jg(n)),!!n};Hg(a,{withTypes:()=>a});const s=async(e,a,s,l)=>{const c=new AbortController,u=Qg(o,c.signal),d=[];try{e.pending.add(c),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:0;n.set(e,r+1)})(e),await Promise.resolve(e.effect(a,Hg({},s,{getOriginalState:l,condition:(e,t)=>u(e,t).then(Boolean),take:u,delay:qg(c.signal),pause:Bg(c.signal),extra:r,signal:c.signal,fork:Gg(c.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==c&&(Ug(e,Pg),n.delete(e))})},cancel:()=>{Ug(c,Pg),e.pending.delete(c)},throwIfCancelled:()=>{zg(c.signal)}})))}catch(h){h instanceof Dg||Zg(i,h,{raisedBy:"effect"})}finally{await Promise.all(d),Ug(c,jg),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:1;1===r?n.delete(e):n.set(e,r-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())Jg(e);e.clear()})(t,n);return{middleware:e=>n=>r=>{if(!ig(r))return n(r);if(em.match(r))return o(r.payload);if(tm.match(r))return void l();if(nm.match(r))return a(r.payload);let c=e.getState();const u=()=>{if(c===Kg)throw new Error(om(23));return c};let d;try{if(d=n(r),t.size>0){const n=e.getState(),o=Array.from(t.values());for(const t of o){let o=!1;try{o=t.predicate(r,n,c)}catch(h){o=!1,Zg(i,h,{raisedBy:"predicate"})}o&&s(t,r,e,u)}}}finally{c=Kg}return d},startListening:o,stopListening:a,clearListeners:l}};Symbol.for("rtk-state-proxy-original");function om(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function am(e,t){if(t){var n=Number.parseInt(t,10);if(!cf(n))return null===e||void 0===e?void 0:e[n]}}var sm=kg({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lm=sm.reducer,{createEventEmitter:cm}=sm.actions;n(7237);function um(e){e()}var dm={notify(){},get:()=>[]};function hm(e,t){let n,r=dm,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){um(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=dm)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var fm=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),pm=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),gm=(()=>fm||pm?t.useLayoutEffect:t.useEffect)();function mm(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function vm(e,t){if(mm(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!mm(e[n[i]],t[n[i]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var ym=Symbol.for("react-redux-context"),bm="undefined"!==typeof globalThis?globalThis:{};function wm(){var e;if(!t.createContext)return{};const n=null!==(e=bm[ym])&&void 0!==e?e:bm[ym]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var xm=wm();var _m=function(e){const{children:n,context:r,serverState:i,store:o}=e,a=t.useMemo(()=>{const e=hm(o);return{store:o,subscription:e,getServerState:i?()=>i:void 0}},[o,i]),s=t.useMemo(()=>o.getState(),[o]);gm(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,s]);const l=r||xm;return t.createElement(l.Provider,{value:a},n)};var Sm=Symbol.for("immer-nothing"),Em=Symbol.for("immer-draftable"),km=Symbol.for("immer-state");function Om(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Tm=Object.getPrototypeOf;function Cm(e){return!!e&&!!e[km]}function Im(e){var t;return!!e&&(Pm(e)||Array.isArray(e)||!!e[Em]||!(null===(t=e.constructor)||void 0===t||!t[Em])||Lm(e)||Fm(e))}var Am=Object.prototype.constructor.toString(),Nm=new WeakMap;function Pm(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!==typeof n)return!1;let r=Nm.get(n);return void 0===r&&(r=Function.toString.call(n),Nm.set(n,r)),r===Am}function jm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===Dm(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function Dm(e){const t=e[km];return t?t.type_:Array.isArray(e)?1:Lm(e)?2:Fm(e)?3:0}function Mm(e,t){return 2===Dm(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Rm(e,t,n){const r=Dm(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Lm(e){return e instanceof Map}function Fm(e){return e instanceof Set}function Um(e){return e.copy_||e.base_}function zm(e,t){if(Lm(e))return new Map(e);if(Fm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Pm(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[km];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Tm(e),t)}{const t=Tm(e);if(null!==t&&n)return c({},e);const r=Object.create(t);return Object.assign(r,e)}}function Vm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return qm(e)||Cm(e)||!Im(e)||(Dm(e)>1&&Object.defineProperties(e,{set:Bm,add:Bm,clear:Bm,delete:Bm}),Object.freeze(e),t&&Object.values(e).forEach(e=>Vm(e,!0))),e}var Bm={value:function(){Om(2)}};function qm(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var Hm,Km={};function Wm(e){const t=Km[e];return t||Om(0),t}function Gm(){return Hm}function Qm(e,t){t&&(Wm("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ym(e){Xm(e),e.drafts_.forEach(Jm),e.drafts_=null}function Xm(e){e===Hm&&(Hm=e.parent_)}function $m(e){return Hm={drafts_:[],parent_:Hm,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jm(e){const t=e[km];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Zm(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[km].modified_&&(Ym(t),Om(4)),Im(e)&&(e=ev(t,e),t.parent_||nv(t,e)),t.patches_&&Wm("Patches").generateReplacementPatches_(n[km].base_,e,t.patches_,t.inversePatches_)):e=ev(t,n,[]),Ym(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Sm?e:void 0}function ev(e,t,n){if(qm(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[km];if(!i)return jm(t,(r,o)=>tv(e,i,t,r,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return nv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let o=t,a=!1;3===i.type_&&(o=new Set(t),t.clear(),a=!0),jm(o,(r,o)=>tv(e,i,t,r,o,n,a),r),nv(e,t,!1),n&&e.patches_&&Wm("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function tv(e,t,n,r,i,o,a){if(null==i)return;if("object"!==typeof i&&!a)return;const s=qm(i);if(!s||a){if(Cm(i)){const a=ev(e,i,o&&t&&3!==t.type_&&!Mm(t.assigned_,r)?o.concat(r):void 0);if(Rm(n,r,a),!Cm(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(Im(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===i&&s)return;ev(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!(Lm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||nv(e,i)}}}function nv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vm(t,n)}var rv={get(e,t){if(t===km)return e;const n=Um(e);if(!Mm(n,t))return function(e,t,n){var r;const i=av(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Im(r)?r:r===ov(e.base_,t)?(lv(e),e.copy_[t]=cv(r,e)):r},has:(e,t)=>t in Um(e),ownKeys:e=>Reflect.ownKeys(Um(e)),set(e,t,n){const r=av(Um(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=ov(Um(e),t),i=null===r||void 0===r?void 0:r[km];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Mm(e.base_,t)))return!0;lv(e),sv(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==ov(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,lv(e),sv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Um(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Om(11)},getPrototypeOf:e=>Tm(e.base_),setPrototypeOf(){Om(12)}},iv={};function ov(e,t){const n=e[km];return(n?Um(n):e)[t]}function av(e,t){if(!(t in e))return;let n=Tm(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Tm(n)}}function sv(e){e.modified_||(e.modified_=!0,e.parent_&&sv(e.parent_))}function lv(e){e.copy_||(e.copy_=zm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}jm(rv,(e,t)=>{iv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),iv.deleteProperty=function(e,t){return iv.set.call(this,e,t,void 0)},iv.set=function(e,t,n){return rv.set.call(this,e[0],t,n,e[0])};function cv(e,t){const n=Lm(e)?Wm("MapSet").proxyMap_(e,t):Fm(e)?Wm("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Gm(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=rv;n&&(i=[r],o=iv);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:Gm()).drafts_.push(n),n}function uv(e){if(!Im(e)||qm(e))return e;const t=e[km];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=zm(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=zm(e,!0);return jm(n,(e,t)=>{Rm(n,e,uv(t))},r),t&&(t.finalized_=!1),n}var dv=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,e=>t.call(this,e,...o))}}let r;if("function"!==typeof t&&Om(6),void 0!==n&&"function"!==typeof n&&Om(7),Im(e)){const i=$m(this),o=cv(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?Ym(i):Xm(i)}return Qm(i,n),Zm(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Sm&&(r=void 0),this.autoFreeze_&&Vm(r,!0),n){const t=[],i=[];Wm("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Om(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const o=this.produce(e,n,(e,t)=>{r=e,i=t});return[o,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Im(e)||Om(8),Cm(e)&&(e=function(e){Cm(e)||Om(10);return uv(e)}(e));const t=$m(this),n=cv(e,void 0);return n[km].isManual_=!0,Xm(t),n}finishDraft(e,t){const n=e&&e[km];n&&n.isManual_||Om(9);const{scope_:r}=n;return Qm(r,t),Zm(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Wm("Patches").applyPatches_;return Cm(e)?r(e,t):this.produce(e,e=>r(e,t))}};dv.produce;var hv={active:!1,index:null,dataKey:void 0,coordinate:void 0},fv=kg({name:"tooltip",initialState:{itemInteraction:{click:hv,hover:hv},axisInteraction:{click:hv,hover:hv},keyboardInteraction:hv,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:gg()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Wp(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:gg()},removeTooltipEntrySettings:{reducer(e,t){var n=Wp(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:gg()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:pv,replaceTooltipEntrySettings:gv,removeTooltipEntrySettings:mv,setTooltipSettingsState:vv,setActiveMouseOverItemIndex:yv,mouseLeaveItem:bv,mouseLeaveChart:wv,setActiveClickItemIndex:xv,setMouseOverAxisIndex:_v,setMouseClickAxisIndex:Sv,setSyncInteraction:Ev,setKeyboardInteraction:kv}=fv.actions,Ov=fv.reducer,Tv=kg({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Cv,setDataStartEndIndexes:Iv,setComputedData:Av}=Tv.actions,Nv=Tv.reducer,Pv=kg({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(o=t.payload.left)&&void 0!==o?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jv,setLayout:Dv,setChartSize:Mv,setScale:Rv}=Pv.actions,Lv=Pv.reducer;function Fv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var Uv=e=>Array.isArray(e)?e:[e];function zv(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Vv="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Bv(){return{s:0,v:void 0,o:null,p:null}}function qv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,o=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Bv(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Bv(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),o++,r){var c,u,d;const e=null!==(c=null===(u=i)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==o&&o--);i="object"===typeof l&&null!==l||"function"===typeof l?new Vv(l):l}return s.s=1,s.v=l,l}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function Hv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,o=0,a=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),Fv(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const u=c(c({},i),s),{memoize:d,memoizeOptions:h=[],argsMemoize:f=qv,argsMemoizeOptions:p=[],devModeChecks:g={}}=u,m=Uv(h),v=Uv(p),y=zv(t),b=d(function(){return o++,l.apply(null,arguments)},...m);const w=f(function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(y,arguments);return r=b.apply(null,e),r},...v);return Object.assign(w,{resultFunc:l,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>r,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:f})};return Object.assign(o,{withTypes:()=>o}),o}var Kv=Hv(qv),Wv=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kv;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>Wv}),Gv=n(8443),Qv=(0,t.createContext)(null),Yv=e=>e,Xv=()=>{var e=(0,t.useContext)(Qv);return e?e.store.dispatch:Yv},$v=()=>{},Jv=()=>$v,Zv=(e,t)=>e===t;function ey(e){var n=(0,t.useContext)(Qv);return(0,Gv.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:Jv,n?n.store.getState:$v,n?n.store.getState:$v,n?e:$v,Zv)}var ty=n(3821),ny=n.n(ty),ry=e=>e.legend.settings,iy=Kv([e=>e.legend.payload,ry],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ny()(r,n):r});function oy(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function ay(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function sy(e){return function(){return e}}function ly(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function cy(e,t){return e[t]}function uy(e){const t=[];return t.key=e,t}function dy(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hy(Object(n),!0).forEach(function(t){py(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function py(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gy(e,t,n){return yf(e)||yf(t)?n:hf(t)?sf()(e,t,n):"function"===typeof t?t(e):n}var my=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,vy=1e-4,yy={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=cf(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}oy(e,t)}},none:oy,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}oy(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,oy(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=cf(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},by=(e,t,n)=>{var r=yy[n],i=function(){var e=sy([]),t=ly,n=oy,r=cy;function i(i){var o,a,s=Array.from(e.apply(this,arguments),uy),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=ay(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:sy(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:sy(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?ly:"function"===typeof e?e:sy(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?oy:e,i):n},i}().keys(t).value((e,t)=>Number(gy(e,t,0))).order(ly).offset(r);return i(e)};var wy=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:a}=o,s=a.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(df);return[Math.min(...t),Math.max(...t)]})(dy(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},xy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_y=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sy=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ny()(t,e=>e.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Ey(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return fy(fy({},t),{},{dataKey:n,payload:r,value:i,name:o})}function ky(e,t){return e?String(e):"string"===typeof t?t:void 0}var Oy=e=>e.layout.width,Ty=e=>e.layout.height,Cy=e=>e.layout.scale,Iy=e=>e.layout.margin,Ay=Kv(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ny=Kv(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Py="data-recharts-item-index",jy="data-recharts-item-data-key";function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dy(Object(n),!0).forEach(function(t){Ry(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ry(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ly=Kv([Oy,Ty,Iy,e=>e.brush.height,function(e){return Ny(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Ny(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Ay(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return Ay(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},ry,e=>e.legend.size],(e,t,n,r,i,o,a,s,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+o},d=My(My({},{top:(n.top||0)+a,bottom:(n.bottom||0)+s}),u),h=d.bottom;d.bottom+=r,d=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===a)&&"center"!==o&&df(e[o]))return fy(fy({},e),{},{[o]:e[o]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===o)&&"middle"!==a&&df(e[a]))return fy(fy({},e),{},{[a]:e[a]+(i||0)})}return e})(d,l,c);var f=e-d.left-d.right,p=t-d.top-d.bottom;return My(My({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})}),Fy=Kv(Ly,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Uy=(Kv(Oy,Ty,(e,t)=>({x:0,y:0,width:e,height:t})),(0,t.createContext)(null)),zy=()=>null!=(0,t.useContext)(Uy),Vy=e=>e.brush,By=Kv([Vy,Ly,Iy],(e,t,n)=>({height:e.height,x:df(e.x)?e.x:t.left,y:df(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:df(e.width)?e.width:t.width}));function qy(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Hy=()=>{var e,t=zy(),n=ey(Fy),r=ey(By),i=null===(e=ey(Vy))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},Ky={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Wy=()=>ey(Oy),Gy=()=>ey(Ty),Qy=e=>e.layout.layoutType,Yy=()=>ey(Qy),Xy=e=>{var n=Xv(),r=zy(),{width:i,height:o}=e,a=Lf(),s=i,l=o;return a&&(s=a.width>0?a.width:i,l=a.height>0?a.height:o),(0,t.useEffect)(()=>{!r&&Af(s)&&Af(l)&&n(Mv({width:s,height:l}))},[n,r,s,l]),null},$y=n(9859),Jy=n.n($y);function Zy(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function eb(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class tb extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ob;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(nb(this,e))}has(e){return super.has(nb(this,e))}set(e,t){return super.set(rb(this,e),t)}delete(e){return super.delete(ib(this,e))}}Set;function nb(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function rb(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function ib(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function ob(e){return null!==e&&"object"===typeof e?e.valueOf():e}const ab=Symbol("implicit");function sb(){var e=new tb,t=[],n=[],r=ab;function i(i){let o=e.get(i);if(void 0===o){if(r!==ab)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new tb;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return sb(t,n).unknown(r)},Zy.apply(i,arguments),i}function lb(){var e,t,n=sb().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return lb(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Zy.apply(d(),arguments)}function cb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cb(t())},e}function ub(){return cb(lb.apply(null,arguments).paddingInner(1))}const db=Math.sqrt(50),hb=Math.sqrt(10),fb=Math.sqrt(2);function pb(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=db?10:o>=hb?5:o>=fb?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?pb(e,t,2*n):[s,l,c]}function gb(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?pb(t,e,n):pb(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function mb(e,t,n){return pb(e=+e,t=+t,n=+n)[2]}function vb(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?mb(t,e,n):mb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function yb(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bb(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wb(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=yb,n=(t,n)=>yb(e(t),n),r=(t,n)=>e(t)-n):(t=e===yb||e===bb?e:xb,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function xb(){return 0}function _b(e){return null===e?NaN:+e}const Sb=wb(yb),Eb=Sb.right,kb=(Sb.left,wb(_b).center,Eb);function Ob(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tb(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cb(){}var Ib=.7,Ab=1/Ib,Nb="\\s*([+-]?\\d+)\\s*",Pb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Db=/^#([0-9a-f]{3,8})$/,Mb=new RegExp("^rgb\\(".concat(Nb,",").concat(Nb,",").concat(Nb,"\\)$")),Rb=new RegExp("^rgb\\(".concat(jb,",").concat(jb,",").concat(jb,"\\)$")),Lb=new RegExp("^rgba\\(".concat(Nb,",").concat(Nb,",").concat(Nb,",").concat(Pb,"\\)$")),Fb=new RegExp("^rgba\\(".concat(jb,",").concat(jb,",").concat(jb,",").concat(Pb,"\\)$")),Ub=new RegExp("^hsl\\(".concat(Pb,",").concat(jb,",").concat(jb,"\\)$")),zb=new RegExp("^hsla\\(".concat(Pb,",").concat(jb,",").concat(jb,",").concat(Pb,"\\)$")),Vb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bb(){return this.rgb().formatHex()}function qb(){return this.rgb().formatRgb()}function Hb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Db.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Kb(t):3===n?new Qb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Wb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Wb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Mb.exec(e))?new Qb(t[1],t[2],t[3],1):(t=Rb.exec(e))?new Qb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Lb.exec(e))?Wb(t[1],t[2],t[3],t[4]):(t=Fb.exec(e))?Wb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ub.exec(e))?ew(t[1],t[2]/100,t[3]/100,1):(t=zb.exec(e))?ew(t[1],t[2]/100,t[3]/100,t[4]):Vb.hasOwnProperty(e)?Kb(Vb[e]):"transparent"===e?new Qb(NaN,NaN,NaN,0):null}function Kb(e){return new Qb(e>>16&255,e>>8&255,255&e,1)}function Wb(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qb(e,t,n,r)}function Gb(e,t,n,r){return 1===arguments.length?((i=e)instanceof Cb||(i=Hb(i)),i?new Qb((i=i.rgb()).r,i.g,i.b,i.opacity):new Qb):new Qb(e,t,n,null==r?1:r);var i}function Qb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Yb(){return"#".concat(Zb(this.r)).concat(Zb(this.g)).concat(Zb(this.b))}function Xb(){const e=$b(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Jb(this.r),", ").concat(Jb(this.g),", ").concat(Jb(this.b)).concat(1===e?")":", ".concat(e,")"))}function $b(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jb(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zb(e){return((e=Jb(e))<16?"0":"")+e.toString(16)}function ew(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new nw(e,t,n,r)}function tw(e){if(e instanceof nw)return new nw(e.h,e.s,e.l,e.opacity);if(e instanceof Cb||(e=Hb(e)),!e)return new nw;if(e instanceof nw)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new nw(a,s,l,e.opacity)}function nw(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function rw(e){return(e=(e||0)%360)<0?e+360:e}function iw(e){return Math.max(0,Math.min(1,e||0))}function ow(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function aw(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Ob(Cb,Hb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bb,formatHex:Bb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tw(this).formatHsl()},formatRgb:qb,toString:qb}),Ob(Qb,Gb,Tb(Cb,{brighter(e){return e=null==e?Ab:Math.pow(Ab,e),new Qb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Ib:Math.pow(Ib,e),new Qb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qb(Jb(this.r),Jb(this.g),Jb(this.b),$b(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yb,formatHex:Yb,formatHex8:function(){return"#".concat(Zb(this.r)).concat(Zb(this.g)).concat(Zb(this.b)).concat(Zb(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Xb,toString:Xb})),Ob(nw,function(e,t,n,r){return 1===arguments.length?tw(e):new nw(e,t,n,null==r?1:r)},Tb(Cb,{brighter(e){return e=null==e?Ab:Math.pow(Ab,e),new nw(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ib:Math.pow(Ib,e),new nw(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Qb(ow(e>=240?e-240:e+120,i,r),ow(e,i,r),ow(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new nw(rw(this.h),iw(this.s),iw(this.l),$b(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$b(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(rw(this.h),", ").concat(100*iw(this.s),"%, ").concat(100*iw(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const sw=e=>()=>e;function lw(e,t){return function(n){return e+n*t}}function cw(e){return 1===(e=+e)?uw:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):sw(isNaN(t)?n:t)}}function uw(e,t){var n=t-e;return n?lw(e,n):sw(isNaN(e)?t:e)}const dw=function e(t){var n=cw(t);function r(e,t){var r=n((e=Gb(e)).r,(t=Gb(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=uw(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function hw(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Gb(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}hw(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return aw((n-r/t)*t,a,i,o,s)}}),hw(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return aw((n-r/t)*t,i,o,a,s)}});function fw(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=xw(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function pw(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gw(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function mw(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=xw(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yw=new RegExp(vw.source,"g");function bw(e,t){var n,r,i,o=vw.lastIndex=yw.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=vw.exec(e))&&(r=yw.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:gw(n,r)})),o=yw.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function ww(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function xw(e,t){var n,r=typeof t;return null==t||"boolean"===r?sw(t):("number"===r?gw:"string"===r?(n=Hb(t))?(t=n,dw):bw:t instanceof Hb?dw:t instanceof Date?pw:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?ww:Array.isArray(t)?fw:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?mw:gw)(e,t)}function _w(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Sw(e){return+e}var Ew=[0,1];function kw(e){return e}function Ow(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Tw(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Ow(i,r),o=n(a,o)):(r=Ow(r,i),o=n(o,a)),function(e){return o(r(e))}}function Cw(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Ow(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=kb(e,t,1,r)-1;return o[n](i[n](t))}}function Iw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Aw(){var e,t,n,r,i,o,a=Ew,s=Ew,l=xw,c=kw;function u(){var e=Math.min(a.length,s.length);return c!==kw&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?Cw:Tw,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),gw)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,Sw),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=_w,u()},d.clamp=function(e){return arguments.length?(c=!!e||kw,u()):c!==kw},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Nw(){return Aw()(kw,kw)}var Pw,jw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dw(e){if(!(t=jw.exec(e)))throw new Error("invalid format: "+e);var t;return new Mw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Mw(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Rw(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Lw(e){return(e=Rw(Math.abs(e)))?e[1]:NaN}function Fw(e,t){var n=Rw(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Dw.prototype=Mw.prototype,Mw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Uw={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Fw(100*e,t),r:Fw,s:function(e,t){var n=Rw(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Pw=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Rw(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zw(e){return e}var Vw,Bw,qw,Hw=Array.prototype.map,Kw=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ww(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?zw:(t=Hw.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?zw:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Hw.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Dw(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):Uw[y]||(void 0===m&&(m=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?l:"",x=Uw[y],_=/[defgprs%]/.test(y);function S(e){var i,o,l,h=b,S=w;if("c"===y)S=x(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===y?Kw[8+Pw/3]:"")+S+(E&&"("===d?")":""),_)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?a+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}g&&!f&&(e=r(e,1/0));var k=h.length+e.length+S.length,O=k<p?new Array(p-k+1).join(t):"";switch(g&&f&&(e=r(O+e,O.length?p-S.length:1/0),O=""),n){case"<":e=h+e+S+O;break;case"=":e=h+O+e+S;break;case"^":e=O.slice(0,k=O.length>>1)+h+e+S+O.slice(k);break;default:e=O+h+e+S}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=Dw(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Lw(t)/3))),i=Math.pow(10,-r),o=Kw[8+r/3];return function(e){return n(i*e)+o}}}}function Gw(e,t,n,r){var i,o=vb(e,t,n);switch((r=Dw(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Lw(t)/3)))-Lw(Math.abs(e)))}(o,a))||(r.precision=i),qw(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lw(t)-Lw(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Lw(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Bw(r)}function Qw(e){var t=e.domain;return e.ticks=function(e){var n=t();return gb(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Gw(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=mb(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Yw(){var e=Nw();return e.copy=function(){return Iw(e,Yw())},Zy.apply(e,arguments),Qw(e)}function Xw(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Sw),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Xw(e).unknown(t)},e=arguments.length?Array.from(e,Sw):[0,1],Qw(n)}function $w(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Jw(e){return Math.log(e)}function Zw(e){return Math.exp(e)}function ex(e){return-Math.log(-e)}function tx(e){return-Math.exp(-e)}function nx(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rx(e){return(t,n)=>-e(-t,n)}function ix(e){const t=e(Jw,Zw),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?nx:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=rx(r),i=rx(i),e(ex,tx)):e(Jw,Zw),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=gb(a,s,f))}else p=gb(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=Dw(n)).precision||(n.trim=!0),n=Bw(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n($w(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function ox(){const e=ix(Aw()).domain([1,10]);return e.copy=()=>Iw(e,ox()).base(e.base()),Zy.apply(e,arguments),e}function ax(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sx(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lx(e){var t=1,n=e(ax(t),sx(t));return n.constant=function(n){return arguments.length?e(ax(t=+n),sx(t)):t},Qw(n)}function cx(){var e=lx(Aw());return e.copy=function(){return Iw(e,cx()).constant(e.constant())},Zy.apply(e,arguments)}function ux(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dx(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hx(e){return e<0?-e*e:e*e}function fx(e){var t=e(kw,kw),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(kw,kw):.5===n?e(dx,hx):e(ux(n),ux(1/n)):n},Qw(t)}function px(){var e=fx(Aw());return e.copy=function(){return Iw(e,px()).exponent(e.exponent())},Zy.apply(e,arguments),e}function gx(){return px.apply(null,arguments).exponent(.5)}function mx(e){return Math.sign(e)*e*e}function vx(){var e,t=Nw(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(mx(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Sw)).map(mx)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return vx(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Zy.apply(i,arguments),Qw(i)}function yx(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function bx(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function wx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yb;if(e===yb)return xx;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function xx(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function _x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?xx:wx(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);_x(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(Sx(e,n,t),i(e[r],o)>0&&Sx(e,n,r);a<s;){for(Sx(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?Sx(e,n,s):(++s,Sx(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Sx(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ex(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return bx(e);if(t>=1)return yx(e);var r,i=(r-1)*t,o=Math.floor(i),a=yx(_x(e,o).subarray(0,o+1));return a+(bx(e.subarray(o+1))-a)*(i-o)}}function kx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_b;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function Ox(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=kx(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[kb(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(yb),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Ox().domain(t).range(n).unknown(e)},Zy.apply(o,arguments)}function Tx(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[kb(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Tx().domain([t,n]).range(o).unknown(e)},Zy.apply(Qw(a),arguments)}function Cx(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[kb(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Cx().domain(t).range(n).unknown(e)},Zy.apply(i,arguments)}Vw=Ww({thousands:",",grouping:[3],currency:["$",""]}),Bw=Vw.format,qw=Vw.formatPrefix;const Ix=1e3,Ax=6e4,Nx=36e5,Px=864e5,jx=6048e5,Dx=2592e6,Mx=31536e6,Rx=new Date,Lx=new Date;function Fx(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>Fx(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Rx.setTime(+t),Lx.setTime(+r),e(Rx),e(Lx),Math.floor(n(Rx,Lx))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Ux=Fx(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ux.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Fx(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ux:null);Ux.range;const zx=Fx(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ix)},(e,t)=>(t-e)/Ix,e=>e.getUTCSeconds()),Vx=(zx.range,Fx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ix)},(e,t)=>{e.setTime(+e+t*Ax)},(e,t)=>(t-e)/Ax,e=>e.getMinutes())),Bx=(Vx.range,Fx(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ax)},(e,t)=>(t-e)/Ax,e=>e.getUTCMinutes())),qx=(Bx.range,Fx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ix-e.getMinutes()*Ax)},(e,t)=>{e.setTime(+e+t*Nx)},(e,t)=>(t-e)/Nx,e=>e.getHours())),Hx=(qx.range,Fx(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Nx)},(e,t)=>(t-e)/Nx,e=>e.getUTCHours())),Kx=(Hx.range,Fx(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ax)/Px,e=>e.getDate()-1)),Wx=(Kx.range,Fx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Px,e=>e.getUTCDate()-1)),Gx=(Wx.range,Fx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Px,e=>Math.floor(e/Px)));Gx.range;function Qx(e){return Fx(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ax)/jx)}const Yx=Qx(0),Xx=Qx(1),$x=Qx(2),Jx=Qx(3),Zx=Qx(4),e_=Qx(5),t_=Qx(6);Yx.range,Xx.range,$x.range,Jx.range,Zx.range,e_.range,t_.range;function n_(e){return Fx(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/jx)}const r_=n_(0),i_=n_(1),o_=n_(2),a_=n_(3),s_=n_(4),l_=n_(5),c_=n_(6),u_=(r_.range,i_.range,o_.range,a_.range,s_.range,l_.range,c_.range,Fx(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),d_=(u_.range,Fx(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),h_=(d_.range,Fx(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));h_.every=e=>isFinite(e=Math.floor(e))&&e>0?Fx(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;h_.range;const f_=Fx(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());f_.every=e=>isFinite(e=Math.floor(e))&&e>0?Fx(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;f_.range;function p_(e,t,n,r,i,o){const a=[[zx,1,Ix],[zx,5,5e3],[zx,15,15e3],[zx,30,3e4],[o,1,Ax],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Nx],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Px],[r,2,1728e5],[n,1,jx],[t,1,Dx],[t,3,7776e6],[e,1,Mx]];function s(t,n,r){const i=Math.abs(n-t)/r,o=wb(e=>{let[,,t]=e;return t}).right(a,i);if(o===a.length)return e.every(vb(t/Mx,n/Mx,r));if(0===o)return Ux.every(Math.max(vb(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[g_,m_]=p_(f_,d_,r_,Gx,Hx,Bx),[v_,y_]=p_(h_,u_,Yx,Kx,qx,Vx);function b_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function w_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function x_(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var __,S_,E_,k_={"-":"",_:" ",0:"0"},O_=/^\s*\d+/,T_=/^%/,C_=/[\\^$*+?|[\]().{}]/g;function I_(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function A_(e){return e.replace(C_,"\\$&")}function N_(e){return new RegExp("^(?:"+e.map(A_).join("|")+")","i")}function P_(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function j_(e,t,n){var r=O_.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function D_(e,t,n){var r=O_.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function M_(e,t,n){var r=O_.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function R_(e,t,n){var r=O_.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function L_(e,t,n){var r=O_.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function F_(e,t,n){var r=O_.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function U_(e,t,n){var r=O_.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function z_(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function V_(e,t,n){var r=O_.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function B_(e,t,n){var r=O_.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function q_(e,t,n){var r=O_.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function H_(e,t,n){var r=O_.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function K_(e,t,n){var r=O_.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function W_(e,t,n){var r=O_.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function G_(e,t,n){var r=O_.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Q_(e,t,n){var r=O_.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Y_(e,t,n){var r=O_.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function X_(e,t,n){var r=T_.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $_(e,t,n){var r=O_.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function J_(e,t,n){var r=O_.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Z_(e,t){return I_(e.getDate(),t,2)}function eS(e,t){return I_(e.getHours(),t,2)}function tS(e,t){return I_(e.getHours()%12||12,t,2)}function nS(e,t){return I_(1+Kx.count(h_(e),e),t,3)}function rS(e,t){return I_(e.getMilliseconds(),t,3)}function iS(e,t){return rS(e,t)+"000"}function oS(e,t){return I_(e.getMonth()+1,t,2)}function aS(e,t){return I_(e.getMinutes(),t,2)}function sS(e,t){return I_(e.getSeconds(),t,2)}function lS(e){var t=e.getDay();return 0===t?7:t}function cS(e,t){return I_(Yx.count(h_(e)-1,e),t,2)}function uS(e){var t=e.getDay();return t>=4||0===t?Zx(e):Zx.ceil(e)}function dS(e,t){return e=uS(e),I_(Zx.count(h_(e),e)+(4===h_(e).getDay()),t,2)}function hS(e){return e.getDay()}function fS(e,t){return I_(Xx.count(h_(e)-1,e),t,2)}function pS(e,t){return I_(e.getFullYear()%100,t,2)}function gS(e,t){return I_((e=uS(e)).getFullYear()%100,t,2)}function mS(e,t){return I_(e.getFullYear()%1e4,t,4)}function vS(e,t){var n=e.getDay();return I_((e=n>=4||0===n?Zx(e):Zx.ceil(e)).getFullYear()%1e4,t,4)}function yS(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+I_(t/60|0,"0",2)+I_(t%60,"0",2)}function bS(e,t){return I_(e.getUTCDate(),t,2)}function wS(e,t){return I_(e.getUTCHours(),t,2)}function xS(e,t){return I_(e.getUTCHours()%12||12,t,2)}function _S(e,t){return I_(1+Wx.count(f_(e),e),t,3)}function SS(e,t){return I_(e.getUTCMilliseconds(),t,3)}function ES(e,t){return SS(e,t)+"000"}function kS(e,t){return I_(e.getUTCMonth()+1,t,2)}function OS(e,t){return I_(e.getUTCMinutes(),t,2)}function TS(e,t){return I_(e.getUTCSeconds(),t,2)}function CS(e){var t=e.getUTCDay();return 0===t?7:t}function IS(e,t){return I_(r_.count(f_(e)-1,e),t,2)}function AS(e){var t=e.getUTCDay();return t>=4||0===t?s_(e):s_.ceil(e)}function NS(e,t){return e=AS(e),I_(s_.count(f_(e),e)+(4===f_(e).getUTCDay()),t,2)}function PS(e){return e.getUTCDay()}function jS(e,t){return I_(i_.count(f_(e)-1,e),t,2)}function DS(e,t){return I_(e.getUTCFullYear()%100,t,2)}function MS(e,t){return I_((e=AS(e)).getUTCFullYear()%100,t,2)}function RS(e,t){return I_(e.getUTCFullYear()%1e4,t,4)}function LS(e,t){var n=e.getUTCDay();return I_((e=n>=4||0===n?s_(e):s_.ceil(e)).getUTCFullYear()%1e4,t,4)}function FS(){return"+0000"}function US(){return"%"}function zS(e){return+e}function VS(e){return Math.floor(+e/1e3)}function BS(e){return new Date(e)}function qS(e){return e instanceof Date?+e:+new Date(+e)}function HS(e,t,n,r,i,o,a,s,l,c){var u=Nw(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?g:o(e)<e?m:r(e)<e?i(e)<e?v:y:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,qS)):h().map(BS)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h($w(n,e)):u},u.copy=function(){return Iw(u,HS(e,t,n,r,i,o,a,s,l,c))},u}function KS(){return Zy.apply(HS(v_,y_,h_,u_,Yx,Kx,qx,Vx,zx,S_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WS(){return Zy.apply(HS(g_,m_,f_,d_,r_,Wx,Hx,Bx,zx,E_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function GS(){var e,t,n,r,i,o=0,a=1,s=kw,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(xw),c.rangeRound=u(_w),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function QS(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YS(){var e=Qw(GS()(kw));return e.copy=function(){return QS(e,YS())},eb.apply(e,arguments)}function XS(){var e=ix(GS()).domain([1,10]);return e.copy=function(){return QS(e,XS()).base(e.base())},eb.apply(e,arguments)}function $S(){var e=lx(GS());return e.copy=function(){return QS(e,$S()).constant(e.constant())},eb.apply(e,arguments)}function JS(){var e=fx(GS());return e.copy=function(){return QS(e,JS()).exponent(e.exponent())},eb.apply(e,arguments)}function ZS(){return JS.apply(null,arguments).exponent(.5)}function eE(){var e=[],t=kw;function n(n){if(null!=n&&!isNaN(n=+n))return t((kb(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(yb),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Ex(e,r/t))},n.copy=function(){return eE(t).domain(e)},eb.apply(n,arguments)}function tE(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=kw,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=xw);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(xw),f.rangeRound=p(_w),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function nE(){var e=Qw(tE()(kw));return e.copy=function(){return QS(e,nE())},eb.apply(e,arguments)}function rE(){var e=ix(tE()).domain([.1,1,10]);return e.copy=function(){return QS(e,rE()).base(e.base())},eb.apply(e,arguments)}function iE(){var e=lx(tE());return e.copy=function(){return QS(e,iE()).constant(e.constant())},eb.apply(e,arguments)}function oE(){var e=fx(tE());return e.copy=function(){return QS(e,oE()).exponent(e.exponent())},eb.apply(e,arguments)}function aE(){return oE.apply(null,arguments).exponent(.5)}!function(e){__=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=N_(i),u=P_(i),d=N_(o),h=P_(o),f=N_(a),p=P_(a),g=N_(s),m=P_(s),v=N_(l),y=P_(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Z_,e:Z_,f:iS,g:gS,G:vS,H:eS,I:tS,j:nS,L:rS,m:oS,M:aS,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:zS,s:VS,S:sS,u:lS,U:cS,V:dS,w:hS,W:fS,x:null,X:null,y:pS,Y:mS,Z:yS,"%":US},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:bS,e:bS,f:ES,g:MS,G:LS,H:wS,I:xS,j:_S,L:SS,m:kS,M:OS,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:zS,s:VS,S:TS,u:CS,U:IS,V:NS,w:PS,W:jS,x:null,X:null,y:DS,Y:RS,Z:FS,"%":US},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:q_,e:q_,f:Y_,g:U_,G:F_,H:K_,I:K_,j:H_,L:Q_,m:B_,M:W_,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:V_,Q:$_,s:J_,S:G_,u:D_,U:M_,V:R_,w:j_,W:L_,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:U_,Y:F_,Z:z_,"%":X_};function _(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=k_[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function S(e,t){return function(n){var r,i,o=x_(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=w_(x_(o.y,0,1))).getUTCDay(),r=i>4||0===i?i_.ceil(r):i_(r),r=Wx.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=b_(x_(o.y,0,1))).getDay(),r=i>4||0===i?Xx.ceil(r):Xx(r),r=Kx.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?w_(x_(o.y,0,1)).getUTCDay():b_(x_(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,w_(o)):b_(o)}}function E(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in k_?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),S_=__.format,__.parse,E_=__.utcFormat,__.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var sE=e=>e.chartData,lE=Kv([sE],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cE=(e,t,n,r)=>r?lE(e):sE(e);function uE(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(If(t)&&If(n))return!0}return!1}function dE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function hE(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,o]=e;if(If(i))n=i;else if("function"===typeof i)return;if(If(o))r=o;else if("function"===typeof o)return;var a=[n,r];if(uE(a))return a}}var fE,pE=n(8210),gE=n.n(pE),mE=e=>e,vE={"@@functional/placeholder":!0},yE=e=>e===vE,bE=e=>function t(){return 0===arguments.length||1===arguments.length&&yE(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wE=(e,t)=>1===e?t:bE(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(e=>e!==vE).length;return o>=e?t(...r):wE(e-o,bE(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=r.map(e=>yE(e)?n.shift():e);return t(...o,...n)}))}),xE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},_E=wE((fE=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,fE),SE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function EE(e){return 0===e?1:Math.floor(new(gE())(e).abs().log(10).toNumber())+1}function kE(e,t,n){for(var r=new(gE())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var OE=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},TE=(e,t,n)=>{if(e.lte(0))return new(gE())(0);var r=EE(e.toNumber()),i=new(gE())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(gE())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?new(gE())(s.toNumber()):new(gE())(Math.ceil(s.toNumber()))},CE=(e,t,n)=>{var r=new(gE())(1),i=new(gE())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(gE())(10).pow(EE(e)-1),i=new(gE())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(gE())(Math.floor(e)))}else 0===e?i=new(gE())(Math.floor((t-1)/2)):n||(i=new(gE())(Math.floor(e)));var a=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return mE;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((e,t)=>t(e),i(...arguments))}}(_E(e=>i.add(new(gE())(e-a).mul(r)).toNumber()),xE)(0,t)},IE=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(gE())(0),tickMin:new(gE())(0),tickMax:new(gE())(0)};var o,a=TE(new(gE())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(gE())(0):(o=new(gE())(e).add(t).div(2)).sub(new(gE())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(gE())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?IE(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(gE())(s).mul(a)),tickMax:o.add(new(gE())(l).mul(a))})},AE=e=>e.rootProps.stackOffset,NE=e=>e.rootProps.reverseStackOrder,PE=e=>e.options.chartName,jE=e=>e.rootProps.syncId,DE=e=>e.rootProps.syncMethod,ME=e=>e.options.eventEmitter;function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(t){FE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UE=Math.PI/180,zE=e=>180*e/Math.PI,VE=(e,t,n,r)=>({x:e+Math.cos(-UE*r)*n,y:t+Math.sin(-UE*r)*n}),BE=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},qE=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,a=((e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)})({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:zE(l),angleInRadian:l}},HE=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},KE=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=qE({x:n,y:r},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}})(t),d=o;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?LE(LE({},t),{},{radius:i,angle:HE(d,t)}):null},WE={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},GE=0,QE="auto",YE=!0,XE=!1,$E=!0,JE=0,ZE="auto",ek=!0,tk=5,nk=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},rk={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:GE,includeHidden:!1,name:void 0,reversed:!1,scale:QE,tick:YE,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},ik={allowDataOverflow:XE,allowDecimals:!1,allowDuplicatedCategory:$E,dataKey:void 0,domain:void 0,id:JE,includeHidden:!1,name:void 0,reversed:!1,scale:ZE,tick:ek,tickCount:tk,ticks:void 0,type:"number",unit:void 0},ok={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:GE,includeHidden:!1,name:void 0,reversed:!1,scale:QE,tick:YE,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ak={allowDataOverflow:XE,allowDecimals:!1,allowDuplicatedCategory:$E,dataKey:void 0,domain:void 0,id:JE,includeHidden:!1,name:void 0,reversed:!1,scale:ZE,tick:ek,tickCount:tk,ticks:void 0,type:"category",unit:void 0},sk=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?ok:rk,lk=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?ak:ik,ck=e=>e.polarOptions,uk=Kv([Oy,Ty,Ly],BE),dk=Kv([ck,uk],(e,t)=>{if(null!=e)return gf(e.innerRadius,t,0)}),hk=Kv([ck,uk],(e,t)=>{if(null!=e)return gf(e.outerRadius,t,.8*t)}),fk=Kv([ck],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),pk=(Kv([sk,fk],nk),Kv([uk,dk,hk],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),gk=(Kv([lk,pk],nk),Kv([Qy,ck,dk,hk,Oy,Ty],(e,t,n,r,i,o)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:a,cy:s,startAngle:l,endAngle:c}=t;return{cx:gf(a,i,i/2),cy:gf(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),mk=(e,t)=>t,vk=(e,t,n)=>n;function yk(e){return null===e||void 0===e?void 0:e.id}function bk(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var s=yk(e);n.forEach((t,n)=>{var r,l=null==o||i?n:String(gy(t,o,null)),c=gy(t,e.dataKey,0);r=a.has(l)?a.get(l):{},Object.assign(r,{[s]:c}),a.set(l,r)})}}),Array.from(a.values())}function wk(e){return null!=e.stackId&&null!=e.dataKey}var xk=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function _k(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var Sk=e=>{var t=Qy(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},Ek=e=>e.tooltip.settings.axisId;function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kk(Object(n),!0).forEach(function(t){Tk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ck=[0,"auto"],Ik={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ak=(e,t)=>{var n=((e,t)=>e.cartesianAxis.xAxis[t])(e,t);return null==n?Ik:n},Nk={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ck,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},Pk=(e,t)=>{var n=((e,t)=>e.cartesianAxis.yAxis[t])(e,t);return null==n?Nk:n},jk={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Dk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?jk:n},Mk=(e,t,n)=>{switch(t){case"xAxis":return Ak(e,n);case"yAxis":return Pk(e,n);case"zAxis":return Dk(e,n);case"angleAxis":return sk(e,n);case"radiusAxis":return lk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Rk=(e,t,n)=>{switch(t){case"xAxis":return Ak(e,n);case"yAxis":return Pk(e,n);case"angleAxis":return sk(e,n);case"radiusAxis":return lk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Lk=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function Fk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Uk=Kv([mk,vk],Fk),zk=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),Vk=Kv([e=>e.graphicalItems.cartesianItems,Mk,Uk],zk,{memoizeOptions:{resultEqualityCheck:_k}}),Bk=Kv([Vk],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(wk)),qk=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),Hk=Kv([Vk],qk),Kk=e=>e.map(e=>e.data).filter(Boolean).flat(1),Wk=Kv([Vk],Kk,{memoizeOptions:{resultEqualityCheck:_k}}),Gk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Qk=Kv([Wk,cE],Gk),Yk=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:gy(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:gy(e,t)}))):e.map(e=>({value:e})),Xk=Kv([Qk,Mk,Vk],Yk);function $k(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Jk(e){if(hf(e)||e instanceof Date){var t=Number(e);if(If(t))return t}}function Zk(e){if(Array.isArray(e)){var t=[Jk(e[0]),Jk(e[1])];return uE(t)?t:void 0}var n=Jk(e);if(null!=n)return[n,n]}function eO(e){return e.map(Jk).filter(wf)}var tO=e=>{var t=Sk(e),n=Ek(e);return Rk(e,t,n)},nO=Kv([tO],e=>null===e||void 0===e?void 0:e.dataKey),rO=Kv([Bk,cE,tO],bk),iO=(e,t,n,r)=>{var i=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(i).map(t=>{var[i,o]=t,a=r?[...o].reverse():o,s=a.map(yk);return[i,{stackedData:by(e,s,n),graphicalItems:a}]}))},oO=Kv([rO,Bk,AE,NE],iO),aO=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(null==r&&"zAxis"!==n){var a=wy(e,i,o);if(null==a||0!==a[0]||0!==a[1])return a}},sO=Kv([Mk],e=>e.allowDataOverflow),lO=e=>{var t;if(null==e||!("domain"in e))return Ck;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=eO(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:Ck},cO=Kv([Mk],lO),uO=Kv([cO,sO],hE),dO=Kv([oO,sE,mk,uO],aO,{memoizeOptions:{resultEqualityCheck:xk}}),hO=e=>e.errorBars,fO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},pO=(e,t,n,r,i)=>{var o,a;if(n.length>0&&e.forEach(e=>{n.forEach(n=>{var s,l,c=null===(s=r[n.id])||void 0===s?void 0:s.filter(e=>$k(i,e)),u=gy(e,null!==(l=t.dataKey)&&void 0!==l?l:n.dataKey),d=function(e,t,n){return!n||"number"!==typeof t||cf(t)?[]:n.length?eO(n.flatMap(n=>{var r,i,o=gy(e,n.dataKey);if(Array.isArray(o)?[r,i]=o:r=i=o,If(r)&&If(i))return[t-r,t+i]})):[]}(e,u,c);if(d.length>=2){var h=Math.min(...d),f=Math.max(...d);(null==o||h<o)&&(o=h),(null==a||f>a)&&(a=f)}var p=Zk(u);null!=p&&(o=null==o?p[0]:Math.min(o,p[0]),a=null==a?p[1]:Math.max(a,p[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var n=Zk(gy(e,t.dataKey));null!=n&&(o=null==o?n[0]:Math.min(o,n[0]),a=null==a?n[1]:Math.max(a,n[1]))}),If(o)&&If(a))return[o,a]},gO=Kv([Qk,Mk,Hk,hO,mk],pO,{memoizeOptions:{resultEqualityCheck:xk}});function mO(e){var{value:t}=e;if(hf(t)||t instanceof Date)return t}var vO=e=>e.referenceElements.dots,yO=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),bO=Kv([vO,mk,vk],yO),wO=e=>e.referenceElements.areas,xO=Kv([wO,mk,vk],yO),_O=e=>e.referenceElements.lines,SO=Kv([_O,mk,vk],yO),EO=(e,t)=>{var n=eO(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},kO=Kv(bO,mk,EO),OO=(e,t)=>{var n=eO(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},TO=Kv([xO,mk],OO);var CO=(e,t)=>{var n=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return eO([e.x]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==n||0===n.length?[]:eO(n)}(e):function(e){var t;if(null!=e.y)return eO([e.y]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==n||0===n.length?[]:eO(n)}(e));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},IO=Kv([SO,mk],CO),AO=Kv(kO,IO,TO,(e,t,n)=>fO(e,n,t)),NO=(e,t,n,r,i,o,a,s)=>null!=n?n:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(uE(r))return dE(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,o,[a,s]=e;if("auto"===a)null!=t&&(i=Math.min(...t));else if(df(a))i=a;else if("function"===typeof a)try{null!=t&&(i=a(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof a&&xy.test(a)){var l=xy.exec(a);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(o=Math.max(...t));else if(df(s))o=s;else if("function"===typeof s)try{null!=t&&(o=s(null===t||void 0===t?void 0:t[1]))}catch(g){}else if("string"===typeof s&&_y.test(s)){var u=_y.exec(s);if(null==u||null==t)o=void 0;else{var d=+u[1];o=t[1]+d}}else o=null===t||void 0===t?void 0:t[1];var h=[i,o];if(uE(h))return null==t?h:dE(h,t,n)}}}(t,"vertical"===a&&"xAxis"===s||"horizontal"===a&&"yAxis"===s?fO(r,o,i):fO(o,i),e.allowDataOverflow),PO=Kv([Mk,cO,uO,dO,gO,AO,Qy,mk],NO,{memoizeOptions:{resultEqualityCheck:xk}}),jO=[0,1],DO=(e,t,n,r,i,o,a)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==a){var s,{dataKey:l,type:c}=e,u=my(t,o);return u&&null==l?Jy()(0,null!==(s=null===n||void 0===n?void 0:n.length)&&void 0!==s?s:0):"category"===c?((e,t,n)=>{var r=e.map(mO).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&mf(r))?Jy()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,u):"expand"===i?jO:a}},MO=Kv([Mk,Qy,Qk,Xk,AE,mk,PO],DO),RO=(t,n,r,i,o)=>{if(null!=t){var{scale:a,type:s}=t;if("auto"===a)return"radial"===n&&"radiusAxis"===o?"band":"radial"===n&&"angleAxis"===o?"linear":"category"===s&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof a){var l="scale".concat(bf(a));return l in e?l:"point"}}},LO=Kv([Mk,Qy,Lk,PE,mk],RO);function FO(t,n,r,i){if(null!=r&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(i);var o=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(bf(t));return n in e?e[n]():void 0}}(n);if(null!=o){var a=o.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-vy,o=Math.max(r[0],r[1])+vy,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}})(a),a}}}var UO=(e,t,n)=>{var r=lO(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&uE(e)?function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(r,2),[a,s]=OE([t,n]);if(a===-1/0||s===1/0){var l=s===1/0?[a,...xE(0,r-1).map(()=>1/0)]:[...xE(0,r-1).map(()=>-1/0),s];return t>n?SE(l):l}if(a===s)return CE(a,r,i);var{step:c,tickMin:u,tickMax:d}=IE(a,s,o,i,0),h=kE(u,d.add(new(gE())(.1).mul(c)),c);return t>n?SE(h):h}(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&uE(e)?function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[o,a]=OE([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var s=Math.max(t,2),l=TE(new(gE())(a).sub(o).div(s-1),i,0),c=[...kE(new(gE())(o),new(gE())(a),l),a];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?SE(c):c}(e,t.tickCount,t.allowDecimals):void 0},zO=Kv([MO,Rk,LO],UO),VO=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&uE(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],a=t[1],s=n[n.length-1];return[Math.min(i,o),Math.max(a,s)]}return t},BO=Kv([Mk,MO,zO,mk],VO),qO=Kv(Xk,Mk,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(eO(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),HO=Kv(qO,Qy,e=>e.rootProps.barCategoryGap,Ly,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!If(e))return 0;var o="vertical"===t?r.height:r.width;if("gap"===i)return e*o/2;if("no-gap"===i){var a=gf(n,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),KO=Kv(Ak,(e,t)=>{var n=Ak(e,t);return null==n||"string"!==typeof n.padding?0:HO(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),WO=Kv(Pk,(e,t)=>{var n=Pk(e,t);return null==n||"string"!==typeof n.padding?0:HO(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),GO=Kv([Ly,KO,By,Vy,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),QO=Kv([Ly,Qy,WO,By,Vy,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),YO=(e,t,n,r)=>{var i;switch(t){case"xAxis":return GO(e,n,r);case"yAxis":return QO(e,n,r);case"zAxis":return null===(i=Dk(e,n))||void 0===i?void 0:i.range;case"angleAxis":return fk(e);case"radiusAxis":return pk(e,n);default:return}},XO=Kv([Mk,YO],nk),$O=Kv([Mk,LO,BO,XO],FO);Kv([Vk,hO,mk],(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>$k(n,e)));function JO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ZO=(e,t)=>t,eT=(e,t,n)=>n,tT=Kv(Ay,ZO,eT,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(JO)),nT=Kv(Ny,ZO,eT,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(JO)),rT=(e,t)=>({width:e.width,height:t.height}),iT=(Kv(Ly,Ak,rT),Kv(Ty,Ly,tT,ZO,eT,(e,t,n,r,i)=>{var o,a={};return n.forEach(n=>{var s=rT(t,n);null==o&&(o=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;a[n.id]=o-Number(l)*s.height,o+=(l?-1:1)*s.height}),a})),oT=Kv(Oy,Ly,nT,ZO,eT,(e,t,n,r,i)=>{var o,a={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==o&&(o=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;a[n.id]=o-Number(l)*s.width,o+=(l?-1:1)*s.width}),a}),aT=(Kv([Ly,Ak,(e,t)=>{var n=Ak(e,t);if(null!=n)return iT(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),Kv([Ly,Pk,(e,t)=>{var n=Pk(e,t);if(null!=n)return oT(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),Kv(Ly,Pk,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=my(e,r),l=t.map(e=>e.value);return a&&s&&"category"===o&&i&&mf(l)?l:void 0}}),sT=Kv([Qy,Xk,Mk,mk],aT),lT=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:o}=n;return!my(e,r)||"number"!==i&&"auto"===o?void 0:t.map(e=>e.value)}},cT=Kv([Qy,Xk,Rk,mk],lT),uT=(Kv([Qy,(e,t,n)=>{switch(t){case"xAxis":return Ak(e,n);case"yAxis":return Pk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},LO,$O,sT,cT,YO,zO,mk],(e,t,n,r,i,o,a,s,l)=>{if(null!=t){var c=my(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:s,range:a,realScaleType:n,scale:r}}}),Kv([Qy,Rk,LO,$O,zO,YO,sT,cT,mk],(e,t,n,r,i,o,a,s,l)=>{if(null!=t&&null!=r){var c=my(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=o&&o.length>=2?2*lf(o[0]-o[1])*p:p;var g=d||i;return g?g.map((e,t)=>{var n=a?a.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>If(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})).filter(e=>If(e.coordinate)):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:a?a[e]:e,index:t,offset:p}))}}),Kv([Qy,Rk,$O,YO,sT,cT,mk],(e,t,n,r,i,o,a)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=my(e,a),{tickCount:l}=t,c=0;return c="angleAxis"===a&&(null===r||void 0===r?void 0:r.length)>=2?2*lf(r[0]-r[1])*c:c,s&&o?o.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),Kv(Mk,$O,(e,t)=>{if(null!=e&&null!=t)return Ok(Ok({},e),{},{scale:t})}),Kv([Mk,LO,MO,XO],FO)),dT=(Kv((e,t,n)=>Dk(e,n),uT,(e,t)=>{if(null!=e&&null!=t)return Ok(Ok({},e),{},{scale:t})}),Kv([Qy,Ay,Ny],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),hT=e=>e.options.defaultTooltipEventType,fT=e=>e.options.validateTooltipEventTypes;function pT(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function gT(e,t){return pT(t,hT(e),fT(e))}var mT=(e,t)=>{var n,r=Number(t);if(!cf(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(t){bT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wT=(e,t,n,r)=>{if(null==t)return hv;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return hv;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var o=!0===e.settings.active;if(null!=i.index){if(o)return yT(yT({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return yT(yT({},hv),{},{coordinate:i.coordinate})};function xT(e,t){var n=function(e){if("number"===typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}(e),r=t[0],i=t[1];if(void 0===n)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}var _T=(e,t,n,r)=>{var i=null===e||void 0===e?void 0:e.index;if(null==i)return null;var o=Number(i);if(!If(o))return i;var a=1/0;t.length>0&&(a=t.length-1);var s=Math.max(0,Math.min(o,a)),l=t[s];return null==l||function(e,t,n){if(null==n||null==t)return!0;var r=gy(e,t);return null==r||!uE(n)||xT(r,n)}(l,n,r)?String(s):null},ST=(e,t,n,r,i,o,a,s)=>{if(null!=o&&null!=s){var l=a[0],c=null==l?void 0:s(l.positions,o);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(o)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},ET=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},kT=e=>e.options.tooltipPayloadSearcher,OT=e=>e.tooltip;function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(t){IT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AT=(e,t,n,r,i,o,a)=>{if(null!=t&&null!=o){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:g}=n,m=function(e,t){return null!=e?e:t}(p,s),v=Array.isArray(m)?dy(m,c,u):m,y=null!==(d=null===g||void 0===g?void 0:g.dataKey)&&void 0!==d?d:r,b=null===g||void 0===g?void 0:g.nameKey;(h=r&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===a?function(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):sf()(e,t))===n)}(v,r,i):o(v,t,l,b),Array.isArray(h))?h.forEach(t=>{var n=CT(CT({},g),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Ey({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:gy(t.payload,t.dataKey),name:t.name}))}):e.push(Ey({tooltipEntrySettings:g,dataKey:y,payload:h,value:gy(h,y),name:null!==(f=gy(h,b))&&void 0!==f?f:null===g||void 0===g?void 0:g.name}));return e},[])}},NT=Kv([tO,Qy,Lk,PE,Sk],RO),PT=Kv([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jT=Kv([Sk,Ek],Fk),DT=Kv([PT,tO,jT],zk,{memoizeOptions:{resultEqualityCheck:_k}}),MT=Kv([DT],e=>e.filter(wk)),RT=Kv([DT],Kk,{memoizeOptions:{resultEqualityCheck:_k}}),LT=Kv([RT,sE],Gk),FT=Kv([MT,sE,tO],bk),UT=Kv([LT,tO,DT],Yk),zT=Kv([tO],lO),VT=Kv([tO],e=>e.allowDataOverflow),BT=Kv([zT,VT],hE),qT=Kv([DT],e=>e.filter(wk)),HT=Kv([FT,qT,AE,NE],iO),KT=Kv([HT,sE,Sk,BT],aO),WT=Kv([DT],qk),GT=Kv([LT,tO,WT,hO,Sk],pO,{memoizeOptions:{resultEqualityCheck:xk}}),QT=Kv([vO,Sk,Ek],yO),YT=Kv([QT,Sk],EO),XT=Kv([wO,Sk,Ek],yO),$T=Kv([XT,Sk],OO),JT=Kv([_O,Sk,Ek],yO),ZT=Kv([JT,Sk],CO),eC=Kv([YT,ZT,$T],fO),tC=Kv([tO,zT,BT,KT,GT,eC,Qy,Sk],NO),nC=Kv([tO,Qy,LT,UT,AE,Sk,tC],DO),rC=Kv([nC,tO,NT],UO),iC=Kv([tO,nC,rC,Sk],VO),oC=e=>{var t=Sk(e),n=Ek(e);return YO(e,t,n,!1)},aC=Kv([tO,oC],nk),sC=Kv([tO,NT,iC,aC],FO),lC=Kv([Qy,UT,tO,Sk],aT),cC=Kv([Qy,UT,tO,Sk],lT),uC=Kv([Qy,tO,NT,sC,oC,lC,cC,Sk],(e,t,n,r,i,o,a,s)=>{if(t){var{type:l}=t,c=my(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*lf(i[0]-i[1])*d:d,c&&a?a.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:o?o[e]:e,index:t,offset:d}))}}}),dC=Kv([hT,fT,e=>e.tooltip.settings],(e,t,n)=>pT(n.shared,e,t)),hC=e=>e.tooltip.settings.trigger,fC=e=>e.tooltip.settings.defaultIndex,pC=Kv([OT,dC,hC,fC],wT),gC=Kv([pC,LT,nO,nC],_T),mC=Kv([uC,gC],mT),vC=Kv([pC],e=>{if(e)return e.dataKey}),yC=Kv([OT,dC,hC,fC],ET),bC=Kv([Oy,Ty,Qy,Ly,uC,fC,yC,kT],ST),wC=Kv([pC,bC],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),xC=Kv([pC],e=>e.active),_C=Kv([yC,gC,sE,nO,mC,kT,dC],AT);Kv([_C],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(t){kC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OC=(e,t,n,r,i)=>{var o,a=-1,s=null!==(o=null===t||void 0===t?void 0:t.length)&&void 0!==o?o:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(lf(u-c)!==lf(d-u)){var f=[];if(lf(d-u)===lf(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var g=d+i[1]-i[0];f[0]=Math.min(u,(g+u)/2),f[1]=Math.max(u,(g+u)/2)}var m=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>m[0]&&e<=m[1]||e>=f[0]&&e<=f[1]){({index:a}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:a}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}return a},TC=(e,t)=>t,CC=(e,t,n)=>n,IC=(e,t,n,r)=>r,AC=Kv(uC,e=>ny()(e,e=>e.coordinate)),NC=Kv([OT,TC,CC,IC],wT),PC=Kv([NC,LT,nO,nC],_T),jC=Kv([OT,TC,CC,IC],ET),DC=Kv([Oy,Ty,Qy,Ly,uC,IC,jC,kT],ST),MC=Kv([NC,DC],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),RC=Kv([uC,PC],mT),LC=Kv([jC,PC,sE,nO,RC,kT,TC],AT),FC=Kv([NC,PC],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),UC=(e,t,n,r,i,o,a)=>{if(e&&r&&i&&o&&n){var s=KE(e,n);if(s){var l=((e,t)=>"centric"===t?e.angle:e.radius)(s,t),c=OC(l,a,o,r,i),u=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("centric"===e){var o=i.coordinate,{radius:a}=r;return EC(EC(EC({},r),VE(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return EC(EC(EC({},r),VE(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,o,c,s);return{activeIndex:String(c),activeCoordinate:u}}}},zC=Kv([(e,t)=>t,Qy,gk,Sk,aC,uC,AC,Ly],(e,t,n,r,i,o,a,s)=>{if(e&&t&&r&&i&&o)return"horizontal"===t||"vertical"===t?((e,t,n,r,i,o,a)=>{if(e&&n&&r&&i&&function(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}(e,a)){var s=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=OC(s,o,i,n,r),c=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.chartY};if("vertical"===e)return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}})(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,r,i,o,a,s):UC(e,t,n,r,i,o,a)}),VC=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},BC=ug("mouseClick"),qC=im();qC.startListening({actionCreator:BC,effect:(e,t)=>{var n=e.payload,r=zC(t.getState(),VC(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(Sv({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var HC=ug("mouseMove"),KC=im(),WC=null;function GC(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"===typeof t&&null!==t?"<<CHILDREN>>":t}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(t){XC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}KC.startListening({actionCreator:HC,effect:(e,t)=>{var n=e.payload;null!==WC&&cancelAnimationFrame(WC);var r=VC(n);WC=requestAnimationFrame(()=>{var e=t.getState();if("axis"===gT(e,e.tooltip.settings.shared)){var n=zC(e,r);null!=(null===n||void 0===n?void 0:n.activeIndex)?t.dispatch(_v({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate})):t.dispatch(wv())}WC=null})}});var $C=kg({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:gg()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.xAxis[n.id]&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:gg()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:gg()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:gg()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.yAxis[n.id]&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:gg()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:gg()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:gg()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.zAxis[n.id]&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:gg()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:gg()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(3===o.length&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var a=[...o,r].slice(-3);e.yAxis[n]=YC(YC({},e.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:JC,replaceXAxis:ZC,removeXAxis:eI,addYAxis:tI,replaceYAxis:nI,removeYAxis:rI,addZAxis:iI,replaceZAxis:oI,removeZAxis:aI,updateYAxisWidth:sI}=$C.actions,lI=$C.reducer,cI=kg({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:gg()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Wp(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:gg()},removeCartesianGraphicalItem:{reducer(e,t){var n=Wp(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:gg()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:gg()},removePolarGraphicalItem:{reducer(e,t){var n=Wp(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:gg()}}}),{addCartesianGraphicalItem:uI,replaceCartesianGraphicalItem:dI,removeCartesianGraphicalItem:hI,addPolarGraphicalItem:fI,removePolarGraphicalItem:pI}=cI.actions,gI=cI.reducer,mI=kg({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Wp(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Wp(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Wp(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:vI,removeDot:yI,addArea:bI,removeArea:wI,addLine:xI,removeLine:_I}=mI.actions,SI=mI.reducer,EI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kI=kg({name:"brush",initialState:EI,reducers:{setBrushSettings:(e,t)=>null==t.payload?EI:t.payload}}),{setBrushSettings:OI}=kI.actions,TI=kI.reducer,CI=kg({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:gg()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Wp(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:gg()},removeLegendPayload:{reducer(e,t){var n=Wp(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:gg()}}}),{setLegendSize:II,setLegendSettings:AI,addLegendPayload:NI,replaceLegendPayload:PI,removeLegendPayload:jI}=CI.actions,DI=CI.reducer,MI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},RI=kg({name:"rootProps",initialState:MI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:MI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),LI=RI.reducer,{updateOptions:FI}=RI.actions,UI=kg({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:zI,removeRadiusAxis:VI,addAngleAxis:BI,removeAngleAxis:qI}=UI.actions,HI=UI.reducer,KI=kg({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:WI}=KI.actions,GI=KI.reducer,QI=ug("keyDown"),YI=ug("focus"),XI=im();XI.startListening({actionCreator:QI,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var o=_T(r,LT(n),nO(n),nC(n)),a=null==o?-1:Number(o);if(Number.isFinite(a)&&!(a<0)){var s=uC(n);if("Enter"!==i){var l=a+("ArrowRight"===i?1:-1)*("left-to-right"===dT(n)?1:-1);if(!(null==s||l>=s.length||l<0)){var c=DC(n,"axis","hover",String(l));t.dispatch(kv({active:!0,activeIndex:l.toString(),activeDataKey:void 0,activeCoordinate:c}))}}else{var u=DC(n,"axis","hover",String(r.index));t.dispatch(kv({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:u}))}}}}}}),XI.startListening({actionCreator:YI,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=DC(n,"axis","hover",String("0"));t.dispatch(kv({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var $I=ug("externalEvent"),JI=im(),ZI=new Map;JI.startListening({actionCreator:$I,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(null!=n){r.persist();var i=r.type,o=ZI.get(i);void 0!==o&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var e=t.getState(),o={activeCoordinate:wC(e),activeDataKey:vC(e),activeIndex:gC(e),activeLabel:mC(e),activeTooltipIndex:gC(e),isTooltipActive:xC(e)};n(o,r)}finally{ZI.delete(i)}});ZI.set(i,a)}}});var eA=Kv([OT],e=>e.tooltipItemPayloads),tA=Kv([eA,kT,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:o}=i;if(null!=o)return t(o,n)}}),nA=ug("touchMove"),rA=im();rA.startListening({actionCreator:nA,effect:(e,t)=>{var n=e.payload;if(null!=n.touches&&0!==n.touches.length){var r=t.getState(),i=gT(r,r.tooltip.settings.shared);if("axis"===i){var o=zC(r,VC({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===o||void 0===o?void 0:o.activeIndex)&&t.dispatch(_v({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if("item"===i){var a,s=n.touches[0];if(null==document.elementFromPoint)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Py),u=null!==(a=l.getAttribute(jy))&&void 0!==a?a:void 0,d=tA(t.getState(),c,u);t.dispatch(yv({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}}});var iA=kg({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:oA,replaceErrorBar:aA,removeErrorBar:sA}=iA.actions,lA=iA.reducer,cA=!1,uA=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(t){fA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pA={zIndexMap:Object.values(WE).reduce((e,t)=>hA(hA({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),{})},gA=new Set(Object.values(WE));var mA=kg({name:"zIndex",initialState:pA,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:gg()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!function(e){return gA.has(e)}(n)&&delete e.zIndexMap[n])},prepare:gg()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:gg()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:gg()}}}),{registerZIndexPortal:vA,unregisterZIndexPortal:yA,registerZIndexPortalId:bA,unregisterZIndexPortalId:wA}=mA.actions,xA=ng({brush:TI,cartesianAxis:lI,chartData:Nv,errorBars:lA,graphicalItems:gI,layout:Lv,legend:DI,options:lm,polarAxis:HI,polarOptions:GI,referenceElements:SI,rootProps:LI,tooltip:Ov,zIndex:mA.reducer});function _A(e){var{preloadedState:n,children:r,reduxStoreName:i}=e,o=zy(),a=(0,t.useRef)(null);if(o)return r;null==a.current&&(a.current=function(e){return yg({reducer:xA,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([qC.middleware,KC.middleware,XI.middleware,JI.middleware,rA.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(vg({type:"raf"}))},devTools:cA&&{serialize:{replacer:GC},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,i));var s=Qv;return t.createElement(_m,{context:s,store:a.current},r)}var SA=e=>{var{chartData:n}=e,r=Xv(),i=zy();return(0,t.useEffect)(()=>i?()=>{}:(r(Cv(n)),()=>{r(Cv(void 0))}),[n,r,i]),null},EA=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function kA(e,t){return null==e&&null==t||("number"===typeof e&&"number"===typeof t?e===t||e!==e&&t!==t:e===t)}function OA(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(EA.has(r)){if(null==e[r]&&null==t[r])continue;if(!vm(e[r],t[r]))return!1}else if(!kA(e[r],t[r]))return!1;return!0}function TA(e){var{layout:n,margin:r}=e,i=Xv(),o=zy();return(0,t.useEffect)(()=>{o||(i(Dv(n)),i(jv(r)))},[i,o,n,r]),null}var CA=(0,t.memo)(TA,OA);function IA(e){var n=Xv();return(0,t.useEffect)(()=>{n(FI(e))},[n,e]),null}function AA(e){var n=Xv();return(0,t.useEffect)(()=>{n(WI(e))},[n,e]),null}var NA=()=>{var e;return null===(e=ey(e=>e.rootProps.accessibilityLayer))||void 0===e||e},PA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jA(e){return"string"===typeof e&&PA.includes(e)}var DA=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function MA(e){return"string"===typeof e&&DA.has(e)}function RA(e){return"string"===typeof e&&e.startsWith("data-")}function LA(e){if("object"!==typeof e||null===e)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(MA(n)||RA(n))&&(t[n]=e[n]);return t}function FA(e){return null==e?null:(0,t.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?LA(e.props):"object"!==typeof e||Array.isArray(e)?null:LA(e)}function UA(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(MA(n)||RA(n)||jA(n))&&(t[n]=e[n]);return t}var zA=["children","width","height","viewBox","className","style","title","desc"];function VA(){return VA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VA.apply(null,arguments)}var BA,qA=(0,t.forwardRef)((e,n)=>{var{children:r,width:i,height:o,viewBox:a,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,zA),h=a||{width:i,height:o,x:0,y:0},f=nf("recharts-surface",s);return t.createElement("svg",VA({},UA(d),{className:f,width:i,height:o,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),HA=null!==(BA=r["useId".toString()])&&void 0!==BA?BA:()=>{var[e]=t.useState(()=>pf("uid-"));return e};function KA(e,t){var n=HA();return t||(e?"".concat(e,"-").concat(n):n)}var WA=Kv(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(null!=t){var r=e[t];if(null!=r)return n?r.panoramaElementId:r.elementId}}),GA=Kv(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(WE));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}}});function QA(e){var{zIndex:n,isPanorama:r}=e,i=KA("".concat(r?"recharts-zindex-panorama-":"recharts-zindex-").concat(n)),o=Xv();return(0,t.useLayoutEffect)(()=>(o(bA({zIndex:n,elementId:i,isPanorama:r})),()=>{o(wA({zIndex:n,isPanorama:r}))}),[o,n,i,r]),t.createElement("g",{id:i})}function YA(e){var{children:n,isPanorama:r}=e,i=ey(GA);if(!i||0===i.length)return n;var o=i.filter(e=>e<0),a=i.filter(e=>e>0);return t.createElement(t.Fragment,null,o.map(e=>t.createElement(QA,{key:e,zIndex:e,isPanorama:r})),n,a.map(e=>t.createElement(QA,{key:e,zIndex:e,isPanorama:r})))}var XA=["children"];function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$A.apply(null,arguments)}var JA={width:"100%",height:"100%",display:"block"},ZA=(0,t.forwardRef)((e,n)=>{var r=Wy(),i=Gy(),o=NA();if(!Af(r)||!Af(i))return null;var a,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return null!=c&&(a="number"===typeof c.tabIndex?c.tabIndex:o?0:void 0,s="string"===typeof c.role?c.role:o?"application":void 0),t.createElement(qA,$A({},c,{title:u,desc:d,role:s,tabIndex:a,width:r,height:i,style:JA,ref:n}),l)}),eN=e=>{var{children:n}=e,r=ey(By);if(!r)return null;var{width:i,height:o,y:a,x:s}=r;return t.createElement(qA,{width:i,height:o,x:s,y:a},n)},tN=(0,t.forwardRef)((e,n)=>{var{children:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,XA);return zy()?t.createElement(eN,null,t.createElement(YA,{isPanorama:!0},r)):t.createElement(ZA,$A({ref:n},i),t.createElement(YA,{isPanorama:!1},r))});var nN=new(n(8499)),rN="recharts.syncEvent.tooltip",iN="recharts.syncEvent.brush";function oN(e){return e.tooltip.syncInteraction}var aN=["x","y"];function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(t){cN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uN(){var e=ey(jE),n=ey(ME),r=Xv(),i=ey(DE),o=ey(uC),a=Yy(),s=Hy(),l=ey(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return xf;var t=(t,l,c)=>{var u;if(n!==c&&e===t)if("index"!==i){if(null!=o){var d;if("function"===typeof i){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=i(o,h);d=o[f]}else"value"===i&&(d=o.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=s){var{x:g,y:m}=p,v=Math.min(g,s.x+s.width),y=Math.min(m,s.y+s.height),b={x:"horizontal"===a?d.coordinate:v,y:"horizontal"===a?y:d.coordinate},w=Ev({active:l.payload.active,coordinate:b,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox});r(w)}else r(Ev({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}))}}else if(s&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate&&l.payload.sourceViewBox){var x=l.payload.coordinate,{x:_,y:S}=x,E=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(x,aN),{x:k,y:O,width:T,height:C}=l.payload.sourceViewBox,I=lN(lN({},E),{},{x:s.x+(T?(_-k)/T:0)*s.width,y:s.y+(C?(S-O)/C:0)*s.height});r(lN(lN({},l),{},{payload:lN(lN({},l.payload),{},{coordinate:I})}))}else r(l)};return nN.on(rN,t),()=>{nN.off(rN,t)}},[l,r,n,e,i,o,a,s])}function dN(){var e=Xv();(0,t.useEffect)(()=>{e(cm())},[e]),uN(),function(){var e=ey(jE),n=ey(ME),r=Xv();(0,t.useEffect)(()=>{if(null==e)return xf;var t=(t,i,o)=>{n!==o&&e===t&&r(Iv(i))};return nN.on(iN,t),()=>{nN.off(iN,t)}},[r,n,e])}()}function hN(e,n,r,i,o,a){var s=ey(t=>((e,t,n)=>{if(null!=t){var r=OT(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=ey(ME),c=ey(jE),u=ey(DE),d=ey(oN),h=null===d||void 0===d?void 0:d.active,f=Hy();(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Ev({active:a,coordinate:r,dataKey:s,index:o,label:"number"===typeof i?String(i):i,sourceViewBox:f});nN.emit(rN,c,e,l)}},[h,r,s,o,i,l,c,u,a,f])}var fN=(0,t.createContext)(null),pN=(0,t.createContext)(null);function gN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gN(Object(n),!0).forEach(function(t){vN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yN.apply(null,arguments)}var bN=()=>(dN(),null);function wN(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var xN=(0,t.forwardRef)((e,n)=>{var r,i,o=(0,t.useRef)(null),[a,s]=(0,t.useState)({containerWidth:wN(null===(r=e.style)||void 0===r?void 0:r.width),containerHeight:wN(null===(i=e.style)||void 0===i?void 0:i.height)}),l=(0,t.useCallback)((e,t)=>{s(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),c=(0,t.useCallback)(e=>{if("function"===typeof n&&n(e),null!=e&&"undefined"!==typeof ResizeObserver){var{width:t,height:r}=e.getBoundingClientRect();l(t,r);var i=new ResizeObserver(e=>{var{width:t,height:n}=e[0].contentRect;l(t,n)});i.observe(e),o.current=i}},[n,l]);return(0,t.useEffect)(()=>()=>{var e=o.current;null!=e&&e.disconnect()},[l]),t.createElement(t.Fragment,null,t.createElement(Xy,{width:a.containerWidth,height:a.containerHeight}),t.createElement("div",yN({ref:c},e)))}),_N=(0,t.forwardRef)((e,n)=>{var{width:r,height:i}=e,[o,a]=(0,t.useState)({containerWidth:wN(r),containerHeight:wN(i)}),s=(0,t.useCallback)((e,t)=>{a(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),l=(0,t.useCallback)(e=>{if("function"===typeof n&&n(e),null!=e){var{width:t,height:r}=e.getBoundingClientRect();s(t,r)}},[n,s]);return t.createElement(t.Fragment,null,t.createElement(Xy,{width:o.containerWidth,height:o.containerHeight}),t.createElement("div",yN({ref:l},e)))}),SN=(0,t.forwardRef)((e,n)=>{var{width:r,height:i}=e;return t.createElement(t.Fragment,null,t.createElement(Xy,{width:r,height:i}),t.createElement("div",yN({ref:n},e)))}),EN=(0,t.forwardRef)((e,n)=>{var{width:r,height:i}=e;return uf(r)||uf(i)?t.createElement(_N,yN({},e,{ref:n})):t.createElement(SN,yN({},e,{ref:n}))});var kN=(0,t.forwardRef)((e,n)=>{var{children:r,className:i,height:o,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:m,style:v,width:y,responsive:b,dispatchTouchEvents:w=!0}=e,x=(0,t.useRef)(null),_=Xv(),[S,E]=(0,t.useState)(null),[k,O]=(0,t.useState)(null),T=function(){var e=Xv(),[n,r]=(0,t.useState)(null),i=ey(Cy);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;If(t)&&t!==i&&e(Rv(t))}},[n,e,i]),r}(),C=Lf(),I=(null===C||void 0===C?void 0:C.width)>0?C.width:y,A=(null===C||void 0===C?void 0:C.height)>0?C.height:o,N=(0,t.useCallback)(e=>{T(e),"function"===typeof n&&n(e),E(e),O(e),null!=e&&(x.current=e)},[T,n,E,O]),P=(0,t.useCallback)(e=>{_(BC(e)),_($I({handler:a,reactEvent:e}))},[_,a]),j=(0,t.useCallback)(e=>{_(HC(e)),_($I({handler:u,reactEvent:e}))},[_,u]),D=(0,t.useCallback)(e=>{_(wv()),_($I({handler:d,reactEvent:e}))},[_,d]),M=(0,t.useCallback)(e=>{_(HC(e)),_($I({handler:h,reactEvent:e}))},[_,h]),R=(0,t.useCallback)(()=>{_(YI())},[_]),L=(0,t.useCallback)(e=>{_(QI(e.key))},[_]),F=(0,t.useCallback)(e=>{_($I({handler:s,reactEvent:e}))},[_,s]),U=(0,t.useCallback)(e=>{_($I({handler:l,reactEvent:e}))},[_,l]),z=(0,t.useCallback)(e=>{_($I({handler:c,reactEvent:e}))},[_,c]),V=(0,t.useCallback)(e=>{_($I({handler:f,reactEvent:e}))},[_,f]),B=(0,t.useCallback)(e=>{_($I({handler:m,reactEvent:e}))},[_,m]),q=(0,t.useCallback)(e=>{w&&_(nA(e)),_($I({handler:g,reactEvent:e}))},[_,w,g]),H=(0,t.useCallback)(e=>{_($I({handler:p,reactEvent:e}))},[_,p]),K=function(e){return!0===e?xN:EN}(b);return t.createElement(fN.Provider,{value:S},t.createElement(pN.Provider,{value:k},t.createElement(K,{width:null!==I&&void 0!==I?I:null===v||void 0===v?void 0:v.width,height:null!==A&&void 0!==A?A:null===v||void 0===v?void 0:v.height,className:nf("recharts-wrapper",i),style:mN({position:"relative",cursor:"default",width:I,height:A},v),onClick:P,onContextMenu:F,onDoubleClick:U,onFocus:R,onKeyDown:L,onMouseDown:z,onMouseEnter:j,onMouseLeave:D,onMouseMove:M,onMouseUp:V,onTouchEnd:H,onTouchMove:q,onTouchStart:B,ref:N},t.createElement(bN,null),r)))}),ON=Kv([Ly],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),TN=Kv([ON,Oy,Ty],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),CN=(0,t.createContext)(void 0),IN=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(pf("recharts"),"-clip")),i=ey(TN);if(null==i)return null;var{x:o,y:a,width:s,height:l}=i;return t.createElement(CN.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:o,y:a,height:l,width:s}))),n)},AN=["width","height","responsive","children","className","style","compact","title","desc"];var NN=(0,t.forwardRef)((e,n)=>{var{width:r,height:i,responsive:o,children:a,className:s,style:l,compact:c,title:u,desc:d}=e,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,AN),f=LA(h);return c?t.createElement(t.Fragment,null,t.createElement(Xy,{width:r,height:i}),t.createElement(tN,{otherAttributes:f,title:u,desc:d},a)):t.createElement(kN,{className:s,style:l,width:r,height:i,responsive:null!==o&&void 0!==o&&o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(tN,{otherAttributes:f,title:u,desc:d,ref:n},t.createElement(IN,null,a)))});function PN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DN(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PN(Object(n),!0).forEach(function(t){jN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var MN=["layout"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RN.apply(null,arguments)}var LN={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},FN=(0,t.forwardRef)(function(e,n){var r,i=DN(e.categoricalChartProps,LN),{layout:o}=i,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,MN),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return t.createElement(_A,{preloadedState:{options:d},reduxStoreName:null!==(r=i.id)&&void 0!==r?r:s},t.createElement(SA,{chartData:i.data}),t.createElement(CA,{layout:o,margin:i.margin}),t.createElement(IA,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),t.createElement(AA,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),t.createElement(NN,RN({},a,{ref:n})))}),UN=["item"],zN={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},VN=(0,t.forwardRef)((e,n)=>{var r=DN(e,zN);return t.createElement(FN,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:UN,tooltipPayloadSearcher:am,categoricalChartProps:r,ref:n})}),BN=e=>e.graphicalItems.polarItems,qN=Kv([mk,vk],Fk),HN=Kv([BN,Mk,qN],zk),KN=Kv([HN],Kk),WN=Kv([KN,lE],Gk),GN=Kv([WN,Mk,HN],Yk),QN=(Kv([WN,Mk,HN],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:gy(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:gy(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),()=>{}),YN=Kv([WN,Mk,HN,hO,mk],pO),XN=Kv([Mk,cO,uO,QN,YN,QN,Qy,mk],NO),$N=Kv([Mk,Qy,WN,GN,AE,mk,XN],DO),JN=Kv([$N,Mk,LO],UO);Kv([Mk,$N,JN,mk],VO);function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(t){tP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nP=Kv([BN,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),rP=[],iP=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?rP:n,oP=Kv([lE,nP,iP],(e,t,n)=>{var r,{chartData:i}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>eP(eP({},t.presentationProps),e.props))),null!=r))return r}),aP=Kv([oP,nP,iP],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var i,o,a=gy(e,t.nameKey,t.name);return o=null!==n&&void 0!==n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:ky(a,t.dataKey),color:o,payload:e,type:t.legendType}})}),sP=Kv([oP,nP,iP,Ly],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:o,cells:a,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),g=PR(c,u),m=Math.abs(g),v=o.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=o.filter(e=>0!==gy(e,d,0)).length,b=m-y*p-(m>=360?y:y-1)*v,w=o.reduce((e,t)=>{var n=gy(t,d,0);return e+(df(n)?n:0)},0);w>0&&(n=o.map((e,t)=>{var n,o=gy(e,d,0),u=gy(e,h,t),m=NR(i,s,e),y=(df(o)?o:0)/w,x=ER(ER({},e),a&&a[t]&&a[t].props),_=(n=t?r.endAngle+lf(g)*v*(0!==o?1:0):c)+lf(g)*((0!==o?p:0)+y*b),S=(n+_)/2,E=(m.innerRadius+m.outerRadius)/2,k=[{name:u,value:o,payload:x,dataKey:d,type:f}],O=VE(m.cx,m.cy,E,S);return r=ER(ER(ER(ER({},i.presentationProps),{},{percent:y,cornerRadius:"string"===typeof l?parseFloat(l):l,name:u,tooltipPayload:k,midAngle:S,middleRadius:E,tooltipPosition:O},x),m),{},{value:o,startAngle:n,endAngle:_,payload:x,paddingAngle:lf(g)*v})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),lP=["children","className"];function cP(){return cP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cP.apply(null,arguments)}var uP,dP,hP,fP,pP,gP,mP,vP,yP,bP,wP,xP,_P,SP,EP=t.forwardRef((e,n)=>{var{children:r,className:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,lP),a=nf("recharts-layer",i);return t.createElement("g",cP({className:a},UA(o),{ref:n}),r)});function kP(){}function OP(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function TP(e){this._context=e}function CP(e){this._context=e}function IP(e){this._context=e}TP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:OP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:OP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},CP.prototype={areaStart:kP,areaEnd:kP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:OP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},IP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:OP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class AP{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function NP(e){this._context=e}function PP(e){this._context=e}function jP(e){return new PP(e)}function DP(e){return e<0?-1:1}function MP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(DP(o)+DP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function RP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function LP(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function FP(e){this._context=e}function UP(e){this._context=new zP(e)}function zP(e){this._context=e}function VP(e){this._context=e}function BP(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function qP(e,t){this._context=e,this._t=t}function HP(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}NP.prototype={areaStart:kP,areaEnd:kP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},PP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},FP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:LP(this,this._t0,RP(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,LP(this,RP(this,n=MP(this,e,t)),n);break;default:LP(this,this._t0,n=MP(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(UP.prototype=Object.create(FP.prototype)).point=function(e,t){FP.prototype.point.call(this,t,e)},zP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},VP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=BP(e),i=BP(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},qP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const KP=Math.PI,WP=2*KP,GP=1e-6,QP=WP-GP;function YP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class XP{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?YP:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return YP;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(uP||(uP=HP(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(dP||(dP=HP(["Z"]))))}lineTo(e,t){this._append(hP||(hP=HP(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(fP||(fP=HP(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(pP||(pP=HP(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append(gP||(gP=HP(["M",",",""])),this._x1=e,this._y1=t);else if(d>GP)if(Math.abs(u*s-l*c)>GP&&i){let h=n-o,f=r-a,p=s*s+l*l,g=h*h+f*f,m=Math.sqrt(p),v=Math.sqrt(d),y=i*Math.tan((KP-Math.acos((p+d-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>GP&&this._append(vP||(vP=HP(["L",",",""])),e+b*c,t+b*u),this._append(yP||(yP=HP(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+w*s,this._y1=t+w*l)}else this._append(mP||(mP=HP(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append(bP||(bP=HP(["M",",",""])),l,c):(Math.abs(this._x1-l)>GP||Math.abs(this._y1-c)>GP)&&this._append(wP||(wP=HP(["L",",",""])),l,c),n&&(d<0&&(d=d%WP+WP),d>QP?this._append(xP||(xP=HP(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-a,t-s,n,n,u,this._x1=l,this._y1=c):d>GP&&this._append(_P||(_P=HP(["A",",",",0,",",",",",",",""])),n,n,+(d>=KP),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(SP||(SP=HP(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function $P(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new XP(t)}function JP(e){return e[0]}function ZP(e){return e[1]}function ej(e,t){var n=sy(!0),r=null,i=jP,o=null,a=$P(s);function s(s){var l,c,u,d=(s=ay(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?JP:sy(e),t="function"===typeof t?t:void 0===t?ZP:sy(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:sy(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:sy(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:sy(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function tj(e,t,n){var r=null,i=sy(!0),o=null,a=jP,s=null,l=$P(c);function c(c){var u,d,h,f,p,g=(c=ay(c)).length,m=!1,v=new Array(g),y=new Array(g);for(null==o&&(s=a(p=l())),u=0;u<=g;++u){if(!(u<g&&i(f=c[u],u,c))===m)if(m=!m)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),s.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(p)return s=null,p+""||null}function u(){return ej().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?JP:sy(+e),t="function"===typeof t?t:sy(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?ZP:sy(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:sy(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:sy(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:sy(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:sy(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:sy(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:sy(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:sy(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}var nj=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,rj=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];jA(i)&&"function"===typeof o&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(o,t,n))}),r};function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ij.apply(null,arguments)}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(t){sj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lj={curveBasisClosed:function(e){return new CP(e)},curveBasisOpen:function(e){return new IP(e)},curveBasis:function(e){return new TP(e)},curveBumpX:function(e){return new AP(e,!0)},curveBumpY:function(e){return new AP(e,!1)},curveLinearClosed:function(e){return new NP(e)},curveLinear:jP,curveMonotoneX:function(e){return new FP(e)},curveMonotoneY:function(e){return new UP(e)},curveNatural:function(e){return new VP(e)},curveStep:function(e){return new qP(e,.5)},curveStepAfter:function(e){return new qP(e,1)},curveStepBefore:function(e){return new qP(e,0)}},cj=e=>If(e.x)&&If(e.y),uj=e=>null!=e.base&&cj(e.base)&&cj(e),dj=e=>e.x,hj=e=>e.y,fj=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,a=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(bf(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?lj[n]||jP:lj["".concat(n).concat("vertical"===t?"Y":"X")]})(t,i),s=o?n.filter(cj):n;if(Array.isArray(r)){var l=n.map((e,t)=>aj(aj({},e),{},{base:r[t]}));return("vertical"===i?tj().y(hj).x1(dj).x0(e=>e.base.x):tj().x(dj).y1(hj).y0(e=>e.base.y)).defined(uj).curve(a)(o?l.filter(uj):l)}return("vertical"===i&&df(r)?tj().y(hj).x1(dj).x0(r):df(r)?tj().x(dj).y1(hj).y0(r):ej().x(dj).y(hj)).defined(cj).curve(a)(s)},pj=e=>{var{className:n,points:r,path:i,pathRef:o}=e;if((!r||!r.length)&&!i)return null;var a=r&&r.length?fj(e):i;return t.createElement("path",ij({},LA(e),((e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var i={};return Object.keys(r).forEach(e=>{jA(e)&&(i[e]=n||(t=>r[e](r,t)))}),i})(e),{className:nf("recharts-curve",n),d:null===a?void 0:a,ref:o}))};function gj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mj(Object(n),!0).forEach(function(t){yj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bj=vj({},{cacheSize:2e3,enableCache:!0}),wj=new class{constructor(e){gj(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;null!=n&&this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(bj.cacheSize),xj={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_j="recharts_measurement_span";var Sj=(e,t)=>{try{var n=document.getElementById(_j);n||((n=document.createElement("span")).setAttribute("id",_j),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,xj,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},Ej=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||uA)return{width:0,height:0};if(!bj.enableCache)return Sj(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",a=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(s)}(e,t),r=wj.get(n);if(r)return r;var i=Sj(e,t);return wj.set(n,i),i},kj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Oj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Tj=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cj=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ij={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Aj=Object.keys(Ij),Nj="NaN";class Pj{static parse(e){var t,[,n,r]=null!==(t=Cj.exec(e))&&void 0!==t?t:[];return new Pj(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,cf(e)&&(this.unit=""),""===t||Tj.test(t)||(this.num=NaN,this.unit=""),Aj.includes(t)&&(this.num=function(e,t){return e*Ij[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Pj(NaN,""):new Pj(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Pj(NaN,""):new Pj(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Pj(NaN,""):new Pj(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Pj(NaN,""):new Pj(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return cf(this.num)}}function jj(e){if(e.includes(Nj))return Nj;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=null!==(n=kj.exec(t))&&void 0!==n?n:[],a=Pj.parse(null!==r&&void 0!==r?r:""),s=Pj.parse(null!==o&&void 0!==o?o:""),l="*"===i?a.multiply(s):a.divide(s);if(l.isNaN())return Nj;t=t.replace(kj,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=Oj.exec(t))&&void 0!==c?c:[],f=Pj.parse(null!==u&&void 0!==u?u:""),p=Pj.parse(null!==h&&void 0!==h?h:""),g="+"===d?f.add(p):f.subtract(p);if(g.isNaN())return Nj;t=t.replace(Oj,g.toString())}return t}var Dj=/\(([^()]*)\)/;function Mj(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=Dj.exec(n));){var[,r]=t;n=n.replace(Dj,jj(r))}return n}(t),t=jj(t)}function Rj(e){var t=function(e){try{return Mj(e)}catch(t){return Nj}}(e.slice(5,-1));return t===Nj?"":t}var Lj=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Fj=["dx","dy","angle","className","breakAll"];function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uj.apply(null,arguments)}function zj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Vj=/[ \f\n\r\t\v\u2028\u2029]+/,Bj=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return yf(t)||(i=n?t.toString().split(""):t.toString().split(Vj)),{wordsWithComputedWidth:i.map(e=>({word:e,width:Ej(e,r).width})),spaceWidth:n?0:Ej("\xa0",r).width}}catch(o){return null}};function qj(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var Hj=(e,t,n,r)=>e.reduce((e,i)=>{var{word:o,width:a}=i,s=e[e.length-1];if(s&&null!=a&&(null==t||r||s.width+a+n<Number(t)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[]),Kj=e=>e.reduce((e,t)=>e.width>t.width?e:t),Wj=(e,t,n,r,i,o,a,s)=>{var l=e.slice(0,t),c=Bj({breakAll:n,style:r,children:l+"\u2026"});if(!c)return[!1,[]];var u=Hj(c.wordsWithComputedWidth,o,a,s);return[u.length>i||Kj(u).width>Number(o),u]},Gj=e=>[{words:yf(e)?[]:e.toString().split(Vj),width:void 0}],Qj=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=e;if((t||n)&&!uA){var s=Bj({breakAll:o,children:r,style:i});if(!s)return Gj(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,c=df(o),u=String(a),d=Hj(t,r,n,i);if(!c||i)return d;if(!(d.length>o||Kj(d).width>Number(r)))return d;for(var h,f=0,p=u.length-1,g=0;f<=p&&g<=u.length-1;){var m=Math.floor((f+p)/2),v=m-1,[y,b]=Wj(u,v,l,s,o,r,n,i),[w]=Wj(u,m,l,s,o,r,n,i);if(y||w||(f=m+1),y&&w&&(p=m-1),!y&&w){h=b;break}g++}return h||d})({breakAll:o,children:r,maxLines:a,style:i},l,c,t,Boolean(n))}return Gj(r)},Yj="#808080",Xj={angle:0,breakAll:!1,capHeight:"0.71em",fill:Yj,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},$j=(0,t.forwardRef)((e,n)=>{var r=DN(e,Xj),{x:i,y:o,lineHeight:a,capHeight:s,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,h=zj(r,Lj),f=(0,t.useMemo)(()=>Qj({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:p,dy:g,angle:m,className:v,breakAll:y}=h,b=zj(h,Fj);if(!hf(i)||!hf(o)||0===f.length)return null;var w,x=Number(i)+(df(p)?p:0),_=Number(o)+(df(g)?g:0);if(!If(x)||!If(_))return null;switch(d){case"start":w=Rj("calc(".concat(s,")"));break;case"middle":w=Rj("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:w=Rj("calc(".concat(f.length-1," * -").concat(a,")"))}var S=[];if(c){var E=f[0].width,{width:k}=h;S.push("scale(".concat(df(k)&&df(E)?k/E:1,")"))}return m&&S.push("rotate(".concat(m,", ").concat(x,", ").concat(_,")")),S.length&&(b.transform=S.join(" ")),t.createElement("text",Uj({},UA(b),{ref:n,x:x,y:_,className:nf("recharts-text",v),textAnchor:u,fill:l.includes("url")?Yj:l}),f.map((e,n)=>{var r=e.words.join(y?"":" ");return t.createElement("tspan",{x:x,dy:0===n?w:a,key:"".concat(r,"-").concat(n)},r)}))});$j.displayName="Text";var Jj=e=>null;Jj.displayName="Cell";var Zj=n(2086),eD=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",tD=null,nD=null,rD=e=>{if(e===tD&&Array.isArray(nD))return nD;var n=[];return t.Children.forEach(e,e=>{yf(e)||((0,Zj.isFragment)(e)?n=n.concat(rD(e.props.children)):n.push(e))}),nD=n,tD=e,n};function iD(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>eD(e)):[eD(t)],rD(e).forEach(e=>{var t=sf()(e,"type.displayName")||sf()(e,"type.name");t&&-1!==r.indexOf(t)&&n.push(e)}),n}var oD=n(9397),aD=n.n(oD);function sD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sD(Object(n),!0).forEach(function(t){cD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uD=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),dD=(e,t)=>Object.keys(t).reduce((n,r)=>lD(lD({},n),{},{[r]:e(r,t[r])}),{});function hD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hD(Object(n),!0).forEach(function(t){pD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gD=(e,t,n)=>e+(t-e)*n,mD=e=>{var{from:t,to:n}=e;return t!==n},vD=(e,t,n)=>{var r=dD((t,n)=>{if(mD(n)){var[r,i]=e(n.from,n.to,n.velocity);return fD(fD({},n),{},{from:r,velocity:i})}return n},t);return n<1?dD((e,t)=>mD(t)?fD(fD({},t),{},{velocity:gD(t.velocity,r[e].velocity,n),from:gD(t.from,r[e].from,n)}):t,t):vD(e,r,n-1)};function yD(e,t,n,r,i,o){var a,s=r.reduce((n,r)=>fD(fD({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{a||(a=r);var u=(r-a)/n.dt;s=vD(n,s,u),i(fD(fD(fD({},e),t),dD((e,t)=>t.from,s))),a=r,Object.values(s).filter(mD).length&&(l=o.setTimeout(c))};return()=>(l=o.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const bD=(e,t,n,r,i,o)=>{var a,s,l=(a=e,s=t,[Object.keys(a),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==n?()=>(i(fD(fD({},e),t)),()=>{}):!0===n.isStepper?yD(e,t,n,l,i,o):function(e,t,n,r,i,o,a){var s,l=null,c=i.reduce((n,r)=>fD(fD({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{s||(s=i);var d=(i-s)/r,h=dD((e,t)=>gD(...t,n(d)),c);if(o(fD(fD(fD({},e),t),h)),d<1)l=a.setTimeout(u);else{var f=dD((e,t)=>gD(...t,n(1)),c);o(fD(fD(fD({},e),t),f))}};return()=>(l=a.setTimeout(u),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,n,r,l,i,o)};var wD=1e-4,xD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_D=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),SD=(e,t)=>n=>{var r=xD(e,t);return _D(r,n)},ED=(e,t,n,r)=>{var i,o,a=SD(e,n),s=SD(t,r),l=(i=e,o=n,e=>{var t=[...xD(i,o).map((e,t)=>e*t).slice(1),0];return _D(t,e)}),c=e=>e>1?1:e<0?0:e,u=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=a(n)-t,o=l(n);if(Math.abs(i-t)<wD||o<wD)return s(n);n=c(n-i/o)}return s(n)};return u.isStepper=!1,u},kD=function(){return ED(...function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var r,i=t[0].split("(");if("cubic-bezier"===i[0]&&4===(null===(r=i[1])||void 0===r?void 0:r.split(")")[0].split(",").length)){var o=i[1].split(")")[0].split(",").map(e=>parseFloat(e));return[o[0],o[1],o[2],o[3]]}}return 4===t.length?t:[0,0,1,1]}(...arguments))},OD=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kD(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,o)=>{var a=o+(-(e-i)*t-o*n)*r/1e3,s=o*r/1e3+e;return Math.abs(s-i)<wD&&Math.abs(a)<wD?[i,0]:[s,a]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return kD(e)}return"function"===typeof e?e:null};class TD{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=o=>{o-n>=t?e(o):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{null!=r&&cancelAnimationFrame(r)}}}function CD(){return function(e){var t=()=>null,n=!1,r=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,[s,...l]=a;return"number"===typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"string"===typeof o&&t(o),"object"===typeof o&&t(o),"function"===typeof o&&o()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new TD)}var ID=(0,t.createContext)(CD);var AD={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ND={t:0},PD={t:1};function jD(e){var n=DN(e,AD),{isActive:r,canBegin:i,duration:o,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d="auto"===r?!uA:r,h=function(e,n){var r=(0,t.useContext)(ID);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}(n.animationId,n.animationManager),[f,p]=(0,t.useState)(d?ND:PD),g=(0,t.useRef)(null);return(0,t.useEffect)(()=>{d||p(PD)},[d]),(0,t.useEffect)(()=>{if(!d||!i)return xf;var e=bD(ND,PD,OD(a),o,p,h.getTimeoutController());return h.start([c,s,()=>{g.current=e()},o,l]),()=>{h.stop(),g.current&&g.current(),l()}},[d,i,o,a,s,c,l,h]),u(f.t)}function DD(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(pf(n)),i=(0,t.useRef)(e);return i.current!==e&&(r.current=pf(n),i.current=e),r.current}var MD=["radius"],RD=["radius"];function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LD(Object(n),!0).forEach(function(t){UD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zD(){return zD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zD.apply(null,arguments)}function VD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var BD=(e,t,n,r,i)=>{var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},qD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HD=e=>{var n=DN(e,qD),r=(0,t.useRef)(null),[i,o]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var{x:a,y:s,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:m}=n,v=(0,t.useRef)(l),y=(0,t.useRef)(c),b=(0,t.useRef)(a),w=(0,t.useRef)(s),x=DD((0,t.useMemo)(()=>({x:a,y:s,width:l,height:c,radius:u}),[a,s,l,c,u]),"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var _=nf("recharts-rectangle",d);if(!m){var S=UA(n),{radius:E}=S,k=VD(S,MD);return t.createElement("path",zD({},k,{radius:"number"===typeof u?u:void 0,className:_,d:BD(a,s,l,c,u)}))}var O=v.current,T=y.current,C=b.current,I=w.current,A="0px ".concat(-1===i?1:i,"px"),N="".concat(i,"px 0px"),P=uD(["strokeDasharray"],f,"string"===typeof h?h:qD.animationEasing);return t.createElement(jD,{animationId:x,key:x,canBegin:i>0,duration:f,easing:h,isActive:m,begin:p},e=>{var i,o=vf(O,l,e),d=vf(T,c,e),h=vf(C,a,e),f=vf(I,s,e);r.current&&(v.current=o,y.current=d,b.current=h,w.current=f),i=g?e>0?{transition:P,strokeDasharray:N}:{strokeDasharray:A}:{strokeDasharray:N};var p=UA(n),{radius:m}=p,x=VD(p,RD);return t.createElement("path",zD({},x,{radius:"number"===typeof u?u:void 0,className:_,d:BD(h,f,o,d,u),ref:r,style:FD(FD({},i),n.style)}))})};function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(n),!0).forEach(function(t){GD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QD(){return QD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QD.apply(null,arguments)}var YD=(e,t,n,r,i)=>{var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},XD={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$D=e=>{var n=DN(e,XD),{x:r,y:i,upperWidth:o,lowerWidth:a,height:s,className:l}=n,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=n,f=(0,t.useRef)(null),[p,g]=(0,t.useState)(-1),m=(0,t.useRef)(o),v=(0,t.useRef)(a),y=(0,t.useRef)(s),b=(0,t.useRef)(r),w=(0,t.useRef)(i),x=DD(e,"trapezoid-");if((0,t.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&g(e)}catch(t){}},[]),r!==+r||i!==+i||o!==+o||a!==+a||s!==+s||0===o&&0===a||0===s)return null;var _=nf("recharts-trapezoid",l);if(!h)return t.createElement("g",null,t.createElement("path",QD({},UA(n),{className:_,d:YD(r,i,o,a,s)})));var S=m.current,E=v.current,k=y.current,O=b.current,T=w.current,C="0px ".concat(-1===p?1:p,"px"),I="".concat(p,"px 0px"),A=uD(["strokeDasharray"],u,c);return t.createElement(jD,{animationId:x,key:x,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},e=>{var l=vf(S,o,e),c=vf(E,a,e),u=vf(k,s,e),d=vf(O,r,e),h=vf(T,i,e);f.current&&(m.current=l,v.current=c,y.current=u,b.current=d,w.current=h);var p=e>0?{transition:A,strokeDasharray:I}:{strokeDasharray:C};return t.createElement("path",QD({},UA(n),{className:_,d:YD(d,h,l,c,u),ref:f,style:WD(WD({},p),n.style)}))})};function JD(){return JD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JD.apply(null,arguments)}var ZD=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,c=s*(a?1:-1)+r,u=Math.asin(s/c)/UE,d=l?i:i+o*u,h=l?i-o*u:i;return{center:VE(t,n,c,d),circleTangency:VE(t,n,r,d),lineTangency:VE(t,n,c*Math.cos(u*UE),h),theta:u}},eM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=e,s=((e,t)=>lf(t-e)*Math.min(Math.abs(t-e),359.999))(o,a),l=o+s,c=VE(t,n,i,o),u=VE(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(o>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=VE(t,n,r,o),f=VE(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(o<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},tM={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nM=e=>{var n=DN(e,tM),{cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(a<o||u===d)return null;var f,p=nf("recharts-sector",h),g=a-o,m=gf(s,g,0,!0);return f=m>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=lf(c-l),{circleTangency:d,lineTangency:h,theta:f}=ZD({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),{circleTangency:p,lineTangency:g,theta:m}=ZD({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),v=s?Math.abs(l-c):Math.abs(l-c)-f-m;if(v<0)return a?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):eM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:w,theta:x}=ZD({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:_,lineTangency:S,theta:E}=ZD({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),k=s?Math.abs(l-c):Math.abs(l-c)-x-E;if(k<0&&0===o)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):eM({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),t.createElement("path",JD({},UA(n),{className:p,d:f}))};Math.abs,Math.atan2;const rM=Math.cos,iM=(Math.max,Math.min,Math.sin),oM=Math.sqrt,aM=Math.PI,sM=2*aM;const lM={draw(e,t){const n=oM(t/aM);e.moveTo(n,0),e.arc(0,0,n,0,sM)}},cM={draw(e,t){const n=oM(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},uM=oM(1/3),dM=2*uM,hM={draw(e,t){const n=oM(t/dM),r=n*uM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},fM={draw(e,t){const n=oM(t),r=-n/2;e.rect(r,r,n,n)}},pM=iM(aM/10)/iM(7*aM/10),gM=iM(sM/10)*pM,mM=-rM(sM/10)*pM,vM={draw(e,t){const n=oM(.8908130915292852*t),r=gM*n,i=mM*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=sM*o/5,a=rM(t),s=iM(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},yM=oM(3),bM={draw(e,t){const n=-oM(t/(3*yM));e.moveTo(0,2*n),e.lineTo(-yM*n,-n),e.lineTo(yM*n,-n),e.closePath()}},wM=-.5,xM=oM(3)/2,_M=1/oM(12),SM=3*(_M/2+1),EM={draw(e,t){const n=oM(t/SM),r=n/2,i=n*_M,o=r,a=n*_M+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(wM*r-xM*i,xM*r+wM*i),e.lineTo(wM*o-xM*a,xM*o+wM*a),e.lineTo(wM*s-xM*l,xM*s+wM*l),e.lineTo(wM*r+xM*i,wM*i-xM*r),e.lineTo(wM*o+xM*a,wM*a-xM*o),e.lineTo(wM*s+xM*l,wM*l-xM*s),e.closePath()}};oM(3),oM(3);var kM=["type","size","sizeType"];function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(null,arguments)}function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(t){IM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AM={symbolCircle:lM,symbolCross:cM,symbolDiamond:hM,symbolSquare:fM,symbolStar:vM,symbolTriangle:bM,symbolWye:EM},NM=Math.PI/180,PM=e=>{var{type:n="circle",size:r=64,sizeType:i="area"}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,kM),a=CM(CM({},o),{},{type:n,size:r,sizeType:i}),s="circle";"string"===typeof n&&(s=n);var{className:l,cx:c,cy:u}=a,d=UA(a);return df(c)&&df(u)&&df(r)?t.createElement("path",OM({},d,{className:nf("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(bf(e));return AM[t]||lM})(s),t=function(e,t){let n=null,r=$P(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:sy(e||lM),t="function"===typeof t?t:sy(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:sy(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:sy(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*NM;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,i,s)),n=t();if(null!==n)return n})()})):null};PM.registerSymbol=(e,t)=>{AM["symbol".concat(bf(e))]=t};var jM=["option","shapeType","propTransformer","activeClassName"];function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(t){RM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LM(e,t){return MM(MM({},t),e)}function FM(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(HD,r);case"trapezoid":return t.createElement($D,r);case"sector":return t.createElement(nM,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(PM,r);break;case"curve":return t.createElement(pj,r);default:return null}}function UM(e){var n,{option:r,shapeType:i,propTransformer:o=LM,activeClassName:a="recharts-active-shape"}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,jM);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,MM(MM({},s),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(s);else if(aD()(r)&&"boolean"!==typeof r){var l=o(r,s);n=t.createElement(FM,{shapeType:i,elementProps:l})}else{var c=s;n=t.createElement(FM,{shapeType:i,elementProps:c})}return s.isActive?t.createElement(EP,{className:a},n):n}function zM(e){var{tooltipEntrySettings:n}=e,r=Xv(),i=zy(),o=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{i||(null===o.current?r(pv(n)):o.current!==n&&r(gv({prev:o.current,next:n})),o.current=n)},[n,r,i]),(0,t.useLayoutEffect)(()=>()=>{o.current&&(r(mv(o.current)),o.current=null)},[r]),null}function VM(e){var{legendPayload:n}=e,r=Xv(),i=ey(Qy),o=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{"centric"!==i&&"radial"!==i||(null===o.current?r(NI(n)):o.current!==n&&r(PI({prev:o.current,next:n})),o.current=n)},[r,i,n]),(0,t.useLayoutEffect)(()=>()=>{o.current&&(r(jI(o.current)),o.current=null)},[r]),null}var BM=(0,t.createContext)(void 0),qM=e=>{var{id:n,type:r,children:i}=e,o=KA("recharts-".concat(r),n);return t.createElement(BM.Provider,{value:o},i(o))};function HM(e){var n=Xv();return(0,t.useLayoutEffect)(()=>(n(fI(e)),()=>{n(pI(e))}),[n,e]),null}var KM=n(356),WM=n.n(KM),GM=n(7950);function QM(e){var{zIndex:n,children:r}=e,i=void 0!==Yy()&&void 0!==n&&0!==n,o=zy(),a=Xv();(0,t.useLayoutEffect)(()=>i?(a(vA({zIndex:n})),()=>{a(yA({zIndex:n}))}):xf,[a,n,i]);var s=ey(e=>WA(e,n,o));if(!i)return r;if(!s)return null;var l=document.getElementById(s);return l?(0,GM.createPortal)(r,l):null}var YM=["labelRef"];function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(t){JM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZM(){return ZM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZM.apply(null,arguments)}var eR=(0,t.createContext)(null),tR=()=>{var e=(0,t.useContext)(eR),n=Hy();return e||qy(n)},nR=(0,t.createContext)(null),rR=()=>{var e=(0,t.useContext)(nR),n=ey(gk);return e||n},iR=e=>null!=e&&"function"===typeof e,oR=(e,n,r,i,o)=>{var a,s,{offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:g,clockWise:m}=o,v=(h+f)/2,y=((e,t)=>lf(t-e)*Math.min(Math.abs(t-e),360))(p,g),b=y>=0?1:-1;switch(n){case"insideStart":a=p+b*l,s=m;break;case"insideEnd":a=g-b*l,s=!m;break;case"end":a=g+b*l,s=m;break;default:throw new Error("Unsupported position ".concat(n))}s=y<=0?s:!s;var w=VE(u,d,v,a),x=VE(u,d,v,a+359*(s?1:-1)),_="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(x.x,",").concat(x.y),S=yf(e.id)?pf("recharts-radial-line-"):e.id;return t.createElement("text",ZM({},i,{dominantBaseline:"central",className:nf("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:_})),t.createElement("textPath",{xlinkHref:"#".concat(S)},r))},aR=e=>"cx"in e&&df(e.cx),sR={angle:0,offset:5,zIndex:WE.label,position:"middle",textBreakAll:!1};function lR(e){var n,r,i,o=DN(e,sR),{viewBox:a,position:s,value:l,children:c,content:u,className:d="",textBreakAll:h,labelRef:f}=o,p=rR(),g=tR();if(!(n=null==a?"center"===s?g:null!==p&&void 0!==p?p:g:aR(a)?a:qy(a))||yf(l)&&yf(c)&&!(0,t.isValidElement)(u)&&"function"!==typeof u)return null;var m=$M($M({},o),{},{viewBox:n});if((0,t.isValidElement)(u)){var{labelRef:v}=m,y=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(m,YM);return(0,t.cloneElement)(u,y)}if("function"===typeof u){if(r=(0,t.createElement)(u,m),(0,t.isValidElement)(r))return r}else r=(e=>{var{value:t,formatter:n}=e,r=yf(e.children)?t:e.children;return"function"===typeof n?n(r):r})(o);var b=UA(o);if(aR(n)){if("insideStart"===s||"insideEnd"===s||"end"===s)return oR(o,s,r,b,n);i=((e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:d}=VE(r,i,a+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+a)/2,{x:f,y:p}=VE(r,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(n,o.offset,o.position)}else i=((e,t)=>{var n,{parentViewBox:r,offset:i,position:o}=e;null==r||aR(r)||(n=r);var{x:a,y:s,upperWidth:l,lowerWidth:c,height:u}=t,d=a,h=a+(l-c)/2,f=(d+h)/2,p=(l+c)/2,g=d+l/2,m=u>=0?1:-1,v=m*i,y=m>0?"end":"start",b=m>0?"start":"end",w=l>=0?1:-1,x=w*i,_=w>0?"end":"start",S=w>0?"start":"end";if("top"===o)return $M($M({},{x:d+l/2,y:s-v,textAnchor:"middle",verticalAnchor:y}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===o)return $M($M({},{x:h+c/2,y:s+u+v,textAnchor:"middle",verticalAnchor:b}),n?{height:Math.max(n.y+n.height-(s+u),0),width:c}:{});if("left"===o){var E={x:f-x,y:s+u/2,textAnchor:_,verticalAnchor:"middle"};return $M($M({},E),n?{width:Math.max(E.x-n.x,0),height:u}:{})}if("right"===o){var k={x:f+p+x,y:s+u/2,textAnchor:S,verticalAnchor:"middle"};return $M($M({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:u}:{})}var O=n?{width:p,height:u}:{};return"insideLeft"===o?$M({x:f+x,y:s+u/2,textAnchor:S,verticalAnchor:"middle"},O):"insideRight"===o?$M({x:f+p-x,y:s+u/2,textAnchor:_,verticalAnchor:"middle"},O):"insideTop"===o?$M({x:d+l/2,y:s+v,textAnchor:"middle",verticalAnchor:b},O):"insideBottom"===o?$M({x:h+c/2,y:s+u-v,textAnchor:"middle",verticalAnchor:y},O):"insideTopLeft"===o?$M({x:d+x,y:s+v,textAnchor:S,verticalAnchor:b},O):"insideTopRight"===o?$M({x:d+l-x,y:s+v,textAnchor:_,verticalAnchor:b},O):"insideBottomLeft"===o?$M({x:h+x,y:s+u-v,textAnchor:S,verticalAnchor:y},O):"insideBottomRight"===o?$M({x:h+c-x,y:s+u-v,textAnchor:_,verticalAnchor:y},O):o&&"object"===typeof o&&(df(o.x)||uf(o.x))&&(df(o.y)||uf(o.y))?$M({x:a+gf(o.x,p),y:s+gf(o.y,u),textAnchor:"end",verticalAnchor:"end"},O):$M({x:g,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},O)})(o,n);return t.createElement(QM,{zIndex:o.zIndex},t.createElement($j,ZM({ref:f,className:nf("recharts-label",d)},b,i,{textAnchor:qj(b.textAnchor)?b.textAnchor:i.textAnchor,breakAll:h}),r))}lR.displayName="Label";var cR=["valueAccessor"],uR=["dataKey","clockWise","id","textBreakAll","zIndex"];function dR(){return dR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dR.apply(null,arguments)}function hR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fR=e=>Array.isArray(e.value)?WM()(e.value):e.value,pR=(0,t.createContext)(void 0),gR=(pR.Provider,(0,t.createContext)(void 0)),mR=gR.Provider;function vR(e){var{valueAccessor:n=fR}=e,r=hR(e,cR),{dataKey:i,clockWise:o,id:a,textBreakAll:s,zIndex:l}=r,c=hR(r,uR),u=(0,t.useContext)(pR),d=(0,t.useContext)(gR),h=u||d;return h&&h.length?t.createElement(QM,{zIndex:null!==l&&void 0!==l?l:WE.label},t.createElement(EP,{className:"recharts-label-list"},h.map((e,o)=>{var l,u=yf(i)?n(e,o):gy(e&&e.payload,i),d=yf(a)?{}:{id:"".concat(a,"-").concat(o)};return t.createElement(lR,dR({key:"label-".concat(o)},UA(e),c,d,{fill:null!==(l=r.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:s,viewBox:e.viewBox,index:o,zIndex:0}))}))):null}function yR(e){var{label:n}=e;return n?!0===n?t.createElement(vR,{key:"labelList-implicit"}):t.isValidElement(n)||iR(n)?t.createElement(vR,{key:"labelList-implicit",content:n}):"object"===typeof n?t.createElement(vR,dR({key:"labelList-implicit"},n,{type:String(n.type)})):null:null}vR.displayName="LabelList";var bR=["key"],wR=["onMouseEnter","onClick","onMouseLeave"],xR=["id"],_R=["id"];function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ER(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(t){kR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OR(){return OR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OR.apply(null,arguments)}function TR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CR(e){var n=(0,t.useMemo)(()=>iD(e.children,Jj),[e.children]),r=ey(t=>aP(t,e.id,n));return null==r?null:t.createElement(VM,{legendPayload:r})}var IR=t.memo(e=>{var{dataKey:n,nameKey:r,sectors:i,stroke:o,strokeWidth:a,fill:s,name:l,hide:c,tooltipType:u}=e,d={dataDefinedOnItem:i.map(e=>e.tooltipPayload),positions:i.map(e=>e.tooltipPosition),settings:{stroke:o,strokeWidth:a,fill:s,dataKey:n,nameKey:r,name:ky(l,n),hide:c,type:u,color:s,unit:""}};return t.createElement(zM,{tooltipEntrySettings:d})}),AR=(e,t)=>e>t?"start":e<t?"end":"middle",NR=(e,t,n)=>{var{top:r,left:i,width:o,height:a}=t,s=BE(o,a),l=i+gf(e.cx,o,o/2),c=r+gf(e.cy,a,a/2),u=gf(e.innerRadius,s,0),d=((e,t,n)=>gf("function"===typeof t?t(e):t,n,.8*n))(n,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(o*o+a*a)/2}},PR=(e,t)=>lf(t-e)*Math.min(Math.abs(t-e),360);function jR(e){var{sectors:n,props:r,showLabels:i}=e,{label:o,labelLine:a,dataKey:s}=r;if(!i||!o||!n)return null;var l=LA(r),c=FA(o),u=FA(a),d="object"===typeof o&&"offsetRadius"in o&&"number"===typeof o.offsetRadius&&o.offsetRadius||20,h=n.map((e,n)=>{var r=(e.startAngle+e.endAngle)/2,i=VE(e.cx,e.cy,e.outerRadius+d,r),h=ER(ER(ER(ER({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:AR(i.x,e.cx)},i),f=ER(ER(ER(ER({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[VE(e.cx,e.cy,e.outerRadius,r),i],key:"line"});return t.createElement(QM,{zIndex:WE.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},t.createElement(EP,null,a&&((e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return e(n);var r=nf("recharts-pie-label-line","boolean"!==typeof e?e.className:""),{key:i}=n,o=TR(n,bR);return t.createElement(pj,OR({},o,{type:"linear",className:r}))})(a,f),((e,n,r)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var i=r;if("function"===typeof e&&(i=e(n),t.isValidElement(i)))return i;var o,a=nf("recharts-pie-label-text",(o=e)&&"object"===typeof o&&"className"in o&&"string"===typeof o.className?o.className:"");return t.createElement($j,OR({},n,{alignmentBaseline:"middle",className:a}),i)})(o,h,gy(e,s))))});return t.createElement(EP,{className:"recharts-pie-labels"},h)}function DR(e){var{sectors:n,props:r,showLabels:i}=e,{label:o}=r;return"object"===typeof o&&null!=o&&"position"in o?t.createElement(yR,{label:o}):t.createElement(jR,{sectors:n,props:r,showLabels:i})}function MR(e){var{sectors:n,activeShape:r,inactiveShape:i,allOtherPieProps:o,shape:a}=e,s=ey(gC),{onMouseEnter:l,onClick:c,onMouseLeave:u}=o,d=TR(o,wR),h=((e,t)=>{var n=Xv();return(r,i)=>o=>{null===e||void 0===e||e(r,i,o),n(yv({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}})(l,o.dataKey),f=(e=>{var t=Xv();return(n,r)=>i=>{null===e||void 0===e||e(n,r,i),t(bv())}})(u),p=((e,t)=>{var n=Xv();return(r,i)=>o=>{null===e||void 0===e||e(r,i,o),n(xv({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}})(c,o.dataKey);return null==n||0===n.length?null:t.createElement(t.Fragment,null,n.map((e,l)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==n.length)return null;var c=String(l)===s,u=r&&c?r:s?i:null,g=ER(ER({},e),{},{stroke:e.stroke,tabIndex:-1,[Py]:l,[jy]:o.dataKey});return t.createElement(EP,OR({key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(l),tabIndex:-1,className:"recharts-pie-sector"},rj(d,e,l),{onMouseEnter:h(e,l),onMouseLeave:f(e,l),onClick:p(e,l)}),t.createElement(UM,OR({option:null!==a&&void 0!==a?a:u,shapeType:"sector",isActive:c},g)))}))}function RR(e){var{showLabels:n,sectors:r,children:i}=e,o=(0,t.useMemo)(()=>n&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,n]);return t.createElement(mR,{value:n?o:void 0},i)}function LR(e){var{props:n,previousSectorsRef:r}=e,{sectors:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=n,f=DD(n,"recharts-pie-"),p=r.current,[g,m]=(0,t.useState)(!1),v=(0,t.useCallback)(()=>{"function"===typeof h&&h(),m(!1)},[h]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(RR,{showLabels:!g,sectors:i},t.createElement(jD,{animationId:f,begin:a,duration:s,isActive:o,easing:l,onAnimationStart:y,onAnimationEnd:v,key:f},e=>{var o=[],a=i&&i[0],s=null===a||void 0===a?void 0:a.startAngle;return null===i||void 0===i||i.forEach((t,n)=>{var r=p&&p[n],i=n>0?sf()(t,"paddingAngle",0):0;if(r){var a=vf(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),l=ER(ER({},t),{},{startAngle:s+i,endAngle:s+a+i});o.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=vf(0,c-u,e),h=ER(ER({},t),{},{startAngle:s+i,endAngle:s+d+i});o.push(h),s=h.endAngle}}),r.current=o,t.createElement(EP,null,t.createElement(MR,{sectors:o,activeShape:c,inactiveShape:u,allOtherPieProps:n,shape:n.shape}))}),t.createElement(DR,{showLabels:!g,sectors:i,props:n}),n.children)}var FR={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!uA,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:WE.area};function UR(e){var{id:n}=e,r=TR(e,xR),{hide:i,className:o,rootTabIndex:a}=e,s=(0,t.useMemo)(()=>iD(e.children,Jj),[e.children]),l=ey(e=>sP(e,n,s)),c=(0,t.useRef)(null),u=nf("recharts-pie",o);return i||null==l?(c.current=null,t.createElement(EP,{tabIndex:a,className:u})):t.createElement(QM,{zIndex:e.zIndex},t.createElement(IR,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),t.createElement(EP,{tabIndex:a,className:u},t.createElement(LR,{props:ER(ER({},r),{},{sectors:l}),previousSectorsRef:c})))}function zR(e){var n=DN(e,FR),{id:r}=n,i=TR(n,_R),o=LA(i);return t.createElement(qM,{id:r,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(HM,{type:"pie",id:e,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:o,maxRadius:n.maxRadius}),t.createElement(CR,OR({},i,{id:e})),t.createElement(UR,OR({},i,{id:e}))))}function VR(){return VR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VR.apply(null,arguments)}function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(t){HR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KR(e){return Array.isArray(e)&&hf(e[0])&&hf(e[1])?e.join(" ~ "):e}zR.displayName="Pie";var WR=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:i={},labelStyle:o={},payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=qR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=qR({margin:0},o),m=!yf(d),v=m?d:"",y=nf("recharts-default-tooltip",c),b=nf("recharts-tooltip-label",u);m&&h&&void 0!==a&&null!==a&&(v=h(d,a));var w=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",VR({className:y,style:p},w),t.createElement("p",{className:b,style:g},t.isValidElement(v)?v:"".concat(v)),(()=>{if(a&&a.length){var e=(l?ny()(a,l):a).map((e,r)=>{if("none"===e.type)return null;var o=e.formatter||s||KR,{value:l,name:c}=e,u=l,d=c;if(o){var h=o(l,c,e,r,a);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=qR({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},hf(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,hf(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},GR="recharts-tooltip-wrapper",QR={visibility:"hidden"};function YR(e){var{coordinate:t,translateX:n,translateY:r}=e;return nf(GR,{["".concat(GR,"-right")]:df(n)&&t&&df(t.x)&&n>=t.x,["".concat(GR,"-left")]:df(n)&&t&&df(t.x)&&n<t.x,["".concat(GR,"-bottom")]:df(r)&&t&&df(t.y)&&r>=t.y,["".concat(GR,"-top")]:df(r)&&t&&df(t.y)&&r<t.y})}function XR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(o&&df(o[r]))return o[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return a[r]?u:d;var h=l[r];return null==h?0:a[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(t){ZR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eL extends t.PureComponent{constructor(){super(...arguments),ZR(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ZR(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:g,innerRef:m,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:o,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&o?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=XR({allowEscapeViewBox:i,coordinate:o,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=XR({allowEscapeViewBox:i,coordinate:o,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):QR,{cssProperties:t,cssClasses:YR({translateX:n,translateY:r,coordinate:o})}}({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:f}),w=v?{}:JR(JR({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),x=JR(JR({},w),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:x,ref:m},o)}}var tL=n(4332),nL=n.n(tL);function rL(e,t,n){return!0===t?nL()(e,n):"function"===typeof t?nL()(e,t):e}function iL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),i=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),i={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(i.height-n.height)>1||Math.abs(i.left-n.left)>1||Math.abs(i.top-n.top)>1||Math.abs(i.width-n.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,i]}var oL=["x","y","top","left","width","height","className"];function aL(){return aL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aL.apply(null,arguments)}function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cL=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),uL=e=>{var{x:n=0,y:r=0,top:i=0,left:o=0,width:a=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,oL),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(t){lL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:i,left:o,width:a,height:s},c);return df(n)&&df(r)&&df(a)&&df(s)&&df(i)&&df(o)?t.createElement("path",aL({},UA(u),{className:nf("recharts-cross",l),d:cL(n,r,a,s,i,o)})):null};function dL(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e;return{points:[VE(t,n,r,i),VE(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function hL(e,t,n){if("horizontal"===e)return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if("vertical"===e)return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(nj(t)){if("centric"===e){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:s}=t,l=VE(r,i,o,s),c=VE(r,i,a,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return dL(t)}}function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(t){gL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mL=()=>{var e=ey(tO),t=ey(uC),n=ey(sC);return Sy(e&&n?pL(pL({},e),{},{scale:n}):void 0,t)};function vL(){return vL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vL.apply(null,arguments)}function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(t){wL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xL(e){var{cursor:n,cursorComp:r,cursorProps:i}=e;return(0,t.isValidElement)(n)?(0,t.cloneElement)(n,i):(0,t.createElement)(r,i)}function _L(e){var n,r,i,o,{coordinate:a,payload:s,index:l,offset:c,tooltipAxisBandSize:u,layout:d,cursor:h,tooltipEventType:f,chartName:p}=e,g=a,m=s,v=l;if(!h||!g||"ScatterChart"!==p&&"axis"!==f)return null;if("ScatterChart"===p)r=g,i=uL,o=WE.cursorLine;else if("BarChart"===p)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(d,g,c,u),i=HD,o=WE.cursorRectangle;else if("radial"===d&&nj(g)){var{cx:y,cy:b,radius:w,startAngle:x,endAngle:_}=dL(g);r={cx:y,cy:b,startAngle:x,endAngle:_,innerRadius:w,outerRadius:w},i=nM,o=WE.cursorLine}else r={points:hL(d,g,c)},i=pj,o=WE.cursorLine;var S="object"===typeof h&&"className"in h?h.className:void 0,E=bL(bL(bL(bL({stroke:"#ccc",pointerEvents:"none"},c),r),FA(h)),{},{payload:m,payloadIndex:v,className:nf("recharts-tooltip-cursor",S)});return t.createElement(QM,{zIndex:null!==(n=e.zIndex)&&void 0!==n?n:o},t.createElement(xL,{cursor:h,cursorComp:i,cursorProps:E}))}function SL(e){var n=mL(),r=(()=>{var e;return null!==(e=ey(Ly))&&void 0!==e?e:Ky})(),i=Yy(),o=ey(PE);return null==n||null==r||null==i||null==o?null:t.createElement(_L,vL({},e,{offset:r,layout:i,tooltipAxisBandSize:n,chartName:o}))}function EL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EL(Object(n),!0).forEach(function(t){OL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TL(e){return e.dataKey}var CL=[],IL={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!uA,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function AL(e){var n,r,i=DN(e,IL),{active:o,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:f,position:p,reverseDirection:g,useTranslate3d:m,wrapperStyle:v,cursor:y,shared:b,trigger:w,defaultIndex:x,portal:_,axisId:S}=i,E=Xv(),k="number"===typeof x?String(x):x;(0,t.useEffect)(()=>{E(vv({shared:b,trigger:w,axisId:S,active:o,defaultIndex:k}))},[E,b,w,S,o,k]);var O=Hy(),T=NA(),C=function(e){return ey(t=>gT(t,e))}(b),{activeIndex:I,isActive:A}=null!==(n=ey(e=>FC(e,C,w,k)))&&void 0!==n?n:{},N=ey(e=>LC(e,C,w,k)),P=ey(e=>RC(e,C,w,k)),j=ey(e=>MC(e,C,w,k)),D=N,M=(0,t.useContext)(fN),R=null!==(r=null!==o&&void 0!==o?o:A)&&void 0!==r&&r,[L,F]=iL([D,R]),U="axis"===C?P:void 0;hN(C,w,j,U,I,R);var z=null!==_&&void 0!==_?_:M;if(null==z||null==O||null==C)return null;var V=null!==D&&void 0!==D?D:CL;R||(V=CL),u&&V.length&&(V=rL(V.filter(e=>null!=e.value&&(!0!==e.hide||i.includeHidden)),f,TL));var B=V.length>0,q=t.createElement(eL,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:R,coordinate:j,hasPayload:B,offset:h,position:p,reverseDirection:g,useTranslate3d:m,viewBox:O,wrapperStyle:v,lastBoundingBox:L,innerRef:F,hasPortalFromProps:Boolean(_)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(WR,n)}(c,kL(kL({},i),{},{payload:V,label:U,active:R,activeIndex:I,coordinate:j,accessibilityLayer:T})));return t.createElement(t.Fragment,null,(0,GM.createPortal)(q,z),R&&t.createElement(SL,{cursor:y,tooltipEventType:C,coordinate:j,payload:V,index:I}))}function NL(){return NL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NL.apply(null,arguments)}function PL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DL=32,ML={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function RL(e){var n,{data:r,iconType:i,inactiveColor:o}=e,a=16,s=DL/6,l=DL/3,c=r.inactive?o:r.color,u=null!==i&&void 0!==i?i:r.type;if("none"===u)return null;if("plainline"===u)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(n=r.payload)||void 0===n?void 0:n.strokeDasharray,x1:0,y1:a,x2:DL,y2:a,className:"recharts-legend-icon"});if("line"===u)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,"\n            H").concat(DL,"M").concat(2*l,",").concat(a,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if("rect"===u)return t.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(DL,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(r.legendIcon)){var d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PL(Object(n),!0).forEach(function(t){jL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r);return delete d.legendIcon,t.cloneElement(r.legendIcon,d)}return t.createElement(PM,{fill:c,cx:a,cy:a,size:DL,sizeType:"diameter",type:u})}function LL(e){var{payload:n,iconSize:r,layout:i,formatter:o,inactiveColor:a,iconType:s}=e,l={x:0,y:0,width:DL,height:DL},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((n,i)=>{var d=n.formatter||o,h=nf({"recharts-legend-item":!0,["legend-item-".concat(i)]:!0,inactive:n.inactive});if("none"===n.type)return null;var f=n.inactive?a:n.color,p=d?d(n.value,n,i):n.value;return t.createElement("li",NL({className:h,style:c,key:"legend-item-".concat(i)},rj(e,n,i)),t.createElement(qA,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(p," legend icon")},t.createElement(RL,{data:n,iconType:s,inactiveColor:a})),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},p))})}var FL=e=>{var n=DN(e,ML),{payload:r,layout:i,align:o}=n;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===i?o:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:a},t.createElement(LL,NL({},n,{payload:r})))};var UL=["contextPayload"];function zL(){return zL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zL.apply(null,arguments)}function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(t){qL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HL(e){return e.value}function KL(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,UL),i=rL(n,e.payloadUniqBy,HL),o=BL(BL({},r),{},{payload:i});return t.isValidElement(e.content)?t.cloneElement(e.content,o):"function"===typeof e.content?t.createElement(e.content,o):t.createElement(FL,o)}function WL(e){var n=Xv();return(0,t.useEffect)(()=>{n(AI(e))},[n,e]),null}function GL(e){var n=Xv();return(0,t.useEffect)(()=>(n(II(e)),()=>{n(II({width:0,height:0}))}),[n,e]),null}var QL={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function YL(e){var n=DN(e,QL),r=ey(iy),i=(0,t.useContext)(pN),o=ey(e=>e.layout.margin),{width:a,height:s,wrapperStyle:l,portal:c}=n,[u,d]=iL([r]),h=Wy(),f=Gy();if(null==h||null==f)return null;var p=h-((null===o||void 0===o?void 0:o.left)||0)-((null===o||void 0===o?void 0:o.right)||0),g=function(e,t,n,r){return"vertical"===e&&df(t)?{height:t}:"horizontal"===e?{width:n||r}:null}(n.layout,s,a,p),m=c?l:BL(BL({position:"absolute",width:(null===g||void 0===g?void 0:g.width)||a||"auto",height:(null===g||void 0===g?void 0:g.height)||s||"auto"},function(e,t,n,r,i,o){var a,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(a="center"===c&&"vertical"===l?{left:((r||0)-o.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-o.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),BL(BL({},a),s)}(l,n,o,h,f,u)),l),v=null!==c&&void 0!==c?c:i;if(null==v||null==r)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:d},t.createElement(WL,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),!c&&t.createElement(GL,{width:u.width,height:u.height}),t.createElement(KL,zL({},n,g,{margin:o,chartWidth:h,chartHeight:f,contextPayload:r})));return(0,GM.createPortal)(y,v)}YL.displayName="Legend";var XL=n(579);const $L=e=>{var t;let{expenses:n,currentDate:r,financialProfile:i,accumulatedCushion:o}=e;const a=n.filter(e=>{const t=new Date(e.date);return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}),s=a.reduce((e,t)=>"expense"===t.type?e+t.amount:e,0),l=a.reduce((e,t)=>"income"===t.type?e+t.amount:e,0),c=[],u=new Date,d=r.getMonth()===u.getMonth()&&r.getFullYear()===u.getFullYear(),h=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),f=d?u.getDate():h,p=h-f,g=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;c.push({type:e,title:t,text:n,details:r,score:i})};if(d&&f>1){var m;const e=s/f*h,t=Object.values((null===(m=i.monthlyBudgets)||void 0===m?void 0:m["".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"))])||i.budgets||{}).reduce((e,t)=>e+t,0);e>t&&t>0&&g("warning","\u26a0\ufe0f Alerta de Proyecci\xf3n","Proyecci\xf3n: ".concat(e.toFixed(0),"\u20ac (Presupuesto: ").concat(t,"\u20ac)"),"Reduce tu gasto diario a ".concat(Math.max(0,(t-s)/p).toFixed(0),"\u20ac para cumplir."),10)}const v=a.reduce((e,t)=>{const n=new Date(t.date).getDay();return 0!==n&&6!==n||"expense"!==t.type?e:e+t.amount},0);s>0&&v/s>.5&&g("info","\ud83c\udf89 Fiebre de S\xe1bado Noche","El ".concat((v/s*100).toFixed(0),"% de tu gasto es en fin de semana."),"Tus lunes a viernes son muy austeros, pero te descontrolas el finde.",5);const y=a.reduce((e,t)=>1===new Date(t.date).getDay()&&"expense"===t.type?e+t.amount:e,0);s>0&&y/s>.25&&g("info","\u2615 Lunes Costosos","Gastas mucho los lunes.","\xbfCompensaci\xf3n emocional por el inicio de semana?",3);const b=a.reduce((e,t)=>new Date(t.date).getDate()<=7&&"expense"===t.type?e+t.amount:e,0);s>0&&b/s>.6&&g("warning","\ud83c\udfce\ufe0f Salida en Falso","Gastaste el 60% de tu dinero la primera semana.","Intenta dosificar para no sufrir a fin de mes.",8),d&&f>20&&s/(l||1)>.9&&g("warning","\ud83c\udd98 Modo Supervivencia","Te queda menos del 10% de tus ingresos.","Evita gastos hormiga estos \xfaltimos d\xedas.",9);const w=a.filter(e=>{if(!e.createdAt)return!1;const t=new Date(e.createdAt).getHours();return(t>=23||t<=4)&&"expense"===e.type});w.length>2&&g("info","\ud83e\udd89 Gasto Nocturno","Has hecho ".concat(w.length," compras de madrugada."),"Las compras nocturnas suelen ser impulsivas.",4);const x=new Set(a.filter(e=>"expense"===e.type).map(e=>new Date(e.date).getDate())),_=f-x.size;if(_>5&&g("success","\ud83d\udee1\ufe0f Escudo de Ahorro","".concat(_," d\xedas sin gastar nada."),"\xa1Excelente disciplina!",6),f>0){g("neutral","\ud83d\udcc5 Coste de Vida Diario","Te cuesta ".concat((s/f).toFixed(1),"\u20ac vivir cada d\xeda."),"Incluye todos tus gastos promediados.",2)}if(i.payday){const e=a.filter(e=>new Date(e.date).getDate()===i.payday&&"expense"===e.type).reduce((e,t)=>e+t.amount,0);e>.15*s&&g("warning","\ud83d\udcb8 Euforia de Cobro","Gastaste el 15% de tu mes el mismo d\xeda que cobraste.","Cuidado con el efecto riqueza instant\xe1nea.",6)}const S=a.reduce((e,t)=>5===new Date(t.date).getDay()&&"expense"===t.type?e+t.amount:e,0);S>.2*s&&g("info","\ud83c\udf7b TGIF (Viernes)","Los viernes se llevan el 20% de tu presupuesto.","\xbfCenas fuera o copas?",3);const E={};a.forEach(e=>{"expense"===e.type&&(E[e.category]=(E[e.category]||0)+e.amount)}),(E.Otros||0)/s>.3&&g("warning","\ud83d\udd73\ufe0f Agujero Negro",'El 30% de tus gastos est\xe1n en "Otros".',"Categoriza mejor para saber d\xf3nde se va el dinero.",7);const k=(E.Caprichos||0)+(E.Planes||0)+(E.Regalos||0);s>0&&k>s-k&&g("warning","\u2696\ufe0f Desequilibrio Deseo/Necesidad","Gastas m\xe1s en deseos que en necesidades.","Revisa tus prioridades si quieres ahorrar m\xe1s.",6);const O=a.filter(e=>"Suscripciones"===e.category);O.length>4&&g("warning","\ud83d\udcfa Fatiga de Suscripciones","Tienes ".concat(O.length," cargos de suscripci\xf3n distintos."),"\xbfRealmente usas todos esos servicios?",5);(E.Comidas||0)>225&&g("info","\ud83c\udf54 Amante del Buen Comer","Tu gasto en comida es un 50% superior al promedio base.","Cocinar en casa podr\xeda ahorrarte mucho.",4),(E.Regalos||0)>100&&g("success","\ud83c\udf81 Esp\xedritu Generoso","Has destinado ".concat(E.Regalos,"\u20ac a los dem\xe1s."),"La generosidad es buena, pero vigila tu presupuesto.",3);Object.keys(E).length<3&&s>100&&g("info","\ud83c\udfaf Gasto Monotem\xe1tico","Tus gastos se concentran en muy pocas categor\xedas.","Patr\xf3n de consumo muy espec\xedfico.",2);const T=a.filter(e=>"Comidas"===e.category&&e.amount<5).length;T>10&&g("info","\u2615 Factor Latte","Has hecho ".concat(T," micro-gastos en comida/caf\xe9."),"Esos peque\xf1os gastos suman mucho a fin de mes.",4);const C=["netflix","hbo","disney","prime","spotify","youtube"],I=O.filter(e=>C.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).length;I>=3&&g("info","\ud83c\udfac Guerra de Streaming","Pagas ".concat(I," plataformas de video/m\xfasica."),"\xbfTe da tiempo a verlo todo?",3);const A=["steam","playstation","xbox","nintendo","game"],N=a.filter(e=>A.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);N>50&&g("info","\ud83c\udfae Gamer Detectado","Has invertido ".concat(N,"\u20ac en videojuegos."),"\xa1GG WP!",2);const P=["zara","h&m","mango","bershka","pull","stradivarius","nike","adidas"],j=a.filter(e=>P.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);j>100&&g("info","\ud83d\udc57 Fashionista","Has gastado ".concat(j,"\u20ac en marcas de ropa conocidas."),"\xbfRenovando armario?",3);const D=["mcdonalds","burger","kfc","pizza","taco","glovo","uber eats","just eat"],M=a.filter(e=>D.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).length;M>4&&g("warning","\ud83c\udf5f Fast Food Lover","Has pedido comida r\xe1pida ".concat(M," veces."),"Tu salud y tu cartera te agradecer\xe1n cocinar m\xe1s.",5);const R=["gasolina","repsol","cepsa","bp","uber","cabify","taxi","metro","bus","renfe"],L=a.filter(e=>R.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);if(L>150&&g("info","\u26fd Alto Coste de Movilidad","Te has movido por valor de ".concat(L,"\u20ac."),"\xbfPodr\xedas optimizar tus rutas?",4),l>0){const e=(l-s)/l*100;e>=20?g("success","\ud83d\udcd8 Regla 50/30/20","\xa1Cumples la regla del 20% de ahorro!","Est\xe1s ahorrando un ".concat(e.toFixed(1),"% de tus ingresos."),8):g("info","\ud83d\udcd8 Regla 50/30/20","Ahorro actual: ".concat(e.toFixed(1),"% (Meta: 20%)"),"Intenta reducir gastos variables para llegar al 20%.",5)}if(o>0&&s>0){const e=o/(d?s/f*h:s);e<1?g("warning","\ud83d\udea8 Zona de Peligro","Tienes menos de 1 mes de gastos cubiertos.","Prioridad absoluta: Construir fondo de emergencia.",10):e>=1&&e<3?g("warning","\u26a0\ufe0f Colch\xf3n Fino","Tienes para ".concat(e.toFixed(1)," meses."),"Lo ideal es llegar a 3-6 meses de seguridad.",7):e>=6&&g("success","\ud83c\udff0 Fortaleza Financiera","Tienes ".concat(e.toFixed(1)," meses de libertad."),"Considera invertir el excedente.",8)}if(d&&f>10){const e=a.filter(e=>new Date(e.date).getDate()<=15).reduce((e,t)=>e+("expense"===t.type?t.amount:0),0)/15,t=a.filter(e=>new Date(e.date).getDate()>15).reduce((e,t)=>e+("expense"===t.type?t.amount:0),0)/(f-15);f>15&&t>1.5*e&&g("warning","\ud83d\udcc8 Aceleraci\xf3n de Gasto","Est\xe1s gastando mucho m\xe1s r\xe1pido en la segunda mitad del mes.","\xa1Frena un poco!",6)}if(o>1e4&&l-s>500&&g("action","\ud83d\ude80 Oportunidad de Inversi\xf3n","Tienes buen colch\xf3n y super\xe1vit mensual.","\xbfHas considerado indexarte o abrir un dep\xf3sito?",7),l>0&&s>0){const e=l-s;if(e>0){g("success","\u23f3 Tiempo Comprado",'Este mes has "comprado" '.concat((e/(s/f)).toFixed(1)," d\xedas de libertad futura."),"Tu ahorro se traduce en tiempo de vida sin trabajar.",6)}}const F=["alquiler","hipoteca","comunidad","casero"],U=a.filter(e=>F.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);if(l>0&&U>0){const e=U/l*100;e>40&&g("warning","\ud83c\udfe0 Esfuerzo en Vivienda","Destinas el ".concat(e.toFixed(0),"% de tus ingresos a vivienda."),"Lo recomendado es no superar el 30-35%.",6)}if(d&&p>0){var z;const e=Object.values((null===(z=i.monthlyBudgets)||void 0===z?void 0:z["".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"))])||i.budgets||{}).reduce((e,t)=>e+t,0);if(e>0){const t=e-s,n=Math.max(0,t/p);g("neutral","\ud83d\udee1\ufe0f L\xedmite Diario Seguro","Puedes gastar ".concat(n.toFixed(0),"\u20ac/d\xeda el resto del mes."),"Si te mantienes ah\xed, cumplir\xe1s el presupuesto.",8)}}const V=a.find(e=>"expense"===e.type&&e.amount>300&&"Otros"!==e.category&&!F.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)}));V&&g("info","\ud83e\udd96 Gasto Monstruoso","Detectado gasto \xfanico de ".concat(V.amount,"\u20ac (").concat(V.category,")."),"\xbfFue algo planificado o un imprevisto?",4);const B=a.filter(e=>"expense"===e.type&&e.amount<2).length;B>15&&g("info","\ud83d\udc1c Hormiguero","Tienes ".concat(B," gastos menores a 2\u20ac."),"Cuidado, el dinero se escapa por ah\xed.",3);const q=a.filter(e=>"expense"===e.type&&e.amount%10===0&&e.amount>10).length;q>5&&g("neutral","\ud83c\udfe7 Efectivo Detectado","Muchos gastos redondos (".concat(q,")."),"\xbfSon retiradas de cajero? Recuerda desglosar en qu\xe9 gastaste el efectivo.",2);const H=a.filter((e,t,n)=>-1!==n.findIndex(t=>t.amount===e.amount&&t.category===e.category&&t.date===e.date&&t.id!==e.id));H.length>0&&g("warning","\ud83d\udc6f Posibles Duplicados","Detectados movimientos id\xe9nticos el mismo d\xeda.","Revisa si has metido alg\xfan gasto dos veces.",5);const K=["comision","comisi\xf3n","mantenimiento","intereses"],W=a.filter(e=>K.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);W>0&&g("warning","\ud83c\udfe6 Comisiones Bancarias","Has pagado ".concat(W,"\u20ac en comisiones."),"Revisa las condiciones de tu banco o c\xe1mbiate.",4);a.filter(e=>{var t;return"income"===e.type&&(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes("devoluci"))}).length>0&&g("success","\u21a9\ufe0f Devoluci\xf3n Recibida","Has recuperado dinero de una devoluci\xf3n.","Aseg\xfarate de que cuadre con el gasto original.",3);const G=l>0?(l-s)/l*100:0;let Q="Novato";if(G>10&&(Q="Aprendiz"),G>25&&(Q="Ahorrador"),G>50&&(Q="Maestro"),G>70&&(Q="Leyenda"),l>0&&g("success","\ud83c\udfc5 Nivel: ".concat(Q),"Tu tasa de ahorro del ".concat(G.toFixed(0),"% te otorga el rango de ").concat(Q,"."),"\xa1Sigue subiendo de nivel!",1),l>s){g("info","\ud83d\udd2e Bola de Cristal","A este ritmo, ahorrar\xe1s ".concat((12*(l-s)).toFixed(0),"\u20ac en un a\xf1o."),"\xbfQu\xe9 har\xedas con ese dinero?",2)}E.Caprichos>0&&E.Caprichos>.2*s&&g("info","\ud83d\udecd\ufe0f Terapia de Compras","Alto gasto en caprichos detectado.","\xbfEst\xe1s comprando por necesidad o por emoci\xf3n?",4);const Y=i.accounts||{bbva:0,revolut:0},X=i.pockets||{expenses:0,subscriptions:0,travel:0,flexible:0},$=(X.expenses||0)+(X.subscriptions||0)+(X.travel||0)+(X.flexible||0)-(Y.revolut||0);$>0&&g("action","\ud83d\udcb8 Transferencia Recomendada","Mueve dinero a Revolut para cubrir tus sobres.","Faltan ".concat($.toFixed(0),"\u20ac en Revolut."),9);const J=a.filter(e=>!e.description||"Gasto"===e.description||"Ingreso"===e.description).length;J>5&&g("neutral","\ud83d\udcdd Mejora tus Datos","Tienes ".concat(J," gastos sin descripci\xf3n clara."),"A\xf1ade detalles para que la IA sea m\xe1s precisa.",2);new Set(a.filter(e=>"income"===e.type).map(e=>e.category)).size>1&&g("success","\ud83c\udf31 Ingresos Diversificados","Tienes m\xe1s de una fuente de ingresos.","La diversificaci\xf3n reduce el riesgo financiero.",5);const Z=["hacienda","aeat","impuesto","ibi","ivtm"],ee=a.filter(e=>Z.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);ee>0&&g("info","\ud83c\udfdb\ufe0f Deber Ciudadano","Has pagado ".concat(ee,"\u20ac en impuestos."),"Importante tenerlo previsto en el fondo de emergencia.",3);const te=["farmacia","medico","dentista","salud","gimnasio","gym","deporte"],ne=a.filter(e=>te.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);ne>0?g("success","\u2764\ufe0f Inversi\xf3n en Salud","Has dedicado ".concat(ne,"\u20ac a cuidarte."),"La mejor inversi\xf3n es tu propio cuerpo.",4):s>500&&g("info","\ud83c\udfc3\u200d\u2642\ufe0f \xbfY la Salud?","No detecto gastos en salud o deporte.","Recuerda que prevenir es m\xe1s barato que curar.",2);const re=["veterinario","mascota","perro","gato","pienso","kiwoko","zooplus"],ie=a.filter(e=>re.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);ie>0&&g("info","\ud83d\udc3e Gasto Peludo","Tu mascota ha costado ".concat(ie,"\u20ac este mes."),"Amor incondicional (con coste de mantenimiento).",3);const oe=["curso","udemy","platzi","libro","formacion","universidad","master"],ae=a.filter(e=>oe.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);if(ae>0&&g("success","\ud83e\udde0 Cerebro en Forma","Has invertido ".concat(ae,"\u20ac en aprender."),"El conocimiento paga el mejor inter\xe9s.",6),f>2){const e=Array(f).fill(0);a.forEach(t=>{if("expense"===t.type){const n=new Date(t.date).getDate()-1;n>=0&&n<f&&(e[n]+=t.amount)}});const t=s/f,n=e.reduce((e,n)=>e+Math.pow(n-t,2),0)/f,r=Math.sqrt(n);r>1.5*t?g("warning","\ud83d\udcca Gasto Vol\xe1til","Tu desviaci\xf3n est\xe1ndar es alta (".concat(r.toFixed(0),"\u20ac)."),"Tus gastos diarios son muy impredecibles.",5):r<.5*t&&s>0&&g("success","\ud83d\udccf Gasto Consistente","Tus gastos diarios son muy estables.","Facilita mucho la planificaci\xf3n.",4)}if(f>5){let e=0,t=0,n=0,r=0,i=0;const o=[];for(let s=1;s<=f;s++){const e=a.filter(e=>new Date(e.date).getDate()===s&&"expense"===e.type).reduce((e,t)=>e+t.amount,0);i+=e,o.push({x:s,y:i})}o.forEach(i=>{e+=i.x,t+=i.y,n+=i.x*i.y,r+=i.x*i.x});const l=o.length;(l*n-e*t)/(l*r-e*e)>1.2*(s/f)&&g("warning","\ud83d\udcc8 Tendencia al Alza","Tu ritmo de gasto est\xe1 acelerando.","Est\xe1s gastando m\xe1s en los \xfaltimos d\xedas que al principio.",6)}const se=Object.entries(E).sort((e,t)=>t[1]-e[1]);let le=0,ce=0;for(const[be,we]of se)if(le+=we/s,ce++,le>=.8)break;const ue=Object.keys(E).length;if(ue>4&&ce<=Math.ceil(.2*ue)&&g("info","\ud83d\udcd0 Principio de Pareto","El 80% de tu gasto viene de solo ".concat(ce," categor\xedas."),"Enf\xf3cate en optimizar esas pocas categor\xedas.",5),s>0){a.filter(e=>{const t=new Date(e.date).getDay();return(0===t||6===t)&&"expense"===e.type}).length,Math.max(1,f-(f>7?2:0));let e=0,t=0,n=0,i=0;for(let o=1;o<=f;o++){const s=new Date(r.getFullYear(),r.getMonth(),o),l=a.filter(e=>new Date(e.date).getDate()===o&&"expense"===e.type).reduce((e,t)=>e+t.amount,0);0===s.getDay()||6===s.getDay()?(e+=l,t++):(n+=l,i++)}if(t>0&&i>0){const r=e/t/(n/i||1);r>2.5&&g("info","\ud83c\udf89 Efecto Fin de Semana","Gastas ".concat(r.toFixed(1),"x m\xe1s los fines de semana."),"El ocio concentra tu presupuesto.",4)}}if(f>5){const e=new Set(a.filter(e=>"expense"===e.type).map(e=>new Date(e.date).getDate())).size,t=(f-e)/f*100;t>40&&g("success","\ud83e\uddd8 Mente Estoica","Tienes un ".concat(t.toFixed(0),"% de probabilidad de no gastar nada hoy."),"Gran control de impulsos.",5)}if(l>0){const e=["Comidas","Transporte","Vivienda","Supermercado","Casa"],t=a.filter(t=>e.includes(t.category)||F.some(e=>{var n;return null===(n=t.description)||void 0===n?void 0:n.toLowerCase().includes(e)})||R.some(e=>{var n;return null===(n=t.description)||void 0===n?void 0:n.toLowerCase().includes(e)})).reduce((e,t)=>e+t.amount,0),n=t/l*100;n<50&&s>0&&g("success","\ud83d\udcc9 Coste de Vida Bajo","Tus necesidades b\xe1sicas son solo el ".concat(n.toFixed(0),"% de tus ingresos."),"Tienes mucho margen de maniobra.",7)}if(o>1e3){const e=.05,t=10,n=o*Math.pow(1+e,t),r=n-o;g("action","\ud83c\udf33 Semilla de Riqueza","Si inviertes tu colch\xf3n al 5%, en 10 a\xf1os tendr\xe1s ".concat(n.toFixed(0),"\u20ac."),"Ganancia pasiva: ".concat(r.toFixed(0),"\u20ac."),6)}const de=a.filter(e=>"expense"===e.type).length;if(de>0){const e=s/de;e>50?g("info","\ud83d\udc18 Compras Grandes","Tu ticket medio es alto (".concat(e.toFixed(0),"\u20ac)."),"Haces pocas compras pero de valor.",3):e<10&&g("info","\ud83d\udc01 Micro-consumo","Tu ticket medio es bajo (".concat(e.toFixed(0),"\u20ac)."),"Muchas compras peque\xf1as.",3)}if(o>0&&f>5){const e=s/f;if(e>0){const t=o/e;t<30&&g("warning","\u23f1\ufe0f Cuenta Atr\xe1s","A este ritmo, tu dinero dura ".concat(t.toFixed(0)," d\xedas."),"\xa1Urgente reducir gastos!",9)}}const he=["prestamo","pr\xe9stamo","credito","cr\xe9dito","hipoteca","plazo","financiacion"],fe=a.filter(e=>he.some(t=>{var n;return null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t)})).reduce((e,t)=>e+t.amount,0);if(l>0&&fe>0){const e=fe/l*100;e>30&&g("warning","\u26d3\ufe0f Cadenas de Deuda","Destinas el ".concat(e.toFixed(0),"% a pagar deudas."),"Peligroso si suben los tipos o bajan ingresos.",8)}let pe=50;G>20?pe+=20:G>10?pe+=10:G<0&&(pe-=20),o>3*s?pe+=20:o<s&&(pe-=10),0===fe&&(pe+=10);let ge="neutral";if(pe>=80?ge="success":pe<40&&(ge="warning"),g(ge,"\ud83c\udfe5 Score Financiero","Puntuaci\xf3n: ".concat(pe,"/100"),"Basado en ahorro, colch\xf3n y deuda.",7),o>0&&s>0){const e=o/(s/f);if(e<60);else{const t=(e/365).toFixed(1);t>1&&g("success","\u267e\ufe0f Pista de Despegue","Podr\xedas vivir ".concat(t," a\xf1os sin ingresos."),"Libertad real.",8)}}const me=Object.values((null===(t=i.monthlyBudgets)||void 0===t?void 0:t["".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"))])||i.budgets||{}).reduce((e,t)=>e+t,0);me>0&&s>1.2*me&&g("warning","\ud83c\udf88 Inflaci\xf3n de Estilo","Gastas un 20% m\xe1s de lo presupuestado.","\xbfEst\xe1s subiendo tu nivel de vida demasiado r\xe1pido?",6);const ve=a.filter(e=>"expense"===e.type&&e.amount<5).reduce((e,t)=>e+t.amount,0);if(s>0&&ve/s>.1&&g("info","\u2615 Efecto Hormiga","El 10% de tu dinero se va en gastos < 5\u20ac.","Peque\xf1os agujeros hunden grandes barcos.",4),l>0&&d){const e=(l-s)/f;e>0?g("success","\ud83c\udfce\ufe0f Velocidad de Ahorro","Est\xe1s acumulando ".concat(e.toFixed(1),"\u20ac netos cada d\xeda."),"\xa1Sigue as\xed!",5):g("warning","\ud83d\udcc9 Desangrado Diario","Est\xe1s perdiendo ".concat(Math.abs(e).toFixed(1),"\u20ac netos cada d\xeda."),"Frena el gasto.",6)}const ye=c.sort((e,t)=>t.score-e.score);return(0,XL.jsxs)("div",{className:"bg-black p-6 rounded-3xl border border-white/10 shadow-2xl mb-8",children:[(0,XL.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[(0,XL.jsx)("span",{className:"bg-white/10 p-2 rounded-lg text-white",children:"\ud83e\udde0"}),"Asistente Financiero IA 3.0",(0,XL.jsxs)("span",{className:"text-xs bg-blue-900 text-blue-200 px-2 py-1 rounded-full border border-blue-700 ml-auto",children:[ye.length," Insights"]})]}),(0,XL.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[600px] overflow-y-auto custom-scrollbar pr-2",children:ye.length>0?ye.map((e,t)=>(0,XL.jsxs)("div",{className:"p-5 rounded-2xl border flex flex-col gap-2 transition hover:scale-[1.02] duration-300 relative overflow-hidden ".concat("action"===e.type?"bg-blue-900/20 border-blue-500/30 text-blue-200":"warning"===e.type?"bg-red-900/20 border-red-500/30 text-red-200":"success"===e.type?"bg-green-900/20 border-green-500/30 text-green-200":"info"===e.type?"bg-purple-900/10 border-purple-500/20 text-purple-200":"bg-neutral-900 border-white/10 text-gray-300"),children:[(0,XL.jsxs)("div",{className:"flex items-start justify-between z-10",children:[(0,XL.jsx)("h4",{className:"font-bold text-md leading-tight",children:e.title}),(0,XL.jsxs)("span",{className:"text-xl",children:["warning"===e.type&&"\u26a0\ufe0f","success"===e.type&&"\ud83d\ude80","action"===e.type&&"\u26a1","info"===e.type&&"\ud83d\udca1","neutral"===e.type&&"\u2139\ufe0f"]})]}),(0,XL.jsx)("p",{className:"text-sm font-medium opacity-90 z-10",children:e.text}),e.details&&(0,XL.jsx)("p",{className:"text-xs opacity-60 mt-auto pt-2 border-t border-white/5 z-10",children:e.details}),(0,XL.jsx)("div",{className:"absolute -right-4 -bottom-4 w-20 h-20 rounded-full blur-2xl opacity-10 z-0 ".concat("warning"===e.type?"bg-red-500":"success"===e.type?"bg-green-500":"action"===e.type?"bg-blue-500":"bg-gray-500")})]},t)):(0,XL.jsxs)("div",{className:"col-span-3 p-12 text-center text-gray-500 border border-white/5 rounded-2xl bg-neutral-900/50",children:[(0,XL.jsx)("p",{className:"text-lg",children:"\ud83e\udd16 Recopilando datos..."}),(0,XL.jsx)("p",{className:"text-sm mt-2",children:"A\xf1ade m\xe1s gastos para que la IA pueda detectar patrones complejos."})]})})]})};var JL={version:"0.18.5"},ZL=1200,eF=1252;var tF;var nF=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}();var rF=/\u0000/g;var iF=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(mF(e,i)));return r.join("").replace(rF,"")},oF=nF?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(rF,""):iF(e,t,n)}:iF,aF=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(gF(e,i)));return r.join("")},sF=nF?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):aF(e,t,n)}:aF,lF=function(e,t){var n=vF(e,t);return n>0?sF(e,t+4,t+4+n-1):""},cF=function(e,t){var n=vF(e,t);return n>0?sF(e,t+4,t+4+n-1):""},uF=function(e,t){var n=2*vF(e,t);return n>0?sF(e,t+4,t+4+n-1):""},dF=function(e,t){var n=vF(e,t);return n>0?oF(e,t+4,t+4+n):""},hF=function(e,t){var n=vF(e,t);return n>0?sF(e,t+4,t+4+n):""},fF=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],o=5;o>=0;--o)i=256*i+e[t+o];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(e,t)};function pF(){oF=function(e,t,n){return tF.utils.decode(1200,e.slice(t,n)).replace(rF,"")},sF=function(e,t,n){return tF.utils.decode(65001,e.slice(t,n))}}"undefined"!==typeof tF&&pF();var gF=function(e,t){return e[t]},mF=function(e,t){return 256*e[t+1]+e[t]},vF=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]};JL.version;const yF=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},bF=["Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b","Dom"],wF=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],xF={expense:["Comidas","Planes","Regalos","Suscripciones","Caprichos","Otros"],income:["N\xf3mina","Regalo","Venta","Otros"]},_F=e=>{let{budgets:t,expenses:n,currentDate:r,onCategoryClick:i,onEditBudget:o,isCustomBudget:a}=e;const s=n.filter(e=>{const t=new Date(e.date);return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}).reduce((e,t)=>{const n=t.category||"Otros";return e[n]=(e[n]||0)+t.amount,e},{});return(0,XL.jsxs)("div",{className:"bg-black p-6 rounded-2xl border border-white/10 shadow-xl mb-8",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,XL.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,XL.jsx)("span",{children:"\ud83d\udcca"})," Estado del Presupuesto ",a&&(0,XL.jsx)("span",{className:"text-xs bg-blue-900 text-blue-200 px-2 py-0.5 rounded border border-blue-700",children:"Mes Personalizado"})]}),(0,XL.jsx)("button",{onClick:o,className:"text-xs bg-white/10 hover:bg-white/20 text-gray-300 px-3 py-1 rounded-lg transition border border-white/5",children:"\u270f\ufe0f Ajustar L\xedmites"})]}),(0,XL.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:["Comidas","Planes","Regalos","Suscripciones","Caprichos","Otros"].map(e=>{const n=t[e]||0,r=s[e]||0,o=n>0?Math.min(r/n*100,100):0,a=r>n&&n>0;return(0,XL.jsxs)("div",{onClick:()=>i(e),className:"bg-neutral-900 p-4 rounded-xl border border-white/10 cursor-pointer hover:bg-neutral-800 transition-all duration-300 group",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,XL.jsx)("span",{className:"font-medium text-gray-200 group-hover:text-white transition-colors",children:e}),(0,XL.jsxs)("span",{className:"text-sm font-bold ".concat(a?"text-red-300":"text-green-300"),children:[r.toFixed(2),"\u20ac / ",n,"\u20ac"]})]}),(0,XL.jsx)("div",{className:"w-full bg-gray-800 rounded-full h-2.5 overflow-hidden",children:(0,XL.jsx)("div",{className:"h-2.5 rounded-full transition-all duration-1000 ease-out ".concat(a?"bg-red-300":o>80?"bg-white":"bg-green-300"),style:{width:"".concat(o,"%")}})}),(0,XL.jsx)("div",{className:"text-xs text-gray-400 mt-2 text-right font-mono",children:n>0?"".concat(o.toFixed(1),"%"):"Sin presupuesto"})]},e)})})]})},SF=e=>{let{currentDate:t,navigateMonth:n}=e;return(0,XL.jsxs)("div",{className:"flex items-center justify-center gap-6 mb-8 bg-black/20 backdrop-blur-md p-4 rounded-2xl border border-white/5 w-full max-w-md mx-auto",children:[(0,XL.jsx)("button",{onClick:()=>n(-1),className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-full transition",children:(0,XL.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,XL.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,XL.jsxs)("h2",{className:"text-2xl font-bold text-white capitalize min-w-[200px] text-center",children:[wF[t.getMonth()]," ",t.getFullYear()]}),(0,XL.jsx)("button",{onClick:()=>n(1),className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-full transition",children:(0,XL.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,XL.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})},EF=e=>{let{expenses:t,onEditExpense:n}=e;const r=[...t].sort((e,t)=>new Date(t.date)-new Date(e.date));return(0,XL.jsxs)("div",{className:"bg-black p-6 rounded-xl shadow-lg border border-white/10",children:[(0,XL.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,XL.jsx)("span",{children:"\ud83d\udcdc"})," Historial de Movimientos"]}),(0,XL.jsx)("div",{className:"space-y-3",children:0===r.length?(0,XL.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No hay movimientos registrados."}):r.map(e=>(0,XL.jsxs)("div",{onClick:()=>n(e),className:"bg-neutral-900 p-4 rounded-xl border border-white/5 hover:border-white/20 hover:bg-neutral-800 transition-all cursor-pointer group flex justify-between items-center",children:[(0,XL.jsxs)("div",{className:"flex items-center gap-4",children:[(0,XL.jsx)("div",{className:"p-3 rounded-full ".concat("income"===e.type?"bg-neutral-800 text-green-300":"bg-neutral-800 text-red-300"),children:"income"===e.type?"\ud83d\udcb0":"\ud83d\udcb8"}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("h4",{className:"font-medium text-white group-hover:text-gray-300 transition-colors",children:e.description||e.category}),(0,XL.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,XL.jsx)("span",{className:"text-xs text-gray-400 bg-black px-2 py-0.5 rounded-full border border-white/10",children:new Date(e.date).toLocaleDateString()}),(0,XL.jsx)("span",{className:"text-xs text-gray-400 bg-black px-2 py-0.5 rounded-full border border-white/10",children:e.category})]})]})]}),(0,XL.jsxs)("span",{className:"font-bold text-lg ".concat("income"===e.type?"text-green-300":"text-red-300"),children:["income"===e.type?"+":"-",e.amount.toFixed(2),"\u20ac"]})]},e.id))})]})},kF=e=>{let{fundName:n,currentBalance:r,onClose:i,onSave:o}=e;const[a,s]=(0,t.useState)("add"),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(r),[h,f]=(0,t.useState)(!0);return(0,XL.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm",children:(0,XL.jsxs)("div",{className:"bg-neutral-900 p-6 rounded-2xl border border-white/10 w-full max-w-sm shadow-2xl",children:[(0,XL.jsxs)("h3",{className:"text-xl font-bold text-white mb-4",children:["Gestionar ",n]}),(0,XL.jsxs)("div",{className:"flex p-1 bg-black rounded-lg mb-6 border border-white/10",children:[(0,XL.jsx)("button",{onClick:()=>s("add"),className:"flex-1 py-2 rounded-md text-sm font-bold transition ".concat("add"===a?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300"),children:"Ingresar / Retirar"}),(0,XL.jsx)("button",{onClick:()=>s("set"),className:"flex-1 py-2 rounded-md text-sm font-bold transition ".concat("set"===a?"bg-white/10 text-white":"text-gray-500 hover:text-gray-300"),children:"Definir Saldo"})]}),"add"===a?(0,XL.jsxs)("div",{className:"mb-4 animate-fade-in",children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Cantidad a mover (\u20ac)"}),(0,XL.jsx)("p",{className:"text-[10px] text-gray-500 mb-2",children:"Usa n\xfameros negativos para retirar dinero."}),(0,XL.jsx)("input",{type:"number",value:l,onChange:e=>c(e.target.value),className:"w-full p-3 bg-black border border-white/20 rounded-lg text-white text-lg focus:border-blue-500",placeholder:"0.00",autoFocus:!0})]}):(0,XL.jsxs)("div",{className:"mb-4 animate-fade-in",children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Nuevo Saldo Total (\u20ac)"}),(0,XL.jsxs)("p",{className:"text-[10px] text-gray-500 mb-2",children:["El saldo actual es ",r.toLocaleString("es-ES",{style:"currency",currency:"EUR"})]}),(0,XL.jsx)("input",{type:"number",value:u,onChange:e=>d(e.target.value),className:"w-full p-3 bg-black border border-white/20 rounded-lg text-white text-lg focus:border-purple-500",placeholder:"0.00",autoFocus:!0})]}),(0,XL.jsxs)("div",{className:"mb-6 flex items-start gap-3 p-3 bg-white/5 rounded-lg border border-white/5",children:[(0,XL.jsx)("input",{type:"checkbox",checked:h,onChange:e=>f(e.target.checked),className:"mt-1 w-4 h-4 rounded bg-black border-gray-600 text-blue-500 focus:ring-blue-500"}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("span",{className:"block text-sm text-gray-200 font-medium",children:"Impactar cuenta principal"}),(0,XL.jsx)("span",{className:"block text-xs text-gray-500",children:"add"===a?"Crear un movimiento de gasto/ingreso por esta cantidad.":"Crear un movimiento por la diferencia de saldo."})]})]}),(0,XL.jsxs)("div",{className:"flex gap-3",children:[(0,XL.jsx)("button",{onClick:i,className:"flex-1 p-3 bg-transparent hover:bg-white/5 text-gray-400 rounded-xl font-bold transition",children:"Cancelar"}),(0,XL.jsx)("button",{onClick:()=>{"add"===a?o(l,h,"add",null):o(null,h,"set",u)},className:"flex-1 p-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-bold transition shadow-lg shadow-blue-900/20",children:"Confirmar"})]})]})})},OF=e=>{let{fundBalances:t,onManageFunds:n,isDistributionPending:r,onExecuteDistribution:i}=e;const o=t||{investments:0,travel:0,flexible:0};return(0,XL.jsxs)("div",{className:"mb-8",children:[r&&(0,XL.jsxs)("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-900/40 to-purple-900/40 border border-blue-500/30 rounded-xl flex justify-between items-center animate-pulse",children:[(0,XL.jsxs)("div",{className:"flex items-center gap-3",children:[(0,XL.jsx)("span",{className:"text-2xl",children:"\ud83d\udd14"}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("h4",{className:"font-bold text-white",children:"Distribuci\xf3n Mensual Pendiente"}),(0,XL.jsx)("p",{className:"text-xs text-blue-200",children:"Es d\xeda de cobro. \xbfQuieres repartir los fondos a tus carteras?"})]})]}),(0,XL.jsx)("button",{onClick:i,className:"px-4 py-2 bg-blue-500 hover:bg-blue-400 text-white font-bold rounded-lg shadow-lg transition transform hover:scale-105",children:"Ejecutar"})]}),(0,XL.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,XL.jsxs)("div",{className:"p-5 rounded-2xl border border-white/10 bg-gradient-to-br from-purple-900/20 to-black backdrop-blur-md relative overflow-hidden group",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsx)("h4",{className:"text-gray-400 text-sm font-medium",children:"Cartera de Inversiones"}),(0,XL.jsx)("p",{className:"text-2xl font-bold text-purple-300 mt-1",children:Number(o.investments||0).toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),(0,XL.jsx)("button",{onClick:()=>n("investments","Inversiones",o.investments),className:"p-2 bg-purple-500/20 hover:bg-purple-500/40 text-purple-300 rounded-lg transition",title:"Gestionar fondos",children:"\u2699\ufe0f"})]}),(0,XL.jsx)("p",{className:"text-xs text-gray-500 relative z-10",children:"Capital invertido acumulado"}),(0,XL.jsx)("div",{className:"absolute -right-4 -bottom-4 w-24 h-24 bg-purple-500/10 rounded-full blur-2xl group-hover:bg-purple-500/20 transition-all"})]}),(0,XL.jsxs)("div",{className:"p-5 rounded-2xl border border-white/10 bg-gradient-to-br from-blue-900/20 to-black backdrop-blur-md relative overflow-hidden group",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsx)("h4",{className:"text-gray-400 text-sm font-medium",children:"Hucha de Viajes"}),(0,XL.jsx)("p",{className:"text-2xl font-bold text-blue-300 mt-1",children:Number(o.travel||0).toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),(0,XL.jsx)("button",{onClick:()=>n("travel","Viajes",o.travel),className:"p-2 bg-blue-500/20 hover:bg-blue-500/40 text-blue-300 rounded-lg transition",title:"Gestionar fondos",children:"\u2699\ufe0f"})]}),(0,XL.jsx)("p",{className:"text-xs text-gray-500 relative z-10",children:"Fondo para aventuras"}),(0,XL.jsx)("div",{className:"absolute -right-4 -bottom-4 w-24 h-24 bg-blue-500/10 rounded-full blur-2xl group-hover:bg-blue-500/20 transition-all"})]}),(0,XL.jsxs)("div",{className:"p-5 rounded-2xl border border-white/10 bg-gradient-to-br from-emerald-900/20 to-black backdrop-blur-md relative overflow-hidden group",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsx)("h4",{className:"text-gray-400 text-sm font-medium",children:"Cartera Flexible"}),(0,XL.jsx)("p",{className:"text-2xl font-bold text-emerald-300 mt-1",children:Number(o.flexible||0).toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),(0,XL.jsx)("button",{onClick:()=>n("flexible","Flexible",o.flexible),className:"p-2 bg-emerald-500/20 hover:bg-emerald-500/40 text-emerald-300 rounded-lg transition",title:"Gestionar fondos",children:"\u2699\ufe0f"})]}),(0,XL.jsx)("p",{className:"text-xs text-gray-500 relative z-10",children:"Dinero disponible para imprevistos"}),(0,XL.jsx)("div",{className:"absolute -right-4 -bottom-4 w-24 h-24 bg-emerald-500/10 rounded-full blur-2xl group-hover:bg-emerald-500/20 transition-all"})]})]})]})},TF=e=>{let{financialProfile:t,currentDate:n,expenses:r,accumulatedCushion:i,onOpenCheckpoint:o,isFuture:a}=e;const{monthlySalary:s,payday:l,savingsTarget:c,budgets:u,monthlyBudgets:d}=t,h=new Date;let f=new Date(h.getFullYear(),h.getMonth(),l);h.getDate()>l&&(f=new Date(h.getFullYear(),h.getMonth()+1,l));const p=Math.ceil((f-h)/864e5),g="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"));let m=0,v=0,y=!1;r&&Object.entries(r).forEach(e=>{let[t,n]=e;t.startsWith(g)&&n.forEach(e=>{"income"===e.type?(m+=e.amount,("N\xf3mina"===e.category||s>0&&e.amount>=.9*s)&&(y=!0)):v+=e.amount})});const b=y?m-v:m+s-v,w=c>0?Math.min(b/c*100,100):0,x=(null===d||void 0===d?void 0:d[g])||u||{},_=Object.values(x).reduce((e,t)=>e+(Number(t)||0),0),S=(Number(s)||0)-_,E=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),k=n.getMonth()===h.getMonth()&&n.getFullYear()===h.getFullYear(),O=h.getDate();let T=v;k&&O>0&&(T=v/O*E);const C=(Number(s)||0)-T;return(0,XL.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,XL.jsxs)("div",{className:"p-4 rounded-xl border border-white/10 bg-black backdrop-blur-md flex flex-col items-center justify-center",children:[(0,XL.jsx)("span",{className:"text-gray-400 text-sm mb-1 uppercase tracking-wider",children:"Pr\xf3ximo Cobro"}),(0,XL.jsxs)("div",{className:"text-3xl font-bold text-blue-300",children:[p," d\xedas"]}),(0,XL.jsxs)("span",{className:"text-xs text-gray-500",children:["D\xeda ",l," de cada mes"]})]}),(0,XL.jsxs)("div",{className:"p-4 rounded-xl border border-white/10 bg-black backdrop-blur-md flex flex-col justify-center relative overflow-hidden",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-center mb-2 z-10 relative",children:[(0,XL.jsx)("span",{className:"text-gray-300 font-bold text-sm",children:"Meta de Ahorro"}),(0,XL.jsxs)("span",{className:"text-xs text-gray-400",children:[b.toLocaleString()," / ",c.toLocaleString()," \u20ac"]})]}),(0,XL.jsx)("div",{className:"w-full bg-neutral-800 rounded-full h-3 overflow-hidden mb-3 z-10 relative",children:(0,XL.jsx)("div",{className:"h-full transition-all duration-500 ".concat(b>=c?"bg-green-400":"bg-white"),style:{width:"".concat(Math.max(0,w),"%")}})}),(0,XL.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs z-10 relative",children:[(0,XL.jsxs)("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[(0,XL.jsx)("span",{className:"block text-gray-500 mb-0.5",children:"Gastos Asignados"}),(0,XL.jsxs)("span",{className:"font-mono text-white",children:[_.toLocaleString()," \u20ac"]})]}),(0,XL.jsxs)("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[(0,XL.jsx)("span",{className:"block text-gray-500 mb-0.5",children:"Ahorro Asignado"}),(0,XL.jsxs)("span",{className:"font-mono ".concat(S>=0?"text-green-300":"text-red-300"),children:[S.toLocaleString()," \u20ac"]})]}),(0,XL.jsxs)("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[(0,XL.jsx)("span",{className:"block text-gray-500 mb-0.5",children:"Gastos Previstos"}),(0,XL.jsxs)("span",{className:"font-mono text-yellow-200",children:[T.toLocaleString(void 0,{maximumFractionDigits:0})," \u20ac"]})]}),(0,XL.jsxs)("div",{className:"bg-white/5 p-2 rounded border border-white/5",children:[(0,XL.jsx)("span",{className:"block text-gray-500 mb-0.5",children:"Ahorro Previsto"}),(0,XL.jsxs)("span",{className:"font-mono ".concat(C>=0?"text-blue-300":"text-red-300"),children:[C.toLocaleString(void 0,{maximumFractionDigits:0})," \u20ac"]})]})]}),(0,XL.jsx)("div",{className:"absolute -right-4 -bottom-4 w-24 h-24 rounded-full blur-3xl opacity-20 ".concat(b>=c?"bg-green-500":"bg-blue-500")})]}),(0,XL.jsxs)("div",{className:"p-4 rounded-xl border border-white/10 bg-black backdrop-blur-md flex flex-col items-center justify-center relative group",children:[(0,XL.jsx)("span",{className:"text-gray-400 text-sm mb-1 uppercase tracking-wider",children:a?"Disponible Estimado":"Dinero Hoy"}),(0,XL.jsx)("div",{className:"text-3xl font-bold text-purple-300",children:i.toLocaleString("es-ES",{style:"currency",currency:"EUR"})}),(0,XL.jsx)("span",{className:"text-xs text-gray-500",children:a?"Salario - Aportaciones":"Saldo Acumulado Real"}),!a&&(0,XL.jsx)("button",{onClick:o,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1.5 bg-white hover:bg-gray-200 rounded-lg text-black text-xs font-bold shadow-lg",title:"Ajustar Saldo Real (Checkpoint)",children:"\ud83c\udfaf Ajustar"})]})]})},CF=e=>{var n,r,i,o,a,s,l,u,d,h;let{profile:f,onSave:p,onClose:g,onImport:m,onExport:v,initialTargetMonth:y="default"}=e;const[b,w]=(0,t.useState)(c(c({},f),{},{accounts:f.accounts||{bbva:0,revolut:0,cash:0},pockets:f.pockets||{expenses:0,subscriptions:0,travel:0,flexible:0,investments:0},fundBalances:f.fundBalances||{investments:0,travel:0,flexible:0},monthlyBudgets:f.monthlyBudgets||{},budgets:f.budgets||{Comidas:0,Planes:0,Regalos:0,Suscripciones:0,Caprichos:0,Otros:0}})),[x,_]=(0,t.useState)(y),S=(()=>{var e;return"default"===x?b.budgets||{}:(null===(e=b.monthlyBudgets)||void 0===e?void 0:e[x])||b.budgets||{}})(),E=e=>{const{name:t,value:n}=e.target;w(e=>c(c({},e),{},{[t]:n}))},k=e=>{const{name:t,value:n}=e.target;w(e=>c(c({},e),{},{accounts:c(c({},e.accounts),{},{[t]:Number(n)})}))},O=e=>{const{name:t,value:n}=e.target;w(e=>c(c({},e),{},{pockets:c(c({},e.pockets),{},{[t]:Number(n)})}))},T=e=>{const{name:t,value:n}=e.target;w(e=>c(c({},e),{},{fundBalances:c(c({},e.fundBalances),{},{[t]:Number(n)})}))},C=e=>{const{name:t,value:n}=e.target,r=Number(n);w(e=>{if("default"===x)return c(c({},e),{},{budgets:c(c({},e.budgets),{},{[t]:r})});{var n;const i=(null===(n=e.monthlyBudgets)||void 0===n?void 0:n[x])||e.budgets||{};return c(c({},e),{},{monthlyBudgets:c(c({},e.monthlyBudgets),{},{[x]:c(c({},i),{},{[t]:r})})})}})},I=(0,t.useMemo)(()=>{const e=[{value:"default",label:"Presupuesto Base (Por Defecto)"}],t=new Date;for(let n=0;n<12;n++){const r=new Date(t.getFullYear(),t.getMonth()+n,1),i="".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0")),o=r.toLocaleDateString("es-ES",{month:"long",year:"numeric"});e.push({value:i,label:o.charAt(0).toUpperCase()+o.slice(1)})}return e},[]);return(0,XL.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4 overflow-y-auto backdrop-blur-sm",children:(0,XL.jsxs)("div",{className:"w-full max-w-5xl p-8 rounded-3xl border border-white/10 shadow-2xl bg-neutral-950 text-white my-8",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsx)("h3",{className:"text-3xl font-bold text-white",children:"Configuraci\xf3n Financiera"}),(0,XL.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Define tus cuentas, ingresos y distribuci\xf3n ideal."})]}),(0,XL.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-white text-2xl",children:"\u2715"})]}),(0,XL.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,XL.jsxs)("div",{className:"space-y-6",children:[(0,XL.jsxs)("h4",{className:"text-xl font-bold text-blue-400 flex items-center gap-2",children:[(0,XL.jsx)("span",{children:"\ud83c\udfe6"})," Cuentas e Ingresos"]}),(0,XL.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 space-y-4",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1 uppercase tracking-wider",children:"Salario Mensual Neto"}),(0,XL.jsx)("input",{type:"number",name:"monthlySalary",value:b.monthlySalary,onChange:E,className:"w-full p-3 bg-black border border-white/20 rounded-lg focus:border-blue-500 text-white font-mono text-lg"})]}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1 uppercase tracking-wider",children:"D\xeda de Cobro"}),(0,XL.jsx)("input",{type:"number",name:"payday",min:"1",max:"31",value:b.payday,onChange:E,className:"w-full p-3 bg-black border border-white/20 rounded-lg focus:border-blue-500 text-white"})]})]}),(0,XL.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 space-y-4",children:[(0,XL.jsx)("h5",{className:"text-sm font-semibold text-gray-300",children:"Configuraci\xf3n de Saldos"}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-500 mb-1 uppercase tracking-wider",children:"Saldo Inicial (Base)"}),(0,XL.jsx)("p",{className:"text-[10px] text-gray-500 mb-1",children:"Dinero que ten\xedas antes de empezar a usar la app."}),(0,XL.jsx)("input",{type:"number",name:"initialBase",value:b.initialBase||0,onChange:E,className:"w-full p-3 bg-black border border-white/20 rounded-lg focus:border-blue-500 text-white font-mono text-lg"})]}),(0,XL.jsxs)("div",{className:"pt-2 border-t border-white/5",children:[(0,XL.jsx)("h5",{className:"text-xs font-semibold text-gray-400 mb-2",children:"Saldos de Cuentas (Referencia)"}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"BBVA"}),(0,XL.jsx)("input",{type:"number",name:"bbva",value:(null===(n=b.accounts)||void 0===n?void 0:n.bbva)||0,onChange:k,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right"})]}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Revolut"}),(0,XL.jsx)("input",{type:"number",name:"revolut",value:(null===(r=b.accounts)||void 0===r?void 0:r.revolut)||0,onChange:k,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right"})]})]})]})]}),(0,XL.jsxs)("div",{className:"space-y-6",children:[(0,XL.jsxs)("h4",{className:"text-xl font-bold text-purple-400 flex items-center gap-2",children:[(0,XL.jsx)("span",{children:"\ud83d\udce8"})," Distribuci\xf3n Mensual Ideal"]}),(0,XL.jsx)("p",{className:"text-xs text-gray-500",children:'Define cu\xe1nto quieres destinar a cada "bolsillo" mensualmente.'}),(0,XL.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 space-y-4",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Cartera de Gastos (Diarios)"}),(0,XL.jsx)("input",{type:"number",name:"expenses",value:(null===(i=b.pockets)||void 0===i?void 0:i.expenses)||0,onChange:O,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right focus:border-purple-500"})]}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Suscripciones (Fijos)"}),(0,XL.jsx)("input",{type:"number",name:"subscriptions",value:(null===(o=b.pockets)||void 0===o?void 0:o.subscriptions)||0,onChange:O,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right focus:border-purple-500"})]}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Viajes (Aportaci\xf3n)"}),(0,XL.jsx)("input",{type:"number",name:"travel",value:(null===(a=b.pockets)||void 0===a?void 0:a.travel)||0,onChange:O,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right focus:border-purple-500"})]}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Cartera Flexible (Aportaci\xf3n)"}),(0,XL.jsx)("input",{type:"number",name:"flexible",value:(null===(s=b.pockets)||void 0===s?void 0:s.flexible)||0,onChange:O,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right focus:border-purple-500"})]}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Inversiones (Aportaci\xf3n)"}),(0,XL.jsx)("input",{type:"number",name:"investments",value:(null===(l=b.pockets)||void 0===l?void 0:l.investments)||0,onChange:O,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right focus:border-purple-500"})]})]}),(0,XL.jsxs)("h4",{className:"text-xl font-bold text-emerald-400 flex items-center gap-2 mt-6",children:[(0,XL.jsx)("span",{children:"\ud83d\udcb0"})," Saldos Acumulados"]}),(0,XL.jsx)("p",{className:"text-xs text-gray-500",children:"\xbfCu\xe1nto dinero tienes YA en estas carteras?"}),(0,XL.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 space-y-4",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Cartera de Inversiones (Total)"}),(0,XL.jsx)("input",{type:"number",name:"investments",value:(null===(u=b.fundBalances)||void 0===u?void 0:u.investments)||0,onChange:T,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right focus:border-emerald-500"})]}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Hucha de Viajes (Total)"}),(0,XL.jsx)("input",{type:"number",name:"travel",value:(null===(d=b.fundBalances)||void 0===d?void 0:d.travel)||0,onChange:T,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right focus:border-emerald-500"})]}),(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Cartera Flexible (Total)"}),(0,XL.jsx)("input",{type:"number",name:"flexible",value:(null===(h=b.fundBalances)||void 0===h?void 0:h.flexible)||0,onChange:T,className:"w-full p-2 bg-black border border-white/10 rounded text-white text-right focus:border-emerald-500"})]})]})]}),(0,XL.jsxs)("div",{className:"space-y-6",children:[(0,XL.jsxs)("h4",{className:"text-xl font-bold text-green-400 flex items-center gap-2",children:[(0,XL.jsx)("span",{children:"\ud83d\udcca"})," L\xedmites por Categor\xeda"]}),(0,XL.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 space-y-3",children:[(0,XL.jsxs)("div",{className:"mb-4",children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-400 mb-1 uppercase tracking-wider",children:"Configurar para:"}),(0,XL.jsx)("select",{value:x,onChange:e=>_(e.target.value),className:"w-full p-2 bg-black border border-white/20 rounded text-white text-sm focus:border-green-500",children:I.map(e=>(0,XL.jsx)("option",{value:e.value,children:e.label},e.value))}),"default"!==x&&(0,XL.jsx)("p",{className:"text-xs text-green-400 mt-1",children:"Editando presupuesto espec\xedfico para este mes."})]}),["Comidas","Planes","Regalos","Suscripciones","Caprichos","Otros"].map(e=>(0,XL.jsxs)("div",{className:"flex items-center justify-between",children:[(0,XL.jsx)("label",{className:"text-sm text-gray-300",children:e}),(0,XL.jsx)("input",{type:"number",name:e,value:S[e]||0,onChange:C,className:"w-24 p-2 bg-black border border-white/10 rounded text-white text-right text-sm focus:border-green-500"})]},e))]}),(0,XL.jsxs)("div",{className:"pt-4 border-t border-white/10",children:[(0,XL.jsx)("h4",{className:"text-lg font-bold text-white mb-4",children:"Gesti\xf3n de Datos"}),(0,XL.jsxs)("div",{className:"flex gap-2",children:[(0,XL.jsx)("button",{onClick:v,className:"flex-1 p-2 bg-gray-800 hover:bg-gray-700 rounded text-xs font-bold border border-gray-600",children:"\ud83d\udce4 Exportar JSON"}),(0,XL.jsxs)("label",{className:"flex-1 p-2 bg-gray-800 hover:bg-gray-700 rounded text-xs font-bold border border-gray-600 cursor-pointer text-center",children:["\ud83d\udce5 Importar JSON",(0,XL.jsx)("input",{type:"file",accept:".json",onChange:m,className:"hidden"})]})]})]})]})]}),(0,XL.jsxs)("div",{className:"flex gap-4 mt-8 pt-6 border-t border-white/10",children:[(0,XL.jsx)("button",{onClick:g,className:"px-6 py-3 bg-transparent hover:bg-white/5 rounded-xl font-bold text-gray-400 transition",children:"Cancelar"}),(0,XL.jsx)("button",{onClick:()=>{p(c(c({},b),{},{monthlySalary:Number(b.monthlySalary),payday:Number(b.payday),savingsTarget:Number(b.savingsTarget),initialBase:Number(b.initialBase||0),budgets:b.budgets||{},monthlyBudgets:b.monthlyBudgets||{},accounts:b.accounts||{bbva:0,revolut:0,cash:0},pockets:b.pockets||{expenses:0,subscriptions:0,travel:0,flexible:0,investments:0},fundBalances:b.fundBalances||{investments:0,travel:0,flexible:0}}))},className:"flex-1 px-6 py-3 bg-white text-black hover:bg-gray-200 rounded-xl font-bold transition shadow-lg shadow-white/10",children:"Guardar Configuraci\xf3n"})]})]})})},IF=e=>{let{dateKey:t,expenses:n}=e;const r=n[t]||[],i=r.some(e=>e.description&&e.description.includes("Checkpoint")),o=r.reduce((e,t)=>"income"===t.type?e+t.amount:e-t.amount,0);return(0,XL.jsx)("div",{className:"flex flex-col items-center",children:r.length>0&&(0,XL.jsx)("span",{className:"text-xs font-bold ".concat(i?"text-yellow-400":o>=0?"text-green-400":"text-red-400"),children:o.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})})},AF=e=>{let{currentDate:t,navigateMonth:n,calendarWeeks:r,handleDayClick:i,selectedDay:o,weeklyTotals:a,expenses:s}=e;return(0,XL.jsxs)("div",{className:"w-full",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,XL.jsx)("button",{onClick:()=>n(-1),className:"p-2 text-white hover:text-gray-300 transition",children:(0,XL.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,XL.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,XL.jsxs)("h2",{className:"text-3xl font-extrabold text-white",children:[wF[t.getMonth()]," ",t.getFullYear()]}),(0,XL.jsx)("button",{onClick:()=>n(1),className:"p-2 text-white hover:text-gray-300 transition",children:(0,XL.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,XL.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),(0,XL.jsxs)("div",{className:"grid grid-cols-8 text-center font-semibold text-gray-400 text-sm",children:[bF.map(e=>(0,XL.jsx)("div",{className:"p-3 border-b border-white/10",children:e},e)),(0,XL.jsx)("div",{className:"p-3 border-b border-white/10 bg-white/5 text-white font-bold",children:"TOTAL SEMANA"})]}),r.map((e,t)=>(0,XL.jsxs)("div",{className:"grid grid-cols-8 gap-px p-1",children:[e.map((e,t)=>{const n=yF(e.date)===yF(new Date),r=e.dateKey===o;return(0,XL.jsxs)("div",{onClick:()=>i(e.dateKey),className:"\n                                p-2 h-20 flex flex-col items-center justify-start cursor-pointer transition\n                                backdrop-filter backdrop-blur-md bg-neutral-900 border border-white/5\n                                hover:bg-neutral-800 rounded-lg\n                                ".concat(e.isCurrentMonth?"text-white":"text-gray-600 opacity-60","\n                                ").concat(n?"border-2 border-white ring-2 ring-white/20":"","\n                                ").concat(r?"bg-neutral-800 border-white":"","\n                            "),children:[(0,XL.jsx)("span",{className:"text-lg font-medium",children:e.date.getDate()}),(0,XL.jsx)(IF,{dateKey:e.dateKey,expenses:s})]},t)}),(0,XL.jsx)("div",{className:"flex items-center justify-center p-2 rounded-lg \r backdrop-filter backdrop-blur-md bg-neutral-900 border border-white/10",children:(0,XL.jsx)("span",{className:"text-xl font-extrabold text-white",children:a[t].toLocaleString("es-ES",{style:"currency",currency:"EUR"})})})]},t))]})},NF=e=>{let{selectedDay:t,expenses:n,expenseAmount:r,setExpenseAmount:i,expenseDescription:o,setExpenseDescription:a,expenseType:s,setExpenseType:l,expenseCategory:c,setExpenseCategory:u,handleAddExpense:d,handleDeleteExpense:h,setSelectedDay:f,CATEGORIES:p,editingExpenseId:g,handleEditClick:m,handleCancelEdit:v}=e;if(!t)return null;const y=n[t]||[],b=y.reduce((e,t)=>"income"===t.type?e+t.amount:e-t.amount,0);return(0,XL.jsx)("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4",children:(0,XL.jsxs)("div",{className:"w-full max-w-lg p-6 rounded-xl border border-white/20 shadow-2xl\r backdrop-filter backdrop-blur-xl bg-gray-900/80 text-white",children:[(0,XL.jsxs)("h3",{className:"text-2xl font-bold mb-4 text-red-400",children:["Movimientos del ",new Date(t).toLocaleDateString("es-ES",{dateStyle:"full"})]}),(0,XL.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-white/5 border border-white/10",children:[(0,XL.jsx)("h4",{className:"text-xl font-semibold mb-3",children:g?"Editar Movimiento":"A\xf1adir Movimiento"}),(0,XL.jsxs)("div",{className:"flex p-1 bg-gray-800 rounded-lg mb-4 border border-gray-700",children:[(0,XL.jsxs)("button",{onClick:()=>{l("expense"),p.expense.includes(c)||u(p.expense[0])},className:"flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 flex items-center justify-center gap-2 ".concat("expense"===s?"bg-red-500 text-white shadow-lg shadow-red-900/50":"text-gray-400 hover:text-gray-200 hover:bg-gray-700"),children:[(0,XL.jsx)("span",{children:"\ud83d\udcc9"})," Gasto"]}),(0,XL.jsxs)("button",{onClick:()=>{l("income"),p.income.includes(c)||u(p.income[0])},className:"flex-1 py-2 rounded-md text-sm font-bold transition-all duration-200 flex items-center justify-center gap-2 ".concat("income"===s?"bg-green-500 text-white shadow-lg shadow-green-900/50":"text-gray-400 hover:text-gray-200 hover:bg-gray-700"),children:[(0,XL.jsx)("span",{children:"\ud83d\udcc8"})," Ingreso"]})]}),(0,XL.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,XL.jsx)("input",{type:"number",placeholder:"Monto (\u20ac)",value:r,onChange:e=>i(e.target.value),className:"flex-1 p-3 bg-gray-800 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:ring-red-500 focus:border-red-500"}),(0,XL.jsx)("select",{value:c,onChange:e=>u(e.target.value),className:"flex-1 p-3 bg-gray-800 border border-white/20 rounded-lg text-white focus:ring-red-500 focus:border-red-500",children:(p[s]||[]).map(e=>(0,XL.jsx)("option",{value:e,children:e},e))})]}),(0,XL.jsx)("textarea",{rows:"2",placeholder:"Descripci\xf3n (opcional)",value:o,onChange:e=>a(e.target.value),className:"w-full p-3 mb-4 bg-gray-800 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:ring-red-500 focus:border-red-500 resize-none"}),(0,XL.jsxs)("div",{className:"flex gap-2",children:[g&&(0,XL.jsx)("button",{onClick:v,className:"w-1/3 p-3 bg-gray-600 hover:bg-gray-500 rounded-lg font-bold transition",children:"Cancelar"}),(0,XL.jsxs)("button",{onClick:d,className:"flex-1 p-3 rounded-lg font-bold transition shadow-lg ".concat("income"===s?"bg-green-600 hover:bg-green-700 shadow-green-500/50":"bg-red-600 hover:bg-red-700 shadow-red-500/50"),children:[g?"Actualizar":"Guardar"," ","income"===s?"Ingreso":"Gasto"]})]})]}),y.length>0?(0,XL.jsxs)("div",{className:"mt-4 max-h-40 overflow-y-auto pr-2",children:[(0,XL.jsxs)("p",{className:"font-semibold text-lg mb-2",children:["Balance del D\xeda: ",(0,XL.jsx)("span",{className:b>=0?"text-green-400":"text-red-400",children:b.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),y.map(e=>{const t=e.description&&e.description.includes("Checkpoint");return(0,XL.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-700 last:border-b-0 ".concat(g===e.id?"bg-white/10 rounded px-2":""),children:[(0,XL.jsxs)("div",{className:"flex flex-col overflow-hidden mr-2",children:[(0,XL.jsx)("span",{className:"text-sm font-bold truncate ".concat(t?"text-yellow-400":""),children:e.category||"General"}),(0,XL.jsx)("span",{className:"text-xs truncate ".concat(t?"text-yellow-200/70":"text-gray-400"),children:e.description})]}),(0,XL.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[(0,XL.jsxs)("span",{className:"font-mono mr-3 ".concat(t?"text-yellow-400":"income"===e.type?"text-green-400":"text-red-300"),children:["income"===e.type?"+":"-",e.amount.toLocaleString("es-ES",{style:"currency",currency:"EUR"})]}),(0,XL.jsx)("button",{onClick:()=>m(e),className:"text-gray-400 hover:text-blue-400 transition mr-2",title:"Editar",children:(0,XL.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,XL.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,XL.jsx)("button",{onClick:()=>h(e.id),className:"text-gray-400 hover:text-red-500 transition",title:"Eliminar",children:(0,XL.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,XL.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id)})]}):(0,XL.jsx)("p",{className:"text-center text-gray-400 mt-4",children:"No hay movimientos registrados para este d\xeda."}),(0,XL.jsx)("button",{onClick:()=>f(null),className:"mt-6 w-full p-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-bold transition",children:"Cerrar"})]})})},PF=e=>{let{title:t,value:n,subtitle:r,color:i="text-red-300",onAdjust:o}=e;return(0,XL.jsxs)("div",{className:"p-5 rounded-2xl border border-white/10 shadow-lg \r backdrop-filter backdrop-blur-lg bg-neutral-950/50 relative group",children:[(0,XL.jsx)("p",{className:"text-sm font-light text-gray-300",children:t}),(0,XL.jsx)("p",{className:"text-4xl font-extrabold mt-1 ".concat(i),children:n.toLocaleString("es-ES",{style:"currency",currency:"EUR"})}),(0,XL.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:r}),o&&(0,XL.jsx)("button",{onClick:o,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1.5 bg-white hover:bg-gray-200 rounded-lg text-black text-xs font-bold shadow-lg",title:"Ajustar Saldo",children:"\ud83c\udfaf Ajustar"})]})},jF=e=>{let{category:t,expenses:n,onClose:r,onEditExpense:i}=e;if(!t)return null;const o=n.filter(e=>e.category===t).sort((e,t)=>new Date(t.date)-new Date(e.date)),a=o.reduce((e,t)=>e+t.amount,0);return(0,XL.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,XL.jsxs)("div",{className:"bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl border border-gray-700 max-h-[80vh] flex flex-col",children:[(0,XL.jsxs)("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800/50 rounded-t-2xl",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[(0,XL.jsx)("span",{children:"\ud83d\udcc2"})," ",t]}),(0,XL.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Desglose de gastos"})]}),(0,XL.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors p-2 hover:bg-gray-700 rounded-lg",children:"\u2715"})]}),(0,XL.jsxs)("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[(0,XL.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-4 mb-6 border border-gray-700 flex justify-between items-center",children:[(0,XL.jsx)("span",{className:"text-gray-300",children:"Total Gastado"}),(0,XL.jsxs)("span",{className:"text-2xl font-bold text-white",children:[a.toFixed(2),"\u20ac"]})]}),0===o.length?(0,XL.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay gastos registrados en esta categor\xeda este mes."}):(0,XL.jsx)("div",{className:"space-y-3",children:o.map(e=>(0,XL.jsx)("div",{onClick:()=>i(e),className:"bg-gray-700/40 p-4 rounded-xl border border-gray-700/50 hover:border-blue-500/50 hover:bg-gray-700 transition-all cursor-pointer group",children:(0,XL.jsxs)("div",{className:"flex justify-between items-start",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsx)("h4",{className:"font-medium text-white group-hover:text-blue-400 transition-colors",children:e.description}),(0,XL.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,XL.jsx)("span",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-0.5 rounded-full",children:new Date(e.date).toLocaleDateString()}),e.account&&(0,XL.jsxs)("span",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-0.5 rounded-full flex items-center gap-1",children:["\ud83d\udcb3 ",e.account]})]})]}),(0,XL.jsxs)("span",{className:"font-bold text-red-400",children:["-",e.amount.toFixed(2),"\u20ac"]})]})},e.id))})]})]})})},DF=e=>{let{onClose:n,onSave:r,currentAccounts:i}=e;const[o,a]=(0,t.useState)(yF(new Date)),[s,l]=(0,t.useState)(i||{bbva:0,revolut:0,cash:0}),u=e=>{const{name:t,value:n}=e.target;l(e=>c(c({},e),{},{[t]:parseFloat(n)||0}))},d=Object.values(s).reduce((e,t)=>e+t,0);return(0,XL.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm",children:(0,XL.jsxs)("div",{className:"w-full max-w-md p-6 rounded-3xl border border-white/10 shadow-2xl bg-neutral-950 text-white",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,XL.jsxs)("h3",{className:"text-2xl font-bold text-purple-400 flex items-center gap-2",children:[(0,XL.jsx)("span",{children:"\ud83c\udfaf"})," Ajustar Saldo Real"]}),(0,XL.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-white",children:"\u2715"})]}),(0,XL.jsx)("p",{className:"text-gray-400 text-sm mb-6 bg-white/5 p-3 rounded-xl border border-white/5",children:"Actualiza el saldo real de tus cuentas. La app calcular\xe1 la diferencia y crear\xe1 un movimiento de ajuste autom\xe1ticamente."}),(0,XL.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,XL.jsxs)("div",{children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-500 mb-1 uppercase tracking-wider font-bold",children:"Fecha del Ajuste"}),(0,XL.jsx)("input",{type:"date",value:o,onChange:e=>a(e.target.value),className:"w-full p-3 bg-black border border-white/20 rounded-xl focus:border-purple-500 text-white"})]}),(0,XL.jsxs)("div",{className:"space-y-3",children:[(0,XL.jsx)("label",{className:"block text-xs text-gray-500 uppercase tracking-wider font-bold",children:"Saldos por Cuenta"}),(0,XL.jsxs)("div",{className:"flex items-center justify-between bg-neutral-900 p-3 rounded-xl border border-white/5",children:[(0,XL.jsx)("span",{className:"text-blue-300 font-medium",children:"BBVA"}),(0,XL.jsx)("input",{type:"number",name:"bbva",step:"0.01",value:s.bbva,onChange:u,className:"w-32 bg-transparent text-right font-mono text-white focus:outline-none border-b border-white/20 focus:border-blue-500"})]}),(0,XL.jsxs)("div",{className:"flex items-center justify-between bg-neutral-900 p-3 rounded-xl border border-white/5",children:[(0,XL.jsx)("span",{className:"text-pink-300 font-medium",children:"Revolut"}),(0,XL.jsx)("input",{type:"number",name:"revolut",step:"0.01",value:s.revolut,onChange:u,className:"w-32 bg-transparent text-right font-mono text-white focus:outline-none border-b border-white/20 focus:border-pink-500"})]}),(0,XL.jsxs)("div",{className:"flex items-center justify-between bg-neutral-900 p-3 rounded-xl border border-white/5",children:[(0,XL.jsx)("span",{className:"text-green-300 font-medium",children:"Efectivo"}),(0,XL.jsx)("input",{type:"number",name:"cash",step:"0.01",value:s.cash,onChange:u,className:"w-32 bg-transparent text-right font-mono text-white focus:outline-none border-b border-white/20 focus:border-green-500"})]})]}),(0,XL.jsxs)("div",{className:"pt-4 border-t border-white/10 flex justify-between items-center",children:[(0,XL.jsx)("span",{className:"text-gray-400",children:"Total Real:"}),(0,XL.jsx)("span",{className:"text-2xl font-bold text-white",children:d.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]})]}),(0,XL.jsxs)("button",{onClick:()=>{r(o,d,s)},className:"w-full p-4 bg-white text-black hover:bg-gray-200 rounded-xl font-bold transition shadow-lg shadow-white/10 flex items-center justify-center gap-2",children:[(0,XL.jsx)("span",{children:"\ud83d\udcbe"})," Guardar y Ajustar"]})]})})},MF=e=>{let{onLogin:t}=e;return(0,XL.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4",children:[(0,XL.jsxs)("div",{className:"text-center mb-8",children:[(0,XL.jsx)("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-4",children:"Finanzas App"}),(0,XL.jsx)("p",{className:"text-gray-400 text-lg",children:"Tu control financiero personal en la nube."})]}),(0,XL.jsxs)("button",{onclick:t,className:"flex items-center gap-3 px-8 py-4 bg-white text-gray-900 rounded-full font-bold text-lg hover:bg-gray-100 transition shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:[(0,XL.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6"}),"Iniciar Sesi\xf3n con Google"]})]})},RF=e=>{let{expenses:t,currentDate:n}=e;const r=t.filter(e=>{const t=new Date(e.date);return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()&&"expense"===e.type}).reduce((e,t)=>{const n=t.category||"Otros",r=e.find(e=>e.name===n);return r?r.value+=t.amount:e.push({name:n,value:t.amount}),e},[]),i=["#d8b4fe","#86efac","#fca5a5","#93c5fd","#cbd5e1","#525252"];return(0,XL.jsxs)("div",{className:"bg-black p-6 rounded-2xl border border-white/10 shadow-xl mb-8",children:[(0,XL.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,XL.jsx)("span",{children:"\ud83d\udcc8"})," An\xe1lisis de Gastos"]}),(0,XL.jsx)("div",{className:"h-80 w-full",children:(0,XL.jsx)(Uf,{width:"100%",height:"100%",children:(0,XL.jsxs)(VN,{children:[(0,XL.jsx)(zR,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:n}=e;return"".concat(t," ").concat((100*n).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((e,t)=>(0,XL.jsx)(Jj,{fill:i[t%i.length]},"cell-".concat(t)))}),(0,XL.jsx)(AL,{contentStyle:{backgroundColor:"#000000",borderColor:"#333333",color:"#fff"},formatter:e=>"".concat(e.toFixed(2),"\u20ac")}),(0,XL.jsx)(YL,{})]})})})]})},LF=()=>{var e,n;const[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!0),[s,l]=(0,t.useState)({}),[u,d]=(0,t.useState)({monthlySalary:0,payday:1,savingsTarget:0,currency:"EUR",initialBase:0,budgets:{Comidas:0,Planes:0,Regalos:0,Suscripciones:0,Caprichos:0,Otros:0},monthlyBudgets:{},accounts:{bbva:0,revolut:0,cash:0},fundBalances:{investments:200,travel:55,flexible:120},pockets:{expenses:0,subscriptions:0,travel:55,flexible:20,investments:25},lastDistributionMonth:""});(0,t.useEffect)(()=>{const e=function(e,t,n,r){return D(e).onAuthStateChanged(t,n,r)}(Gh,async e=>{if(i(e),e)try{const t=await Yh(e.uid);l(t);const n=await Zh(e.uid);n&&d(e=>c(c({},e),n))}catch(t){console.error("Error loading data:",t)}else l({}),d({monthlySalary:0,payday:1,savingsTarget:0,currency:"EUR",initialBase:0,budgets:{Comidas:0,Planes:0,Regalos:0,Suscripciones:0,Caprichos:0,Otros:0},accounts:{bbva:0,revolut:0,cash:0},fundBalances:{investments:0,travel:0,flexible:0}});a(!1)});return()=>e()},[]);const[h,f]=(0,t.useState)(!1),[p,g]=(0,t.useState)("default"),[m,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[w,x]=(0,t.useState)(null),[_,S]=(0,t.useState)(!1),[E,k]=(0,t.useState)(null),[O,T]=(0,t.useState)(""),[C,I]=(0,t.useState)(0),[A,N]=(0,t.useState)(new Date),[P,j]=(0,t.useState)(null),[M,R]=(0,t.useState)(""),[L,F]=(0,t.useState)(""),[U,z]=(0,t.useState)("expense"),[V,B]=(0,t.useState)("Otros"),[q,H]=(0,t.useState)(null),[K,W]=(0,t.useState)("dashboard"),G=(0,t.useMemo)(()=>(e=>{const t=e.getFullYear(),n=e.getMonth();let r=new Date(t,n,1).getDay();r=0===r?6:r-1;const i=new Date(t,n+1,0).getDate(),o=[],a=new Date(t,n,0).getDate();for(let c=r-1;c>=0;c--)o.push({date:new Date(t,n-1,a-c),isCurrentMonth:!1});const s=[];for(let c=1;c<=i;c++)s.push({date:new Date(t,n,c),isCurrentMonth:!0});const l=[...o,...s],u=42-l.length,d=[];for(let c=1;c<=u;c++)d.push({date:new Date(t,n+1,c),isCurrentMonth:!1});return[...l,...d].map(e=>c(c({},e),{},{dateKey:yF(e.date)}))})(A),[A]),Q=(0,t.useMemo)(()=>(e=>{const t=[];for(let n=0;n<42;n+=7)t.push(e.slice(n,n+7));return t})(G),[G]),Y=(0,t.useMemo)(()=>{const e="".concat(A.getFullYear(),"-").concat(String(A.getMonth()+1).padStart(2,"0"));let t=0,n=0;return Object.entries(s).forEach(r=>{let[i,o]=r;i.startsWith(e)&&o.forEach(e=>{"income"===e.type?t+=e.amount:"expense"===e.type&&(n+=e.amount)})}),{income:t,expense:n,balance:t-n}},[s,A]),X=(0,t.useMemo)(()=>Q.map(e=>(e=>{let t=0;return e.forEach(e=>{(s[e.dateKey]||[]).forEach(e=>{"income"!==e.type&&(t+=e.amount)})}),t})(e)),[s,Q]),$=(0,t.useMemo)(()=>s?Object.values(s).flat():[],[s]),J=(0,t.useMemo)(()=>{const e=new Date,t=yF(e),n=$.reduce((e,n)=>n.date<=t?"income"===n.type?e+Number(n.amount):e-Number(n.amount):e,0);return(Number(u.initialBase)||0)+n},[$,u.initialBase]),Z=(0,t.useMemo)(()=>{var e,t,n;const r=((null===(e=u.fundBalances)||void 0===e?void 0:e.investments)||0)+((null===(t=u.fundBalances)||void 0===t?void 0:t.travel)||0)+((null===(n=u.fundBalances)||void 0===n?void 0:n.flexible)||0);return J+r},[J,u]),ee=(0,t.useMemo)(()=>{const e=new Date;return 12*(A.getFullYear()-e.getFullYear())+(A.getMonth()-e.getMonth())},[A]),te=ee>0,ne=(0,t.useMemo)(()=>{var e,t,n;if(!te)return u.fundBalances;const{investments:r,travel:i,flexible:o}=u.pockets||{};return{investments:((null===(e=u.fundBalances)||void 0===e?void 0:e.investments)||0)+r*ee,travel:((null===(t=u.fundBalances)||void 0===t?void 0:t.travel)||0)+i*ee,flexible:((null===(n=u.fundBalances)||void 0===n?void 0:n.flexible)||0)+o*ee}},[u,te,ee]),re=(0,t.useMemo)(()=>{if(!te)return J;const{investments:e,travel:t,flexible:n}=u.pockets||{},r=(Number(e)||0)+(Number(t)||0)+(Number(n)||0),i=(Number(u.monthlySalary)||0)-r;return J+i*ee},[te,J,u,ee]),ie=(0,t.useMemo)(()=>{if(!te)return Z;const e=Object.values(u.budgets||{}).reduce((e,t)=>e+(Number(t)||0),0),t=(Number(u.monthlySalary)||0)-e;return Z+t*ee},[te,Z,u,ee]),oe=e=>{N(t=>{const n=new Date(t);return n.setMonth(t.getMonth()+e),n})},ae=e=>{R(e.amount.toString()),F(e.description),z(e.type),B(e.category),H(e.id)},se=e=>{j(e.date),ae(e),x(null)},le=(0,t.useMemo)(()=>w?$.filter(e=>{const t=new Date(e.date);return e.category===w&&t.getMonth()===A.getMonth()&&t.getFullYear()===A.getFullYear()}):[],[w,$,A]),ce=(0,t.useMemo)(()=>{if(!u.payday)return!1;const e=new Date,t=yF(e).substring(0,7);return u.lastDistributionMonth!==t&&e.getDate()>=u.payday},[u]);return o?(0,XL.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Cargando..."}):r?(0,XL.jsxs)("div",{className:"min-h-screen bg-black text-white font-sans flex flex-col items-center p-4",children:[(0,XL.jsx)("style",{jsx:"true",children:"\n                /* Estilo de la barra de desplazamiento para el efecto visual */\n                .glass-scroll::-webkit-scrollbar {\n                    width: 8px;\n                }\n                .glass-scroll::-webkit-scrollbar-thumb {\n                    background-color: rgba(255, 255, 255, 0.2);\n                    border-radius: 10px;\n                }\n                .glass-scroll::-webkit-scrollbar-track {\n                    background: rgba(0, 0, 0, 0.1);\n                }\n\n                /* Custom Scrollbar para Smart Insights */\n                .custom-scrollbar::-webkit-scrollbar {\n                    width: 6px;\n                }\n                .custom-scrollbar::-webkit-scrollbar-track {\n                    background: rgba(255, 255, 255, 0.05);\n                    border-radius: 4px;\n                }\n                .custom-scrollbar::-webkit-scrollbar-thumb {\n                    background: rgba(255, 255, 255, 0.2);\n                    border-radius: 4px;\n                }\n                .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n                    background: rgba(255, 255, 255, 0.3);\n                }\n            "}),(0,XL.jsxs)("div",{className:"w-full max-w-8xl p-6 rounded-3xl shadow-2xl border border-white/10 \r backdrop-filter backdrop-blur-3xl bg-black transition duration-500",children:[(0,XL.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,XL.jsx)("h1",{className:"text-4xl font-extrabold text-white",children:"Calendario Financiero"}),(0,XL.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,XL.jsxs)("span",{className:"text-sm text-gray-400 hidden md:inline",children:["Hola, ",r.displayName]}),(0,XL.jsx)("button",{onClick:()=>{g("default"),f(!0)},className:"p-2 bg-neutral-900 hover:bg-neutral-800 rounded-lg text-gray-300 transition border border-white/10",title:"Configuraci\xf3n",children:"\u2699\ufe0f"}),(0,XL.jsx)("button",{onClick:async()=>{try{await function(e){return D(e).signOut()}(Gh)}catch(e){console.error("Logout failed:",e)}},className:"p-2 bg-neutral-900 hover:bg-neutral-800 text-red-300 rounded-lg transition border border-white/10",title:"Cerrar Sesi\xf3n",children:"\ud83d\udeaa"})]})]}),(0,XL.jsxs)("div",{className:"flex p-1 bg-neutral-900 rounded-xl mb-8 border border-white/10 backdrop-blur-sm",children:[(0,XL.jsxs)("button",{onClick:()=>W("dashboard"),className:"flex-1 py-3 rounded-lg font-bold transition-all duration-300 flex items-center justify-center gap-2 ".concat("dashboard"===K?"bg-neutral-800 text-white border border-white/10 shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,XL.jsx)("span",{children:"\ud83d\udcca"})," ",(0,XL.jsx)("span",{className:"hidden sm:inline",children:"Dashboard"})]}),(0,XL.jsxs)("button",{onClick:()=>W("calendar"),className:"flex-1 py-3 rounded-lg font-bold transition-all duration-300 flex items-center justify-center gap-2 ".concat("calendar"===K?"bg-neutral-800 text-white border border-white/10 shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,XL.jsx)("span",{children:"\ud83d\udcc5"})," ",(0,XL.jsx)("span",{className:"hidden sm:inline",children:"Calendario"})]}),(0,XL.jsxs)("button",{onClick:()=>W("history"),className:"flex-1 py-3 rounded-lg font-bold transition-all duration-300 flex items-center justify-center gap-2 ".concat("history"===K?"bg-neutral-800 text-white border border-white/10 shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,XL.jsx)("span",{children:"\ud83d\udcdc"})," ",(0,XL.jsx)("span",{className:"hidden sm:inline",children:"Movimientos"})]})]}),"dashboard"===K&&(0,XL.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,XL.jsx)(SF,{currentDate:A,navigateMonth:oe}),(0,XL.jsx)(TF,{expenses:s,currentDate:A,financialProfile:u,accumulatedCushion:re,onOpenCheckpoint:()=>b(!0),isFuture:te}),(0,XL.jsx)(OF,{fundBalances:ne,onManageFunds:(e,t,n)=>{k(e),T(t),I(n||0),S(!0)},isDistributionPending:ce,onExecuteDistribution:()=>{const e=yF(new Date).substring(0,7),{investments:t,travel:n,flexible:i}=u.pockets||{investments:0,travel:0,flexible:0},o=c({},s),a=yF(new Date),h=(e,t)=>({id:"undefined"!==typeof crypto&&crypto.randomUUID?crypto.randomUUID():Date.now().toString()+Math.random(),date:a,amount:Number(e),description:"Aportaci\xf3n Mensual: ".concat(t),type:"transfer",category:"Otros",createdAt:(new Date).toISOString(),userId:r.uid}),f=[];if(t>0&&f.push(h(t,"Inversiones")),n>0&&f.push(h(n,"Viajes")),i>0&&f.push(h(i,"Flexible")),0===f.length)return void alert("\u26a0\ufe0f No hay cantidades definidas en la distribuci\xf3n mensual (Configuraci\xf3n > Distribuci\xf3n Ideal).");o[a]||(o[a]=[]),o[a].push(...f);const p=c({},u.fundBalances);p.investments=(p.investments||0)+Number(t),p.travel=(p.travel||0)+Number(n),p.flexible=(p.flexible||0)+Number(i);const g=c(c({},u),{},{fundBalances:p,lastDistributionMonth:e});l(o),d(g),f.forEach(e=>Xh(e)),ef(g,r.uid),alert("\u2705 Distribuci\xf3n mensual ejecutada correctamente.")}}),(0,XL.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,XL.jsx)(PF,{title:"Salario Base",value:Y.income,subtitle:"Total Ingresado",color:"text-green-300"}),(0,XL.jsx)(PF,{title:"Gastos",value:Y.expense,subtitle:"Total Gastado",color:"text-red-300"}),(0,XL.jsx)(PF,{title:"Balance",value:Y.balance,subtitle:"Diferencia",color:Y.balance>=0?"text-blue-300":"text-orange-300"}),(0,XL.jsx)(PF,{title:te?"Colch\xf3n Proyectado":"Colch\xf3n Acumulado",value:ie,subtitle:te?"Estimaci\xf3n Futura":"Dinero Hoy + Carteras",color:ie>=0?"text-purple-300":"text-red-300",onAdjust:()=>b(!0)})]}),(0,XL.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,XL.jsx)(RF,{expenses:$,currentDate:A}),(0,XL.jsx)(_F,{budgets:(null===(e=u.monthlyBudgets)||void 0===e?void 0:e["".concat(A.getFullYear(),"-").concat(String(A.getMonth()+1).padStart(2,"0"))])||u.budgets,isCustomBudget:!(null===(n=u.monthlyBudgets)||void 0===n||!n["".concat(A.getFullYear(),"-").concat(String(A.getMonth()+1).padStart(2,"0"))]),expenses:$,currentDate:A,onCategoryClick:e=>{x(e)},onEditBudget:()=>{g("".concat(A.getFullYear(),"-").concat(String(A.getMonth()+1).padStart(2,"0"))),f(!0)}})]}),(0,XL.jsx)($L,{expenses:$,currentDate:A,financialProfile:u,accumulatedCushion:J})]}),"calendar"===K&&(0,XL.jsx)("div",{className:"animate-fade-in",children:(0,XL.jsx)(AF,{currentDate:A,navigateMonth:oe,calendarWeeks:Q,handleDayClick:e=>{j(e),R(""),F(""),z("expense"),B("Otros"),H(null)},selectedDay:P,weeklyTotals:X,expenses:s})}),"history"===K&&(0,XL.jsx)("div",{className:"animate-fade-in",children:(0,XL.jsx)(EF,{expenses:$,onEditExpense:se})}),(0,XL.jsx)("p",{className:"mt-8 text-xs text-center text-gray-400 break-all",children:"Datos sincronizados en la nube con Firebase"})]}),(0,XL.jsx)(NF,{selectedDay:P,expenses:s,expenseAmount:M,setExpenseAmount:R,expenseDescription:L,setExpenseDescription:F,expenseType:U,setExpenseType:z,expenseCategory:V,setExpenseCategory:B,handleAddExpense:()=>{if(!P)return;const e=parseFloat(M);if(isNaN(e)||e<=0)return;const t=c({},s);if(q){const n=(t[P]||[]).map(t=>{if(t.id===q){const n=c(c({},t),{},{amount:e,description:L||("income"===U?"Ingreso":"Gasto"),type:U,category:V});return Xh(n),n}return t});t[P]=n,H(null)}else{const n={id:"undefined"!==typeof crypto&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(),date:P,amount:e,description:L||("income"===U?"Ingreso":"Gasto"),type:U,category:V,createdAt:(new Date).toISOString(),userId:r.uid},i=t[P]?[...t[P]]:[];i.push(n),t[P]=i,Xh(n)}l(t),R(""),F("")},handleDeleteExpense:e=>{const t=c({},s);P&&t[P]&&(t[P]=t[P].filter(t=>t.id!==e),0===t[P].length&&delete t[P],l(t),$h(e))},setSelectedDay:j,CATEGORIES:xF,editingExpenseId:q,handleEditClick:ae,handleCancelEdit:()=>{R(""),F(""),H(null),z("expense"),B("Otros")}}),h&&(0,XL.jsx)(CF,{profile:u,onSave:e=>{d(e),ef(e,r.uid),f(!1)},onClose:()=>f(!1),onImport:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{try{const t=JSON.parse(e.target.result);if(!r)return void alert("Debes iniciar sesi\xf3n para importar datos.");const n=e=>{const t={};return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)&&(t[n]=i.map(e=>c(c({},e),{},{id:e.id||("undefined"!==typeof crypto&&crypto.randomUUID?crypto.randomUUID():Date.now().toString()+Math.random().toString().slice(2)),userId:r.uid})))}),t};if(t.expenses){const e=n(t.expenses);l(e),Jh(e),t.financialProfile&&(d(t.financialProfile),ef(t.financialProfile,r.uid))}else{const e=n(t);l(e),Jh(e)}alert("Datos importados y guardados en Firebase correctamente.")}catch(t){console.error("Error al importar:",t),alert("Error al importar el archivo. Aseg\xfarate de que es un JSON v\xe1lido.")}},n.readAsText(t)},onExport:()=>{const e={expenses:s,financialProfile:u},t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="finanzas_backup_".concat(yF(new Date),".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},initialTargetMonth:p}),w&&(0,XL.jsx)(jF,{category:w,expenses:le,onClose:()=>x(null),onEditExpense:se}),y&&(0,XL.jsx)(DF,{onClose:()=>b(!1),onSave:(e,t,n)=>{const i=new Date(e),o=(new Date(i.getFullYear(),i.getMonth(),i.getDate(),23,59,59),yF(i)),a=$.filter(e=>e.date<=o),h=t-((u.initialBase||0)+a.reduce((e,t)=>"income"===t.type?e+Number(t.amount):e-Number(t.amount),0));if(n){const e=c(c({},u),{},{accounts:n});d(e),ef(e,r.uid)}if(Math.abs(h)<.01)return alert("\u2705 El balance calculado ya coincide con el real. Se han actualizado los saldos de las cuentas."),void b(!1);const f=h>0?"income":"expense",p=Math.abs(h),g={id:"undefined"!==typeof crypto&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(),date:yF(i),amount:p,description:"\ud83d\udd04 Ajuste de Balance (Checkpoint)",type:f,category:"Otros",createdAt:(new Date).toISOString(),userId:r.uid},m=yF(i),v=c({},s);v[m]||(v[m]=[]),v[m].push(g),l(v),Xh(g),b(!1),alert("\u2705 Balance ajustado correctamente.\nSe ha creado un movimiento de ".concat("income"===f?"ingreso":"gasto"," de ").concat(p.toFixed(2),"\u20ac."))},currentAccounts:u.accounts}),_&&(0,XL.jsx)(kF,{fundName:O,currentBalance:C,onClose:()=>S(!1),onSave:(e,t,n,i)=>{var o;if(!E)return;let a=0,h=0,f="expense",p="";const g=Number((null===(o=u.fundBalances)||void 0===o?void 0:o[E])||0);if("add"===n){const t=parseFloat(e);if(isNaN(t)||0===t)return;a=g+t,h=Math.abs(t),t>0?(p="Transferencia a ".concat(O),f="transfer"):(p="Retirada de ".concat(O),f="income")}else if("set"===n){const e=parseFloat(i);if(isNaN(e))return;a=e;const t=e-g;if(0===t)return void S(!1);h=Math.abs(t),t>0?(p="Ajuste: ".concat(O," (Aumento)"),f="transfer"):(p="Ajuste: ".concat(O," (Disminuci\xf3n)"),f="income")}const m=c({},u);if(m.fundBalances||(m.fundBalances={investments:0,travel:0,flexible:0}),m.fundBalances[E]=a,d(m),ef(m,r.uid),t&&h>0){const e={id:"undefined"!==typeof crypto&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(),date:yF(new Date),amount:h,description:p,type:f,category:"Otros",createdAt:(new Date).toISOString(),userId:r.uid},t=yF(new Date),n=c({},s);n[t]||(n[t]=[]),n[t].push(e),l(n),Xh(e)}S(!1),alert("\u2705 Saldo de ".concat(O," actualizado a ").concat(a.toLocaleString("es-ES",{style:"currency",currency:"EUR"}),"."))}})]}):(0,XL.jsx)(MF,{onLogin:async()=>{try{await async function(e,t,n){if(We(e.app))return Promise.reject(Bc(e,"operation-not-supported-in-this-environment"));const r=Xu(e);Kc(e,t,vd);const i=eh(r,n);return new sh(r,"signInViaPopup",t,i).executeNotNull()}(Gh,Qh)}catch(e){console.error("Login failed:",e)}}})};i.createRoot(document.getElementById("root")).render((0,XL.jsx)(t.StrictMode,{children:(0,XL.jsx)(LF,{})}))})()})();
//# sourceMappingURL=main.7a44aff6.js.map